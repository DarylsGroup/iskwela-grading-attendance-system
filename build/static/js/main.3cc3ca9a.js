/*! For license information please see main.3cc3ca9a.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},149:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},320:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},438:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).get(e)}},539:(e,t,r)=>{var n=r(9742),a=r(7498),i=r(3279);e.exports=function(e){return e&&e.length?n(e,i,a):void 0}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},620:(e,t,r)=>{var n=r(6913),a=r(4052),i=r(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==n(e)}},643:(e,t,r)=>{var n=r(7676)("toUpperCase");e.exports=n},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[i,o,s].join("|")+")"+c+l+")*"),d="(?:"+[i+n+"?",n,o,s,r].join("|")+")",f=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(f)||[]}},755:(e,t,r)=>{var n=r(8895),a=r(7116);e.exports=function e(t,r,i,o,s){var l=-1,c=t.length;for(i||(i=a),s||(s=[]);++l<c;){var u=t[l];r>0&&i(u)?r>1?e(u,r-1,i,o,s):n(s,u):o||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},801:(e,t,r)=>{var n=r(1141),a=r(6686),i=r(9841),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):o.test(e)?NaN:+e}},914:(e,t,r)=>{var n=r(9841);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,r)=>{var n=r(3211),a=r(6571),i=r(9194),o=r(6686);e.exports=function(e,t,r){if(!o(r))return!1;var s=typeof t;return!!("number"==s?a(r)&&i(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},977:(e,t,r)=>{var n=r(9096),a=r(4416);e.exports=function(e,t){return e&&e.length?a(e,n(t,2)):[]}},1069:(e,t,r)=>{var n=r(8541);e.exports=function(e){return null==e?"":n(e)}},1141:(e,t,r)=>{var n=r(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},1143:(e,t,r)=>{var n=r(3028)(Object.keys,Object);e.exports=n},1153:(e,t,r)=>{"use strict";var n=r(5043),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},1210:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(8829)),i=n(r(5736)),o=r(5745);class s{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new s(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:a=!1,count:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new URL("".concat(this.url,"/rpc/").concat(e));let l;n||a?(t=n?"HEAD":"GET",Object.entries(r).filter((e=>{let[t,r]=e;return void 0!==r})).map((e=>{let[t,r]=e;return[t,Array.isArray(r)?"{".concat(r.join(","),"}"):"".concat(r)]})).forEach((e=>{let[t,r]=e;s.searchParams.append(t,r)}))):(t="POST",l=r);const c=Object.assign({},this.headers);return o&&(c.Prefer="count=".concat(o)),new i.default({method:t,url:s,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=s},1268:(e,t,r)=>{var n=r(5428),a=r(7574),i=r(6832),o=i&&i.isTypedArray,s=o?a(o):n;e.exports=s},1310:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},1340:(e,t,r)=>{var n=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},1497:(e,t,r)=>{"use strict";var n=r(3218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,i,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},1558:e=>{e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},1629:(e,t,r)=>{var n=r(6913),a=r(6686);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,r)=>{var n=r(1340);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},1733:(e,t,r)=>{var n=r(1775),a=r(4664),i=r(9096);e.exports=function(e,t){var r={};return t=i(t,3),a(e,(function(e,a,i){n(r,a,t(e,a,i))})),r}},1775:(e,t,r)=>{var n=r(5654);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},1946:(e,t,r)=>{var n=r(1340);e.exports=function(e){return n(this.__data__,e)>-1}},2070:(e,t,r)=>{var n=r(7937)(r(6552),"Set");e.exports=n},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},2154:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},2165:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r;return n(e,(function(e,n,a){return!(r=t(e,n,a))})),!!r}},2322:(e,t,r)=>{var n=r(6913),a=r(5990),i=r(2761),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==u}},2520:(e,t,r)=>{var n=r(5816),a=r(9096),i=r(9140),o=Math.max;e.exports=function(e,t,r){var s=null==e?0:e.length;if(!s)return-1;var l=null==r?0:i(r);return l<0&&(l=o(s+l,0)),n(e,a(t,3),l)}},2536:(e,t,r)=>{var n=r(149),a=r(2969),i=r(9096),o=r(8883),s=r(320),l=r(7574),c=r(5893),u=r(3279),d=r(4052);e.exports=function(e,t,r){t=t.length?n(t,(function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[u];var f=-1;t=n(t,l(i));var h=o(e,(function(e,r,a){return{criteria:n(t,(function(t){return t(e)})),index:++f,value:e}}));return s(h,(function(e,t){return c(e,t,r)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},2597:(e,t,r)=>{var n=r(4052),a=r(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},2622:(e,t,r)=>{var n=r(705);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},2662:(e,t,r)=>{var n=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,r)=>{"use strict";var n=r(5043),a=r(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,r,n,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=y.hasOwnProperty(t)?y[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),N=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=n.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return q(e(t))}catch(r){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Y(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=W(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Q(e,t);var r=W(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function ie(e,t){var r=W(t.value),n=W(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ye(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,_e=null,ke=null;function Se(e){if(e=ba(e)){if("function"!==typeof je)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function Oe(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Ne(){if(_e){var e=_e,t=ke;if(ke=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Ae=!1;function Te(e,t,r){if(Ae)return e(t,r);Ae=!0;try{return Ee(e,t,r)}finally{Ae=!1,(null!==_e||null!==ke)&&(Pe(),Ne())}}function Ce(e,t){var r=e.stateNode;if(null===r)return null;var n=wa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var Me=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Me=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Me=!1}function Ie(e,t,r,n,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,ze=null,Ue={onError:function(e){Re=!0,Le=e}};function Be(e,t,r,n,a,i,o,s,l){Re=!1,Le=null,Ie.apply(Ue,arguments)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return We(a),e;if(o===n)return We(a),t;o=o.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=o;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=o;break}if(l===n){s=!0,n=a,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=a;break}if(l===n){s=!0,n=o,r=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ze=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Qe=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&r;if(0!==o){var s=o&~a;0!==s?n=dt(s):0!==(i&=o)&&(n=dt(i))}else 0!==(o=r&~a)?n=dt(o):0!==i&&(n=dt(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-ot(t)),n|=e[r],t&=~a;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function vt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,_t,kt,St,Ot=!1,Nt=[],Et=null,Pt=null,At=null,Tt=new Map,Ct=new Map,Mt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function Rt(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=va(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void St(e.priority,(function(){_t(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ba(r))&&jt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);xe=n,r.target.dispatchEvent(n),xe=null,t.shift()}return!0}function zt(e,t,r){Ft(e)&&r.delete(t)}function Ut(){Ot=!1,null!==Et&&Ft(Et)&&(Et=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==At&&Ft(At)&&(At=null),Tt.forEach(zt),Ct.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Bt(t,e)}if(0<Nt.length){Bt(Nt[0],e);for(var r=1;r<Nt.length;r++){var n=Nt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Pt&&Bt(Pt,e),null!==At&&Bt(At,e),Tt.forEach(t),Ct.forEach(t),r=0;r<Mt.length;r++)(n=Mt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&null===(r=Mt[0]).blockedOn;)Lt(r),null===r.blockedOn&&Mt.shift()}var Vt=x.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,r,n){var a=bt,i=Vt.transition;Vt.transition=null;try{bt=1,Zt(e,t,r,n)}finally{bt=a,Vt.transition=i}}function Gt(e,t,r,n){var a=bt,i=Vt.transition;Vt.transition=null;try{bt=4,Zt(e,t,r,n)}finally{bt=a,Vt.transition=i}}function Zt(e,t,r,n){if(Wt){var a=$t(e,t,r,n);if(null===a)Wn(e,t,n,Kt,r),It(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Et=Rt(Et,e,t,r,n,a),!0;case"dragenter":return Pt=Rt(Pt,e,t,r,n,a),!0;case"mouseover":return At=Rt(At,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Tt.set(i,Rt(Tt.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ct.set(i,Rt(Ct.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(It(e,n),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&wt(i),null===(i=$t(e,t,r,n))&&Wn(e,t,n,Kt,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else Wn(e,t,n,null,r)}}var Kt=null;function $t(e,t,r,n){if(Kt=null,null!==(e=va(e=we(n))))if(null===(t=qe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Jt=null;function er(){if(Jt)return Jt;var e,t,r=Xt,n=r.length,a="value"in Qt?Qt.value:Qt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[i-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,i){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,or,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),ur=L({},lr,{view:0,detail:0}),dr=ar(ur),fr=L({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ir=e.screenX-sr.screenX,or=e.screenY-sr.screenY):or=ir=0,sr=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:or}}),hr=ar(fr),pr=ar(L({},fr,{dataTransfer:0})),mr=ar(L({},ur,{relatedTarget:0})),yr=ar(L({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=L({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vr=ar(gr),br=ar(L({},lr,{data:0})),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _r(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function kr(){return _r}var Sr=L({},ur,{key:function(e){if(e.key){var t=xr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Or=ar(Sr),Nr=ar(L({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=ar(L({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Pr=ar(L({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ar=L({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tr=ar(Ar),Cr=[9,13,27,32],Mr=u&&"CompositionEvent"in window,Dr=null;u&&"documentMode"in document&&(Dr=document.documentMode);var Ir=u&&"TextEvent"in window&&!Dr,Rr=u&&(!Mr||Dr&&8<Dr&&11>=Dr),Lr=String.fromCharCode(32),Fr=!1;function zr(e,t){switch(e){case"keyup":return-1!==Cr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Br=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Wr(e,t,r,n){Oe(n),0<(t=Gn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hr=null,Gr=null;function Zr(e){Fn(e,0)}function Kr(e){if(Z(xa(e)))return e}function $r(e,t){if("change"===e)return t}var Yr=!1;if(u){var Qr;if(u){var Xr="oninput"in document;if(!Xr){var Jr=document.createElement("div");Jr.setAttribute("oninput","return;"),Xr="function"===typeof Jr.oninput}Qr=Xr}else Qr=!1;Yr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){Hr&&(Hr.detachEvent("onpropertychange",tn),Gr=Hr=null)}function tn(e){if("value"===e.propertyName&&Kr(Gr)){var t=[];Wr(t,Gr,e,we(e)),Te(Zr,t)}}function rn(e,t,r){"focusin"===e?(en(),Gr=r,(Hr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Gr)}function an(e,t){if("click"===e)return Kr(t)}function on(e,t){if("input"===e||"change"===e)return Kr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!sn(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=fn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=void 0===n.end?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=un(r,i);var o=un(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=u&&"documentMode"in document&&11>=document.documentMode,yn=null,gn=null,vn=null,bn=!1;function xn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==yn||yn!==K(n)||("selectionStart"in(n=yn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=Gn(gn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},_n={},kn={};function Sn(e){if(_n[e])return _n[e];if(!jn[e])return e;var t,r=jn[e];for(t in r)if(r.hasOwnProperty(t)&&t in kn)return _n[e]=r[t];return e}u&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var On=Sn("animationend"),Nn=Sn("animationiteration"),En=Sn("animationstart"),Pn=Sn("transitionend"),An=new Map,Tn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){An.set(e,t),l(t,[e])}for(var Mn=0;Mn<Tn.length;Mn++){var Dn=Tn[Mn];Cn(Dn.toLowerCase(),"on"+(Dn[0].toUpperCase()+Dn.slice(1)))}Cn(On,"onAnimationEnd"),Cn(Nn,"onAnimationIteration"),Cn(En,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rn=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Ln(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,s,l,c){if(Be.apply(this,arguments),Re){if(!Re)throw Error(i(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,ze=u)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Ln(a,s,c),i=l}else for(o=0;o<n.length;o++){if(l=(s=n[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Ln(a,s,c),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zn(e,t){var r=t[ma];void 0===r&&(r=t[ma]=new Set);var n=e+"__bubble";r.has(n)||(Vn(t,e,2,!1),r.add(n))}function Un(e,t,r){var n=0;t&&(n|=4),Vn(r,e,n,t)}var Bn="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[Bn]){e[Bn]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rn.has(t)||Un(t,!1,e),Un(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bn]||(t[Bn]=!0,Un("selectionchange",!1,t))}}function Vn(e,t,r,n){switch(Yt(t)){case 1:var a=Ht;break;case 4:a=Gt;break;default:a=Zt}r=a.bind(null,t,r,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Wn(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=va(s)))return;if(5===(l=o.tag)||6===l){n=i=o;continue e}s=s.parentNode}}n=n.return}Te((function(){var n=i,a=we(r),o=[];e:{var s=An.get(e);if(void 0!==s){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Or;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Er;break;case On:case Nn:case En:l=yr;break;case Pn:l=Pr;break;case"scroll":l=dr;break;case"wheel":l=Tr;break;case"copy":case"cut":case"paste":l=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nr}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=n;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ce(p,f))&&u.push(Hn(p,m,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,r,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===xe||!(c=r.relatedTarget||r.fromElement)||!va(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?va(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=hr,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nr,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:xa(l),h=null==c?s:xa(c),(s=new u(m,p+"leave",l,r,a)).target=d,s.relatedTarget=h,m=null,va(a)===n&&((u=new u(f,p+"enter",c,r,a)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Zn(h))p++;for(h=0,m=f;m;m=Zn(m))h++;for(;0<p-h;)u=Zn(u),p--;for(;0<h-p;)f=Zn(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Zn(u),f=Zn(f)}u=null}else u=null;null!==l&&Kn(o,s,l,u,!1),null!==c&&null!==d&&Kn(o,d,c,u,!0)}if("select"===(l=(s=n?xa(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=$r;else if(Vr(s))if(Yr)y=on;else{y=nn;var g=rn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=an);switch(y&&(y=y(e,n))?Wr(o,y,r,a):(g&&g(e,s,n),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=n?xa(n):window,e){case"focusin":(Vr(g)||"true"===g.contentEditable)&&(yn=g,gn=n,vn=null);break;case"focusout":vn=gn=yn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,xn(o,r,a);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":xn(o,r,a)}var v;if(Mr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Br?zr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Rr&&"ko"!==r.locale&&(Br||"onCompositionStart"!==b?"onCompositionEnd"===b&&Br&&(v=er()):(Xt="value"in(Qt=a)?Qt.value:Qt.textContent,Br=!0)),0<(g=Gn(n,b)).length&&(b=new br(b,e,null,r,a),o.push({event:b,listeners:g}),v?b.data=v:null!==(v=Ur(r))&&(b.data=v))),(v=Ir?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(Fr=!0,Lr);case"textInput":return(e=t.data)===Lr&&Fr?null:e;default:return null}}(e,r):function(e,t){if(Br)return"compositionend"===e||!Mr&&zr(e,t)?(e=er(),Jt=Xt=Qt=null,Br=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Gn(n,"onBeforeInput")).length&&(a=new br("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=v))}Fn(o,t)}))}function Hn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ce(e,r))&&n.unshift(Hn(e,i,a)),null!=(i=Ce(e,t))&&n.push(Hn(e,i,a))),e=e.return}return n}function Zn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kn(e,t,r,n,a){for(var i=t._reactName,o=[];null!==r&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Ce(r,i))&&o.unshift(Hn(r,l,s)):a||null!=(l=Ce(r,i))&&o.push(Hn(r,l,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var $n=/\r\n?/g,Yn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace($n,"\n").replace(Yn,"")}function Xn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(i(425))}function Jn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:na;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void qt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);qt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,ha="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ya="__reactListeners$"+da,ga="__reactHandles$"+da;function va(e){var t=e[fa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[fa]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ua(e);null!==e;){if(r=e[fa])return r;e=ua(e)}return t}r=(e=r).parentNode}return null}function ba(e){return!(e=e[fa]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[ha]||null}var ja=[],_a=-1;function ka(e){return{current:e}}function Sa(e){0>_a||(e.current=ja[_a],ja[_a]=null,_a--)}function Oa(e,t){_a++,ja[_a]=e.current,e.current=t}var Na={},Ea=ka(Na),Pa=ka(!1),Aa=Na;function Ta(e,t){var r=e.type.contextTypes;if(!r)return Na;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ca(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){Sa(Pa),Sa(Ea)}function Da(e,t,r){if(Ea.current!==Na)throw Error(i(168));Oa(Ea,t),Oa(Pa,r)}function Ia(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(i(108,V(e)||"Unknown",a));return L({},r,n)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,Aa=Ea.current,Oa(Ea,e),Oa(Pa,Pa.current),!0}function La(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=Ia(e,t,Aa),n.__reactInternalMemoizedMergedChildContext=e,Sa(Pa),Sa(Ea),Oa(Ea,e)):Sa(Pa),Oa(Pa,r)}var Fa=null,za=!1,Ua=!1;function Ba(e){null===Fa?Fa=[e]:Fa.push(e)}function qa(){if(!Ua&&null!==Fa){Ua=!0;var e=0,t=bt;try{var r=Fa;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Fa=null,za=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ze(Je,qa),a}finally{bt=t,Ua=!1}}return null}var Va=[],Wa=0,Ha=null,Ga=0,Za=[],Ka=0,$a=null,Ya=1,Qa="";function Xa(e,t){Va[Wa++]=Ga,Va[Wa++]=Ha,Ha=e,Ga=t}function Ja(e,t,r){Za[Ka++]=Ya,Za[Ka++]=Qa,Za[Ka++]=$a,$a=e;var n=Ya;e=Qa;var a=32-ot(n)-1;n&=~(1<<a),r+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ya=1<<32-ot(t)+a|r<<a|n,Qa=i+e}else Ya=1<<i|r<<a|n,Qa=e}function ei(e){null!==e.return&&(Xa(e,1),Ja(e,1,0))}function ti(e){for(;e===Ha;)Ha=Va[--Wa],Va[Wa]=null,Ga=Va[--Wa],Va[Wa]=null;for(;e===$a;)$a=Za[--Ka],Za[Ka]=null,Qa=Za[--Ka],Za[Ka]=null,Ya=Za[--Ka],Za[Ka]=null}var ri=null,ni=null,ai=!1,ii=null;function oi(e,t){var r=Tc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function si(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,ni=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==$a?{id:Ya,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Tc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ri=e,ni=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ni;if(t){var r=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ca(r.nextSibling);var n=ri;t&&si(e,t)?oi(n,r):(e.flags=-4097&e.flags|2,ai=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ri=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ni)){if(li(e))throw fi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ni=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ni=null}}else ni=ri?ca(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=ni;e;)e=ca(e.nextSibling)}function hi(){ni=ri=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=x.ReactCurrentBatchConfig;function yi(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Lc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===_?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===C&&vi(i)===t.type)?((n=a(t,r.props)).ref=yi(e,t,r),n.return=e,n):((n=Dc(r.type,r.key,r.props,null,e.mode,n)).ref=yi(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Fc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Ic(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function f(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Dc(t.type,t.key,t.props,null,e.mode,r)).ref=yi(e,null,t),r.return=e,r;case j:return(t=Fc(t,e.mode,r)).return=e,t;case C:return f(e,(0,t._init)(t._payload),r)}if(te(t)||I(t))return(t=Ic(t,e.mode,r,null)).return=e,t;gi(e,t)}return null}function h(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?c(e,t,r,n):null;case j:return r.key===a?u(e,t,r,n):null;case C:return h(e,t,(a=r._init)(r._payload),n)}if(te(r)||I(r))return null!==a?null:d(e,t,r,n,null);gi(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case j:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case C:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||I(n))return d(t,e=e.get(r)||null,n,a,null);gi(t,n)}return null}function m(a,i,s,l){for(var c=null,u=null,d=i,m=i=0,y=null;null!==d&&m<s.length;m++){d.index>m?(y=d,d=null):y=d.sibling;var g=h(a,d,s[m],l);if(null===g){null===d&&(d=y);break}e&&d&&null===g.alternate&&t(a,d),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g,d=y}if(m===s.length)return r(a,d),ai&&Xa(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&Xa(a,m),c}for(d=n(a,d);m<s.length;m++)null!==(y=p(d,a,m,s[m],l))&&(e&&null!==y.alternate&&d.delete(null===y.key?m:y.key),i=o(y,i,m),null===u?c=y:u.sibling=y,u=y);return e&&d.forEach((function(e){return t(a,e)})),ai&&Xa(a,m),c}function y(a,s,l,c){var u=I(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,y=s=0,g=null,v=l.next();null!==m&&!v.done;y++,v=l.next()){m.index>y?(g=m,m=null):g=m.sibling;var b=h(a,m,v.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,y),null===d?u=b:d.sibling=b,d=b,m=g}if(v.done)return r(a,m),ai&&Xa(a,y),u;if(null===m){for(;!v.done;y++,v=l.next())null!==(v=f(a,v.value,c))&&(s=o(v,s,y),null===d?u=v:d.sibling=v,d=v);return ai&&Xa(a,y),u}for(m=n(a,m);!v.done;y++,v=l.next())null!==(v=p(m,a,y,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?y:v.key),s=o(v,s,y),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(a,e)})),ai&&Xa(a,y),u}return function e(n,i,o,l){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===_){if(7===u.tag){r(n,u.sibling),(i=a(u,o.props.children)).return=n,n=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===C&&vi(c)===u.type){r(n,u.sibling),(i=a(u,o.props)).ref=yi(n,u,o),i.return=n,n=i;break e}r(n,u);break}t(n,u),u=u.sibling}o.type===_?((i=Ic(o.props.children,n.mode,l,o.key)).return=n,n=i):((l=Dc(o.type,o.key,o.props,null,n.mode,l)).ref=yi(n,i,o),l.return=n,n=l)}return s(n);case j:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){r(n,i.sibling),(i=a(i,o.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=Fc(o,n.mode,l)).return=n,n=i}return s(n);case C:return e(n,i,(u=o._init)(o._payload),l)}if(te(o))return m(n,i,o,l);if(I(o))return y(n,i,o,l);gi(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(r(n,i.sibling),(i=a(i,o)).return=n,n=i):(r(n,i),(i=Lc(o,n.mode,l)).return=n,n=i),s(n)):r(n,i)}}var xi=bi(!0),wi=bi(!1),ji=ka(null),_i=null,ki=null,Si=null;function Oi(){Si=ki=_i=null}function Ni(e){var t=ji.current;Sa(ji),e._currentValue=t}function Ei(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pi(e,t){_i=e,Si=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===_i)throw Error(i(308));ki=e,_i.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Ti=null;function Ci(e){null===Ti?Ti=[e]:Ti.push(e)}function Mi(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ci(t)):(r.next=a.next,a.next=r),t.interleaved=r,Di(e,n)}function Di(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ii=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&El)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Di(e,r)}return null===(a=n.interleaved)?(t.next=t,Ci(n)):(t.next=a.next,a.next=t),n.interleaved=t,Di(e,r)}function Ui(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}function Bi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=o:i=i.next=o,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qi(e,t,r,n){var a=e.updateQueue;Ii=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var f=s.lane,h=s.eventTime;if((n&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=L({},d,f);break e;case 2:Ii=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function Vi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var Wi={},Hi=ka(Wi),Gi=ka(Wi),Zi=ka(Wi);function Ki(e){if(e===Wi)throw Error(i(174));return e}function $i(e,t){switch(Oa(Zi,t),Oa(Gi,e),Oa(Hi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Hi),Oa(Hi,t)}function Yi(){Sa(Hi),Sa(Gi),Sa(Zi)}function Qi(e){Ki(Zi.current);var t=Ki(Hi.current),r=le(t,e.type);t!==r&&(Oa(Gi,e),Oa(Hi,r))}function Xi(e){Gi.current===e&&(Sa(Hi),Sa(Gi))}var Ji=ka(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=x.ReactCurrentDispatcher,ao=x.ReactCurrentBatchConfig,io=0,oo=null,so=null,lo=null,co=!1,uo=!1,fo=0,ho=0;function po(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function yo(e,t,r,n,a,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?Jo:es,e=r(n,a),uo){o=0;do{if(uo=!1,fo=0,25<=o)throw Error(i(301));o+=1,lo=so=null,t.updateQueue=null,no.current=ts,e=r(n,a)}while(uo)}if(no.current=Xo,t=null!==so&&null!==so.next,io=0,lo=so=oo=null,co=!1,t)throw Error(i(300));return e}function go(){var e=0!==fo;return fo=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(i(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=bo(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=so,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}n.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,n=n.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((io&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=n):c=c.next=f,oo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=n:c.next=l,sn(n,t.memoizedState)||(bs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Rl|=o,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jo(e){var t=bo(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sn(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function _o(){}function ko(e,t){var r=oo,n=bo(),a=t(),o=!sn(n.memoizedState,a);if(o&&(n.memoizedState=a,bs=!0),n=n.queue,Ro(No.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(r.flags|=2048,To(9,Oo.bind(null,r,n,a,t),void 0,null),null===Pl)throw Error(i(349));0!==(30&io)||So(r,t,a)}return a}function So(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Oo(e,t,r,n){t.value=r,t.getSnapshot=n,Eo(t)&&Po(e)}function No(e,t,r){return r((function(){Eo(t)&&Po(e)}))}function Eo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Po(e){var t=Di(e,1);null!==t&&rc(t,e,1,-1)}function Ao(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[t.memoizedState,e]}function To(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Co(){return bo().memoizedState}function Mo(e,t,r,n){var a=vo();oo.flags|=e,a.memoizedState=To(1|t,r,void 0,void 0===n?null:n)}function Do(e,t,r,n){var a=bo();n=void 0===n?null:n;var i=void 0;if(null!==so){var o=so.memoizedState;if(i=o.destroy,null!==n&&mo(n,o.deps))return void(a.memoizedState=To(t,r,i,n))}oo.flags|=e,a.memoizedState=To(1|t,r,i,n)}function Io(e,t){return Mo(8390656,8,e,t)}function Ro(e,t){return Do(2048,8,e,t)}function Lo(e,t){return Do(4,2,e,t)}function Fo(e,t){return Do(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Do(4,4,zo.bind(null,t,e),r)}function Bo(){}function qo(e,t){var r=bo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vo(e,t){var r=bo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wo(e,t,r){return 0===(21&io)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=r):(sn(r,t)||(r=mt(),oo.lanes|=r,Rl|=r,e.baseState=!0),t)}function Ho(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=ao.transition;ao.transition={};try{e(!1),t()}finally{bt=r,ao.transition=n}}function Go(){return bo().memoizedState}function Zo(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$o(e))Yo(t,r);else if(null!==(r=Mi(e,t,r,n))){rc(r,e,n,ec()),Qo(r,t,n)}}function Ko(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($o(e))Yo(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,sn(s,o)){var l=t.interleaved;return null===l?(a.next=a,Ci(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Mi(e,t,a,n))&&(rc(r,e,n,a=ec()),Qo(r,t,n))}}function $o(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){uo=co=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qo(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}var Xo={readContext:Ai,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Jo={readContext:Ai,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Io,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Mo(4194308,4,zo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var r=vo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Zo.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ao,useDebugValue:Bo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Ho.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oo,a=vo();if(ai){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===Pl)throw Error(i(349));0!==(30&io)||So(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Io(No.bind(null,n,o,e),[e]),n.flags|=2048,To(9,Oo.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=vo(),t=Pl.identifierPrefix;if(ai){var r=Qa;t=":"+t+"R"+(r=(Ya&~(1<<32-ot(Ya)-1)).toString(32)+r),0<(r=fo++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ai,useCallback:qo,useContext:Ai,useEffect:Ro,useImperativeHandle:Uo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:Vo,useReducer:wo,useRef:Co,useState:function(){return wo(xo)},useDebugValue:Bo,useDeferredValue:function(e){return Wo(bo(),so.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:_o,useSyncExternalStore:ko,useId:Go,unstable_isNewReconciler:!1},ts={readContext:Ai,useCallback:qo,useContext:Ai,useEffect:Ro,useImperativeHandle:Uo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:Vo,useReducer:jo,useRef:Co,useState:function(){return jo(xo)},useDebugValue:Bo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:Wo(t,so.memoizedState,e)},useTransition:function(){return[jo(xo)[0],bo().memoizedState]},useMutableSource:_o,useSyncExternalStore:ko,useId:Go,unstable_isNewReconciler:!1};function rs(e,t){if(e&&e.defaultProps){for(var r in t=L({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ns(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:L({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),i=Fi(n,a);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=zi(e,i,a))&&(rc(t,e,a,n),Ui(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),i=Fi(n,a);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=zi(e,i,a))&&(rc(t,e,a,n),Ui(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=Fi(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=zi(e,a,n))&&(rc(t,e,n,r),Ui(t,e,n))}};function is(e,t,r,n,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,i))}function os(e,t,r){var n=!1,a=Na,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(a=Ca(t)?Aa:Ea.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ta(e,a):Na),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ri(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ai(i):(i=Ca(t)?Aa:Ea.current,a.context=Ta(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ns(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),qi(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var r="",n=t;do{r+=B(n),n=n.return}while(n);var a=r}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function us(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,r){(r=Fi(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wl||(Wl=!0,Hl=n),ds(0,t)},r}function ps(e,t,r){(r=Fi(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){ds(0,t),"function"!==typeof n&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ms(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new fs;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Fi(-1,1)).tag=2,zi(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vs=x.ReactCurrentOwner,bs=!1;function xs(e,t,r,n){t.child=null===e?wi(t,null,r,n):xi(t,e.child,r,n)}function ws(e,t,r,n,a){r=r.render;var i=t.ref;return Pi(t,a),n=yo(e,t,r,n,i,a),r=go(),null===e||bs?(ai&&r&&ei(t),t.flags|=1,xs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ws(e,t,a))}function js(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Cc(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Dc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,_s(e,t,i,n,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&e.ref===t.ref)return Ws(e,t,a)}return t.flags|=1,(e=Mc(i,n)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(ln(i,n)&&e.ref===t.ref){if(bs=!1,t.pendingProps=n=i,0===(e.lanes&a))return t.lanes=e.lanes,Ws(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return Os(e,t,r,n,a)}function ks(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oa(Ml,Cl),Cl|=r;else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oa(Ml,Cl),Cl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Oa(Ml,Cl),Cl|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Oa(Ml,Cl),Cl|=n;return xs(e,t,a,r),t.child}function Ss(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,r,n,a){var i=Ca(r)?Aa:Ea.current;return i=Ta(t,i),Pi(t,a),r=yo(e,t,r,n,i,a),n=go(),null===e||bs?(ai&&n&&ei(t),t.flags|=1,xs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ws(e,t,a))}function Ns(e,t,r,n,a){if(Ca(r)){var i=!0;Ra(t)}else i=!1;if(Pi(t,a),null===t.stateNode)Vs(e,t),os(t,r,n),ls(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ai(c):c=Ta(t,c=Ca(r)?Aa:Ea.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||l!==c)&&ss(t,o,n,c),Ii=!1;var f=t.memoizedState;o.state=f,qi(t,n,o,a),l=t.memoizedState,s!==n||f!==l||Pa.current||Ii?("function"===typeof u&&(ns(t,r,u,n),l=t.memoizedState),(s=Ii||is(t,r,s,n,f,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Li(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:rs(t.type,s),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ai(l):l=Ta(t,l=Ca(r)?Aa:Ea.current);var h=r.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&ss(t,o,n,l),Ii=!1,f=t.memoizedState,o.state=f,qi(t,n,o,a);var p=t.memoizedState;s!==d||f!==p||Pa.current||Ii?("function"===typeof h&&(ns(t,r,h,n),p=t.memoizedState),(c=Ii||is(t,r,c,n,f,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Es(e,t,r,n,i,a)}function Es(e,t,r,n,a,i){Ss(e,t);var o=0!==(128&t.flags);if(!n&&!o)return a&&La(t,r,!1),Ws(e,t,i);n=t.stateNode,vs.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,s,i)):xs(e,t,s,i),t.memoizedState=n.state,a&&La(t,r,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),$i(e,t.containerInfo)}function As(e,t,r,n,a){return hi(),pi(a),t.flags|=256,xs(e,t,r,n),t.child}var Ts,Cs,Ms,Ds,Is={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,r){var n,a=t.pendingProps,o=Ji.current,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Oa(Ji,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,a,0,null),e=Ic(e,a,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(r),t.memoizedState=Is,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,a,o,s){if(r)return 256&t.flags?(t.flags&=-257,zs(e,t,s,n=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Rc({mode:"visible",children:n.children},a,0,null),(o=Ic(o,a,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&xi(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Is,o);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,zs(e,t,s,n=us(o=Error(i(419)),n,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(n=Pl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Di(e,a),rc(n,e,a,-1))}return mc(),zs(e,t,s,n=us(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ni=ca(a.nextSibling),ri=t,ai=!0,ii=null,null!==e&&(Za[Ka++]=Ya,Za[Ka++]=Qa,Za[Ka++]=$a,Ya=e.id,Qa=e.overflow,$a=t),t=Fs(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,o,r);if(s){s=a.fallback,l=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Mc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?s=Mc(n,s):(s=Ic(s,l,r,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Is,a}return e=(s=e.child).sibling,a=Mc(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Fs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,r,n){return null!==n&&pi(n),xi(t,e.child,null,r),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ei(e.return,t,r)}function Bs(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function qs(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(xs(e,t,n.children,r),0!==(2&(n=Ji.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,r,t);else if(19===e.tag)Us(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oa(Ji,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Bs(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Bs(t,!0,r,null,i);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Mc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Mc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Hs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Zs(e,t,r){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ca(t.type)&&Ma(),Gs(t),null;case 3:return n=t.stateNode,Yi(),Sa(Pa),Sa(Ea),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Cs(e,t),Gs(t),null;case 5:Xi(t);var a=Ki(Zi.current);if(r=t.type,null!==e&&null!=t.stateNode)Ms(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Gs(t),null}if(e=Ki(Hi.current),di(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[fa]=t,n[ha]=o,e=0!==(1&t.mode),r){case"dialog":zn("cancel",n),zn("close",n);break;case"iframe":case"object":case"embed":zn("load",n);break;case"video":case"audio":for(a=0;a<In.length;a++)zn(In[a],n);break;case"source":zn("error",n);break;case"img":case"image":case"link":zn("error",n),zn("load",n);break;case"details":zn("toggle",n);break;case"input":Y(n,o),zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},zn("invalid",n);break;case"textarea":ae(n,o),zn("invalid",n)}for(var l in ve(r,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xn(n.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zn("scroll",n)}switch(r){case"input":G(n),J(n,o,!0);break;case"textarea":G(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Jn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[fa]=t,e[ha]=n,Ts(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":zn("cancel",e),zn("close",e),a=n;break;case"iframe":case"object":case"embed":zn("load",e),a=n;break;case"video":case"audio":for(a=0;a<In.length;a++)zn(In[a],e);a=n;break;case"source":zn("error",e),a=n;break;case"img":case"image":case"link":zn("error",e),zn("load",e),a=n;break;case"details":zn("toggle",e),a=n;break;case"input":Y(e,n),a=$(e,n),zn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=L({},n,{value:void 0}),zn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),zn("invalid",e)}for(o in ve(r,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ye(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==r||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zn("scroll",e):null!=u&&b(e,o,u,l))}switch(r){case"input":G(e),J(e,n,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(r=Ki(Zi.current),Ki(Hi.current),di(t)){if(n=t.stateNode,r=t.memoizedProps,n[fa]=t,(o=n.nodeValue!==r)&&null!==(e=ri))switch(e.tag){case 3:Xn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[fa]=t,t.stateNode=n}return Gs(t),null;case 13:if(Sa(Ji),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ni&&0!==(1&t.mode)&&0===(128&t.flags))fi(),hi(),t.flags|=98560,o=!1;else if(o=di(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[fa]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ji.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return Yi(),Cs(e,t),null===e&&qn(t.stateNode.containerInfo),Gs(t),null;case 10:return Ni(t.type._context),Gs(t),null;case 19:if(Sa(Ji),null===(o=t.memoizedState))return Gs(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)Hs(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Hs(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oa(Ji,1&Ji.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>ql&&(t.flags|=128,n=!0,Hs(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Gs(t),null}else 2*Qe()-o.renderingStartTime>ql&&1073741824!==r&&(t.flags|=128,n=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,r=Ji.current,Oa(Ji,n?1&r|2:1&r),t):(Gs(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Cl)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ks(e,t){switch(ti(t),t.tag){case 1:return Ca(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yi(),Sa(Pa),Sa(Ea),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Sa(Ji),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Ji),null;case 4:return Yi(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ts=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Cs=function(){},Ms=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ki(Hi.current);var i,o=null;switch(r){case"input":a=$(e,a),n=$(e,n),o=[];break;case"select":a=L({},a,{value:void 0}),n=L({},n,{value:void 0}),o=[];break;case"textarea":a=ne(e,a),n=ne(e,n),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Jn)}for(u in ve(r,n),r=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zn("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,r,n){r!==n&&(t.flags|=4)};var $s=!1,Ys=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Js(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){kc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){kc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,r,i)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ha],delete t[ma],delete t[ya],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Jn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var ul=null,dl=!1;function fl(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,r)}catch(s){}switch(r.tag){case 5:Ys||Js(r,t);case 6:var n=ul,a=dl;ul=null,fl(e,t,r),dl=a,null!==(ul=n)&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),qt(e)):la(ul,r.stateNode));break;case 4:n=ul,a=dl,ul=r.stateNode.containerInfo,dl=!0,fl(e,t,r),ul=n,dl=a;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(r,t,o),a=a.next}while(a!==n)}fl(e,t,r);break;case 1:if(!Ys&&(Js(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){kc(r,t,s)}fl(e,t,r);break;case 21:fl(e,t,r);break;case 22:1&r.mode?(Ys=(n=Ys)||null!==r.memoizedState,fl(e,t,r),Ys=n):fl(e,t,r);break;default:fl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qs),t.forEach((function(t){var n=Ec.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));hl(o,s,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){kc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(y){kc(e,e.return,y)}try{rl(5,e,e.return)}catch(y){kc(e,e.return,y)}}break;case 1:ml(t,e),gl(e),512&n&&null!==r&&Js(r,r.return);break;case 5:if(ml(t,e),gl(e),512&n&&null!==r&&Js(r,r.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(y){kc(e,e.return,y)}}if(4&n&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(a,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ye(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,u)}switch(l){case"input":X(a,o);break;case"textarea":ie(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(a,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?re(a,!!o.multiple,o.defaultValue,!0):re(a,!!o.multiple,o.multiple?[]:"",!1))}a[ha]=o}catch(y){kc(e,e.return,y)}}break;case 6:if(ml(t,e),gl(e),4&n){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(y){kc(e,e.return,y)}}break;case 3:if(ml(t,e),gl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){kc(e,e.return,y)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Qe())),4&n&&pl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Ys=(u=Ys)||d,ml(t,e),Ys=u):ml(t,e),gl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(f=Xs=d;null!==Xs;){switch(p=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:Js(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){kc(n,r,y)}}break;case 5:Js(h,h.return);break;case 22:if(null!==h.memoizedState){wl(f);continue}}null!==p?(p.return=h,Xs=p):wl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(y){kc(e,e.return,y)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){kc(e,e.return,y)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),gl(e),4&n&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ol(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(fe(a,""),n.flags&=-33),cl(e,sl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(i(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,r){Xs=e,bl(e,t,r)}function bl(e,t,r){for(var n=0!==(1&e.mode);null!==Xs;){var a=Xs,i=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||$s;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=o,(Ys=l)&&!c)for(Xs=a;null!==Xs;)l=(o=Xs).child,22===o.tag&&null!==o.memoizedState?jl(a):null!==l?(l.return=o,Xs=l):jl(a);for(;null!==i;)Xs=i,bl(i,t,r),i=i.sibling;Xs=a,$s=s,Ys=c}xl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Xs=i):xl(e)}}function xl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ys)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:rs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Vi(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Vi(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&qt(f)}}}break;default:throw Error(i(163))}Ys||512&t.flags&&al(t)}catch(h){kc(t,t.return,h)}}if(t===e){Xs=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xs=r;break}Xs=t.return}}function wl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xs=r;break}Xs=t.return}}function jl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){kc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){kc(t,a,l)}}var i=t.return;try{al(t)}catch(l){kc(t,i,l)}break;case 5:var o=t.return;try{al(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var _l,kl=Math.ceil,Sl=x.ReactCurrentDispatcher,Ol=x.ReactCurrentOwner,Nl=x.ReactCurrentBatchConfig,El=0,Pl=null,Al=null,Tl=0,Cl=0,Ml=ka(0),Dl=0,Il=null,Rl=0,Ll=0,Fl=0,zl=null,Ul=null,Bl=0,ql=1/0,Vl=null,Wl=!1,Hl=null,Gl=null,Zl=!1,Kl=null,$l=0,Yl=0,Ql=null,Xl=-1,Jl=0;function ec(){return 0!==(6&El)?Qe():-1!==Xl?Xl:Xl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Tl?Tl&-Tl:null!==mi.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,r,n){if(50<Yl)throw Yl=0,Ql=null,Error(i(185));gt(e,r,n),0!==(2&El)&&e===Pl||(e===Pl&&(0===(2&El)&&(Ll|=r),4===Dl&&sc(e,Tl)),nc(e,n),1===r&&0===El&&0===(1&t.mode)&&(ql=Qe()+500,za&&qa()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&r)&&0===(s&n)||(a[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var n=ft(e,e===Pl?Tl:0);if(0===n)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){za=!0,Ba(e)}(lc.bind(null,e)):Ba(lc.bind(null,e)),oa((function(){0===(6&El)&&qa()})),r=null;else{switch(xt(n)){case 1:r=Je;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Pc(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Xl=-1,Jl=0,0!==(6&El))throw Error(i(327));var r=e.callbackNode;if(jc()&&e.callbackNode!==r)return null;var n=ft(e,e===Pl?Tl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=yc(e,n);else{t=n;var a=El;El|=2;var o=pc();for(Pl===e&&Tl===t||(Vl=null,ql=Qe()+500,fc(e,t));;)try{vc();break}catch(l){hc(e,l)}Oi(),Sl.current=o,El=a,null!==Al?t=0:(Pl=null,Tl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=ic(e,a))),1===t)throw r=Il,fc(e,0),sc(e,n),nc(e,Qe()),r;if(6===t)sc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!sn(i(),a))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=yc(e,n))&&(0!==(o=pt(e))&&(n=o,t=ic(e,o))),1===t))throw r=Il,fc(e,0),sc(e,n),nc(e,Qe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Ul,Vl);break;case 3:if(sc(e,n),(130023424&n)===n&&10<(t=Bl+500-Qe())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(wc.bind(null,e,Ul,Vl),t);break}wc(e,Ul,Vl);break;case 4:if(sc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-ot(n);o=1<<s,(s=t[s])>a&&(a=s),n&=~o}if(n=a,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=na(wc.bind(null,e,Ul,Vl),n);break}wc(e,Ul,Vl);break;default:throw Error(i(329))}}}return nc(e,Qe()),e.callbackNode===r?ac.bind(null,e):null}function ic(e,t){var r=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Ul,Ul=r,null!==t&&oc(t)),e}function oc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&El))throw Error(i(327));jc();var t=ft(e,0);if(0===(1&t))return nc(e,Qe()),null;var r=yc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ic(e,n))}if(1===r)throw r=Il,fc(e,0),sc(e,t),nc(e,Qe()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,Vl),nc(e,Qe()),null}function cc(e,t){var r=El;El|=1;try{return e(t)}finally{0===(El=r)&&(ql=Qe()+500,za&&qa())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&jc();var t=El;El|=1;var r=Nl.transition,n=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=n,Nl.transition=r,0===(6&(El=t))&&qa()}}function dc(){Cl=Ml.current,Sa(Ml)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Al)for(r=Al.return;null!==r;){var n=r;switch(ti(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ma();break;case 3:Yi(),Sa(Pa),Sa(Ea),ro();break;case 5:Xi(n);break;case 4:Yi();break;case 13:case 19:Sa(Ji);break;case 10:Ni(n.type._context);break;case 22:case 23:dc()}r=r.return}if(Pl=e,Al=e=Mc(e.current,null),Tl=Cl=t,Dl=0,Il=null,Fl=Ll=Rl=0,Ul=zl=null,null!==Ti){for(t=0;t<Ti.length;t++)if(null!==(n=(r=Ti[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var o=i.next;i.next=a,n.next=o}r.pending=n}Ti=null}return e}function hc(e,t){for(;;){var r=Al;try{if(Oi(),no.current=Xo,co){for(var n=oo.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}co=!1}if(io=0,lo=so=oo=null,uo=!1,fo=0,Ol.current=null,null===r||null===r.return){Dl=1,Il=t,Al=null;break}e:{var o=e,s=r.return,l=r,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,l,0,t),1&p.mode&&ms(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var y=new Set;y.add(c),t.updateQueue=y}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var g=ys(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gs(g,s,l,0,t),pi(cs(c,l));break e}}o=c=cs(c,l),4!==Dl&&(Dl=2),null===zl?zl=[o]:zl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,hs(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}xc(r)}catch(x){t=x,Al===r&&null!==r&&(Al=r=r.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Xo,null===e?Xo:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Pl||0===(268435455&Rl)&&0===(268435455&Ll)||sc(Pl,Tl)}function yc(e,t){var r=El;El|=2;var n=pc();for(Pl===e&&Tl===t||(Vl=null,fc(e,t));;)try{gc();break}catch(a){hc(e,a)}if(Oi(),El=r,Sl.current=n,null!==Al)throw Error(i(261));return Pl=null,Tl=0,Dl}function gc(){for(;null!==Al;)bc(Al)}function vc(){for(;null!==Al&&!$e();)bc(Al)}function bc(e){var t=_l(e.alternate,e,Cl);e.memoizedProps=e.pendingProps,null===t?xc(e):Al=t,Ol.current=null}function xc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Zs(r,t,Cl)))return void(Al=r)}else{if(null!==(r=Ks(r,t)))return r.flags&=32767,void(Al=r);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,r){var n=bt,a=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,r,n){do{jc()}while(null!==Kl);if(0!==(6&El))throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ot(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,o),e===Pl&&(Al=Pl=null,Tl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Zl||(Zl=!0,Pc(tt,(function(){return jc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Nl.transition,Nl.transition=null;var s=bt;bt=1;var l=El;El|=4,Ol.current=null,function(e,t){if(ea=Wt,hn(e=fn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||0!==a&&3!==f.nodeType||(l=s+a),f!==o||0!==n&&3!==f.nodeType||(c=s+n),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=s),h===o&&++d===n&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Wt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,g=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:rs(t.type,y),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=tl,tl=!1}(e,r),yl(r,e),pn(ta),Wt=!!ea,ta=ea=null,e.current=r,vl(r,e,a),Ye(),El=l,bt=s,Nl.transition=o}else e.current=r;if(Zl&&(Zl=!1,Kl=e,$l=a),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&$l)&&0!==e.tag&&jc(),o=e.pendingLanes,0!==(1&o)?e===Ql?Yl++:(Yl=0,Ql=e):Yl=0,qa()}(e,t,r,n)}finally{Nl.transition=a,bt=n}return null}function jc(){if(null!==Kl){var e=xt($l),t=Nl.transition,r=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Kl)var n=!1;else{if(e=Kl,Kl=null,$l=0,0!==(6&El))throw Error(i(331));var a=El;for(El|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xs=u;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Xs=f;else for(;null!==Xs;){var h=(d=Xs).sibling,p=d.return;if(il(d),d===u){Xs=null;break}if(null!==h){h.return=p,Xs=h;break}Xs=p}}}var m=o.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Xs=v;break e}Xs=o.return}}var b=e.current;for(Xs=b;null!==Xs;){var x=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Xs=x;else e:for(s=b;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(j){kc(l,l.return,j)}if(l===s){Xs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xs=w;break e}Xs=l.return}}if(El=a,qa(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(j){}n=!0}return n}finally{bt=r,Nl.transition=t}}return!1}function _c(e,t,r){e=zi(e,t=hs(0,t=cs(r,t),1),1),t=ec(),null!==e&&(gt(e,1,t),nc(e,t))}function kc(e,t,r){if(3===e.tag)_c(e,e,r);else for(;null!==t;){if(3===t.tag){_c(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Gl||!Gl.has(n))){t=zi(t,e=ps(t,e=cs(r,e),1),1),e=ec(),null!==t&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Pl===e&&(Tl&r)===r&&(4===Dl||3===Dl&&(130023424&Tl)===Tl&&500>Qe()-Bl?fc(e,0):Fl|=r),nc(e,t)}function Oc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=ec();null!==(e=Di(e,t))&&(gt(e,t,r),nc(e,r))}function Nc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Oc(e,r)}function Ec(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),Oc(e,r)}function Pc(e,t){return Ze(e,t)}function Ac(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,r,n){return new Ac(e,t,r,n)}function Cc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var r=e.alternate;return null===r?((r=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dc(e,t,r,n,a,o){var s=2;if(n=e,"function"===typeof e)Cc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Ic(r.children,a,o,t);case k:s=8,a|=8;break;case S:return(e=Tc(12,r,t,2|a)).elementType=S,e.lanes=o,e;case P:return(e=Tc(13,r,t,a)).elementType=P,e.lanes=o,e;case A:return(e=Tc(19,r,t,a)).elementType=A,e.lanes=o,e;case M:return Rc(r,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case N:s=9;break e;case E:s=11;break e;case T:s=14;break e;case C:s=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Tc(s,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function Ic(e,t,r,n){return(e=Tc(7,e,n,t)).lanes=r,e}function Rc(e,t,r,n){return(e=Tc(22,e,n,t)).elementType=M,e.lanes=r,e.stateNode={isHidden:!1},e}function Lc(e,t,r){return(e=Tc(6,e,null,t)).lanes=r,e}function Fc(e,t,r){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,r,n,a,i,o,s,l){return e=new zc(e,t,r,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Tc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function Bc(e){if(!e)return Na;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ca(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(Ca(r))return Ia(e,r,t)}return t}function qc(e,t,r,n,a,i,o,s,l){return(e=Uc(r,n,!0,e,0,i,0,s,l)).context=Bc(null),r=e.current,(i=Fi(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,zi(r,i,a),e.current.lanes=a,gt(e,a,n),nc(e,n),e}function Vc(e,t,r,n){var a=t.current,i=ec(),o=tc(a);return r=Bc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Fi(i,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=zi(a,t,o))&&(rc(e,a,o,i),Ui(e,a,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_l=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)bs=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return bs=!1,function(e,t,r){switch(t.tag){case 3:Ps(t),hi();break;case 5:Qi(t);break;case 1:Ca(t.type)&&Ra(t);break;case 4:$i(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Oa(ji,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Oa(Ji,1&Ji.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Ls(e,t,r):(Oa(Ji,1&Ji.current),null!==(e=Ws(e,t,r))?e.sibling:null);Oa(Ji,1&Ji.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return qs(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Oa(Ji,Ji.current),n)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,r)}return Ws(e,t,r)}(e,t,r);bs=0!==(131072&e.flags)}else bs=!1,ai&&0!==(1048576&t.flags)&&Ja(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vs(e,t),e=t.pendingProps;var a=Ta(t,Ea.current);Pi(t,r),a=yo(null,t,n,e,a,r);var o=go();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ca(n)?(o=!0,Ra(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ri(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,n,e,r),t=Es(null,t,n,!0,o,r)):(t.tag=0,ai&&o&&ei(t),xs(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Cc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(n),e=rs(n,e),a){case 0:t=Os(null,t,n,e,r);break e;case 1:t=Ns(null,t,n,e,r);break e;case 11:t=ws(null,t,n,e,r);break e;case 14:t=js(null,t,n,rs(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Os(e,t,n,a=t.elementType===n?a:rs(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ns(e,t,n,a=t.elementType===n?a:rs(n,a),r);case 3:e:{if(Ps(t),null===e)throw Error(i(387));n=t.pendingProps,a=(o=t.memoizedState).element,Li(e,t),qi(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,n,r,a=cs(Error(i(423)),t));break e}if(n!==a){t=As(e,t,n,r,a=cs(Error(i(424)),t));break e}for(ni=ca(t.stateNode.containerInfo.firstChild),ri=t,ai=!0,ii=null,r=wi(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(hi(),n===a){t=Ws(e,t,r);break e}xs(e,t,n,r)}t=t.child}return t;case 5:return Qi(t),null===e&&ci(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ra(n,a)?s=null:null!==o&&ra(n,o)&&(t.flags|=32),Ss(e,t),xs(e,t,s,r),t.child;case 6:return null===e&&ci(t),null;case 13:return Ls(e,t,r);case 4:return $i(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=xi(t,null,n,r):xs(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,ws(e,t,n,a=t.elementType===n?a:rs(n,a),r);case 7:return xs(e,t,t.pendingProps,r),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Oa(ji,n._currentValue),n._currentValue=s,null!==o)if(sn(o.value,s)){if(o.children===a.children&&!Pa.current){t=Ws(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Fi(-1,r&-r)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),Ei(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Ei(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Pi(t,r),n=n(a=Ai(a)),t.flags|=1,xs(e,t,n,r),t.child;case 14:return a=rs(n=t.type,t.pendingProps),js(e,t,n,a=rs(n.type,a),r);case 15:return _s(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:rs(n,a),Vs(e,t),t.tag=1,Ca(n)?(e=!0,Ra(t)):e=!1,Pi(t,r),os(t,n,a),ls(t,n,a,r),Es(null,t,n,!0,e,r);case 19:return qs(e,t,r);case 22:return ks(e,t,r)}throw Error(i(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Jc(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Wc(o);s.call(e)}}Vc(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"===typeof n){var i=n;n=function(){var e=Wc(o);i.call(e)}}var o=qc(t,n,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pa]=o.current,qn(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var s=n;n=function(){var e=Wc(l);s.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pa]=l.current,qn(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,l,r,n)})),l}(r,t,e,a,n);return Wc(o)}$c.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},$c.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[pa]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&0!==t&&t<Mt[r].priority;r++);Mt.splice(r,0,e),0===r&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(vt(t,1|r),nc(t,Qe()),0===(6&El)&&(ql=Qe()+500,qa()))}break;case 13:uc((function(){var t=Di(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}})),Gc(e,1)}},jt=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)rc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),r=Di(e,t);if(null!==r)rc(r,e,t,ec());Gc(e,t)}},kt=function(){return bt},St=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},je=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wa(n);if(!a)throw Error(i(90));Z(n),X(n,a)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[ba,xa,wa,Oe,Ne,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{at=nu.inject(ru),it=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Yc(e))throw Error(i(299));var r=!1,n="",a=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,r,0,n,a),e[pa]=t.current,qn(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(i(200));return Jc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Yc(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,a=!1,o="",s=Zc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=qc(t,null,e,1,null!=r?r:null,a,0,o,s),e[pa]=t.current,qn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new $c(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(i(200));return Jc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qc(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,r)=>{var n=r(5193),a=r(2761),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2794:(e,t,r)=>{var n=r(9742),a=r(7498),i=r(9096);e.exports=function(e,t){return e&&e.length?n(e,i(t,2),a):void 0}},2866:(e,t,r)=>{var n=r(2969);e.exports=function(e){return function(t){return n(t,e)}}},2929:(e,t,r)=>{var n=r(6552).Uint8Array;e.exports=n},2969:(e,t,r)=>{var n=r(5324),a=r(914);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[a(t[r++])];return r&&r==i?e:void 0}},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},3097:(e,t,r)=>{var n=r(2969);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},3204:(e,t,r)=>{var n=r(3343),a=r(2777),i=r(4052),o=r(4543),s=r(9194),l=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),u=!r&&a(e),d=!r&&!u&&o(e),f=!r&&!u&&!d&&l(e),h=r||u||d||f,p=h?n(e.length,String):[],m=p.length;for(var y in e)!t&&!c.call(e,y)||h&&("length"==y||d&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,m))||p.push(y);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,r)=>{var n=r(9676),a=r(929),i=r(7303);e.exports=function(e){return function(t,r,o){return o&&"number"!=typeof o&&a(t,r,o)&&(r=o=void 0),t=i(t),void 0===r?(r=t,t=0):r=i(r),o=void 0===o?t<r?1:-1:i(o),n(t,r,o,e)}}},3343:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},3366:(e,t,r)=>{var n=r(7894),a=r(9057);e.exports=function(e,t){return null!=e&&a(e,t,n)}},3411:(e,t,r)=>{var n=r(149),a=r(9096),i=r(8883),o=r(4052);e.exports=function(e,t){return(o(e)?n:i)(e,a(t,3))}},3440:(e,t,r)=>{var n=r(6552)["__core-js_shared__"];e.exports=n},3538:(e,t,r)=>{var n=r(755),a=r(3411);e.exports=function(e,t){return n(a(e,t),1)}},3668:(e,t,r)=>{var n=r(8902),a=r(2587),i=r(8114);e.exports=function(e,t,r,o,s,l){var c=1&r,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var f=l.get(e),h=l.get(t);if(f&&h)return f==t&&h==e;var p=-1,m=!0,y=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var g=e[p],v=t[p];if(o)var b=c?o(v,g,p,t,e,l):o(g,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(y){if(!a(t,(function(e,t){if(!i(y,t)&&(g===e||s(g,e,r,o,l)))return y.push(t)}))){m=!1;break}}else if(g!==v&&!s(g,v,r,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,r)=>{var n=r(6140),a=r(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3781:(e,t,r)=>{var n=r(9417),a=r(8673);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var i=t[r],o=e[i];t[r]=[i,o,n(o)]}return t}},3871:e=>{e.exports=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,r)=>{var n=r(396),a=r(2866),i=r(2597),o=r(914);e.exports=function(e){return i(e)?n(o(e)):a(e)}},3950:(e,t,r)=>{var n=r(6686),a=r(4757),i=r(801),o=Math.max,s=Math.min;e.exports=function(e,t,r){var l,c,u,d,f,h,p=0,m=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=l,n=c;return l=c=void 0,p=t,d=e.apply(n,r)}function b(e){var r=e-h;return void 0===h||r>=t||r<0||y&&e-p>=u}function x(){var e=a();if(b(e))return w(e);f=setTimeout(x,function(e){var r=t-(e-h);return y?s(r,u-(e-p)):r}(e))}function w(e){return f=void 0,g&&l?v(e):(l=c=void 0,d)}function j(){var e=a(),r=b(e);if(l=arguments,c=this,h=e,r){if(void 0===f)return function(e){return p=e,f=setTimeout(x,t),m?v(e):d}(h);if(y)return clearTimeout(f),f=setTimeout(x,t),v(h)}return void 0===f&&(f=setTimeout(x,t)),d}return t=i(t)||0,n(r)&&(m=!!r.leading,u=(y="maxWait"in r)?o(i(r.maxWait)||0,t):u,g="trailing"in r?!!r.trailing:g),j.cancel=function(){void 0!==f&&clearTimeout(f),p=0,l=h=c=f=void 0},j.flush=function(){return void 0===f?d:w(a())},j}},4020:e=>{e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,r)=>{var n=r(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,r,n,a){t.push(n?a.replace(i,"$1"):r||e)})),t}));e.exports=o},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},4190:(e,t,r)=>{var n=r(1340);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function g(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||p}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var x=b.prototype=new v;x.constructor=b,m(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,a)&&!k.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:r,type:e,key:o,ref:s,props:i,_owner:_.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var N=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===i?"."+E(l,0):i,w(o)?(a="",null!=e&&(a=e.replace(N,"$&/")+"/"),P(o,t,a,"",(function(e){return e}))):null!=o&&(O(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(N,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+E(s=e[c],c);l+=P(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=P(s=s.value,t,a,u=i+E(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,r){if(null==e)return e;var n=[],a=0;return P(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var C={current:null},M={transition:null},D={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:M,ReactCurrentOwner:_};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,r){A(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:r,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return C.current.useCallback(e,t)},t.useContext=function(e){return C.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return C.current.useDeferredValue(e)},t.useEffect=function(e,t){return C.current.useEffect(e,t)},t.useId=function(){return C.current.useId()},t.useImperativeHandle=function(e,t,r){return C.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return C.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.current.useMemo(e,t)},t.useReducer=function(e,t,r){return C.current.useReducer(e,t,r)},t.useRef=function(e){return C.current.useRef(e)},t.useState=function(e){return C.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return C.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return C.current.useTransition()},t.version="18.3.1"},4258:(e,t,r)=>{var n=r(5906)();e.exports=n},4262:(e,t,r)=>{var n=r(8895),a=r(4052);e.exports=function(e,t,r){var i=t(e);return a(e)?i:n(i,r(e))}},4391:(e,t,r)=>{"use strict";var n=r(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4416:(e,t,r)=>{var n=r(8902),a=r(5866),i=r(1558),o=r(8114),s=r(8182),l=r(2074);e.exports=function(e,t,r){var c=-1,u=a,d=e.length,f=!0,h=[],p=h;if(r)f=!1,u=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);f=!1,u=o,p=new n}else p=t?[]:h;e:for(;++c<d;){var y=e[c],g=t?t(y):y;if(y=r||0!==y?y:0,f&&g===g){for(var v=p.length;v--;)if(p[v]===g)continue e;t&&p.push(g),h.push(y)}else u(p,g,r)||(p!==h&&p.push(g),h.push(y))}return h}},4543:(e,t,r)=>{e=r.nmd(e);var n=r(6552),a=r(14),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;e.exports=l},4545:(e,t,r)=>{var n=r(7160);e.exports=function(){this.__data__=new n,this.size=0}},4552:(e,t,r)=>{var n=r(9812),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(l){}var a=o.call(e);return n&&(t?e[s]=r:delete e[s]),a}},4597:(e,t,r)=>{var n=r(2587),a=r(9096),i=r(2165),o=r(4052),s=r(929);e.exports=function(e,t,r){var l=o(e)?n:i;return r&&s(e,t,r)&&(t=void 0),l(e,a(t,3))}},4630:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Headers:()=>o,Request:()=>s,Response:()=>l,default:()=>i,fetch:()=>a});var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();const a=n.fetch,i=n.fetch.bind(n),o=n.Headers,s=n.Request,l=n.Response},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,r)=>{var n=r(4258),a=r(8673);e.exports=function(e,t){return e&&n(e,t,a)}},4746:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r=!0;return n(e,(function(e,n,a){return r=!!t(e,n,a)})),r}},4757:(e,t,r)=>{var n=r(6552);e.exports=function(){return n.Date.now()}},4816:(e,t,r)=>{var n=r(7251),a=r(7159),i=r(438),o=r(9394),s=r(6874);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},5029:(e,t,r)=>{var n=r(6989),a=r(3097),i=r(3366),o=r(2597),s=r(9417),l=r(1310),c=r(914);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(r){var o=a(r,e);return void 0===o&&o===t?i(r,e):n(t,o,3)}}},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,r)=>{e.exports=r(1497)()},5193:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},5204:(e,t,r)=>{var n=r(7937)(r(6552),"Map");e.exports=n},5268:(e,t,r)=>{var n=r(9160);e.exports=function(e){return n(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},5324:(e,t,r)=>{var n=r(4052),a=r(2597),i=r(4079),o=r(1069);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:i(o(e))}},5387:(e,t,r)=>{var n=r(7937)(r(6552),"Promise");e.exports=n},5428:(e,t,r)=>{var n=r(6913),a=r(6173),i=r(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[n(e)]}},5538:(e,t,r)=>{var n=r(7160),a=r(4545),i=r(793),o=r(7760),s=r(3892),l=r(6788);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,r)=>{var n=r(7937)(Object,"create");e.exports=n},5636:(e,t,r)=>{var n=r(1170),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=a(i.length-t,0),l=Array(s);++o<s;)l[o]=i[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=i[o];return c[t]=r(l),n(e,this,c)}}},5647:(e,t,r)=>{var n=r(3279),a=r(5636),i=r(6350);e.exports=function(e,t){return i(a(e,t,n),e+"")}},5652:(e,t,r)=>{var n=r(4664),a=r(6516)(n);e.exports=a},5654:(e,t,r)=>{var n=r(7937),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5736:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(7374));class i extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e))).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const i=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(i,".").concat(t)),this}match(e){return Object.entries(e).forEach((e=>{let[t,r]=e;this.url.searchParams.append(t,"eq.".concat(r))})),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?"".concat(r,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}}t.default=i},5745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const n=r(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(n.version)}},5752:(e,t,r)=>{var n=r(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,o,s){var l=1&r,c=n(e),u=c.length;if(u!=n(t).length&&!l)return!1;for(var d=u;d--;){var f=c[d];if(!(l?f in t:a.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var y=l;++d<u;){var g=e[f=c[d]],v=t[f];if(i)var b=l?i(v,g,f,t,e,s):i(g,v,f,e,t,s);if(!(void 0===b?g===v||o(g,v,r,i,s):b)){m=!1;break}y||(y="constructor"==f)}if(m&&!y){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,r)=>{var n=r(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},5816:e=>{e.exports=function(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},5866:(e,t,r)=>{var n=r(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},5893:(e,t,r)=>{var n=r(6599);e.exports=function(e,t,r){for(var a=-1,i=e.criteria,o=t.criteria,s=i.length,l=r.length;++a<s;){var c=n(i[a],o[a]);if(c)return a>=l?c:c*("desc"==r[a]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===r(i[l],l,i))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,r)=>{var n=r(3028)(Object.getPrototypeOf,Object);e.exports=n},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,r)=>{var n=r(8325),a=r(6578)(n);e.exports=a},6361:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==n(e)}},6378:(e,t)=>{"use strict";var r,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference"),t.isFragment=function(e){return g(e)===i}},6399:(e,t,r)=>{var n=r(5538),a=r(3668),i=r(9987),o=r(5752),s=r(6924),l=r(4052),c=r(4543),u=r(1268),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,y,g){var v=l(e),b=l(t),x=v?f:s(e),w=b?f:s(t),j=(x=x==d?h:x)==h,_=(w=w==d?h:w)==h,k=x==w;if(k&&c(e)){if(!c(t))return!1;v=!0,j=!1}if(k&&!j)return g||(g=new n),v||u(e)?a(e,t,r,m,y,g):i(e,t,x,r,m,y,g);if(!(1&r)){var S=j&&p.call(e,"__wrapped__"),O=_&&p.call(t,"__wrapped__");if(S||O){var N=S?e.value():e,E=O?t.value():t;return g||(g=new n),y(N,E,r,m,g)}}return!!k&&(g||(g=new n),o(e,t,r,m,y,g))}},6516:(e,t,r)=>{var n=r(6571);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&!1!==a(s[o],o,s););return r}}},6532:(e,t,r)=>{var n=r(5538),a=r(6989);e.exports=function(e,t,r,i){var o=r.length,s=o,l=!i;if(null==e)return!s;for(e=Object(e);o--;){var c=r[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=r[o])[0],d=e[u],f=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var h=new n;if(i)var p=i(d,f,u,e,t,h);if(!(void 0===p?a(f,d,3,i,h):p))return!1}}return!0}},6552:(e,t,r)=>{var n=r(7105),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},6571:(e,t,r)=>{var n=r(1629),a=r(6173);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),i=16-(a-n);if(n=a,i>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},6599:(e,t,r)=>{var n=r(9841);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,i=e===e,o=n(e),s=void 0!==t,l=null===t,c=t===t,u=n(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||a&&s&&c||!r&&c||!i)return 1;if(!a&&!o&&!u&&e<t||u&&r&&i&&!a&&!o||l&&r&&i||!s&&i||!c)return-1}return 0}},6600:(e,t,r)=>{var n=r(7937)(r(6552),"WeakMap");e.exports=n},6604:(e,t,r)=>{var n=r(3331)();e.exports=n},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,r)=>{var n=r(9742),a=r(61),i=r(3279);e.exports=function(e){return e&&e.length?n(e,i,a):void 0}},6788:(e,t,r)=>{var n=r(7160),a=r(5204),i=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(o)}return r.set(e,t),this.size=r.size,this}},6832:(e,t,r)=>{e=r.nmd(e);var n=r(7105),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,o=i&&i.exports===a&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,r)=>{var n=r(2622);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},6913:(e,t,r)=>{var n=r(9812),a=r(4552),i=r(6095),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},6924:(e,t,r)=>{var n=r(7685),a=r(5204),i=r(5387),o=r(2070),s=r(6600),l=r(6913),c=r(6996),u="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",m=c(n),y=c(a),g=c(i),v=c(o),b=c(s),x=l;(n&&x(new n(new ArrayBuffer(1)))!=p||a&&x(new a)!=u||i&&x(i.resolve())!=d||o&&x(new o)!=f||s&&x(new s)!=h)&&(x=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return p;case y:return u;case g:return d;case v:return f;case b:return h}return t}),e.exports=x},6954:(e,t,r)=>{var n=r(1629),a=r(7857),i=r(6686),o=r(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(n(e)?f:s).test(o(e))}},6989:(e,t,r)=>{var n=r(6399),a=r(2761);e.exports=function e(t,r,i,o,s){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!==t&&r!==r:n(t,r,i,o,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7002:(e,t,r)=>{var n=r(5295),a=r(4746),i=r(9096),o=r(4052),s=r(929);e.exports=function(e,t,r){var l=o(e)?n:a;return r&&s(e,t,r)&&(t=void 0),l(e,i(t,3))}},7105:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},7116:(e,t,r)=>{var n=r(9812),a=r(2777),i=r(4052),o=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},7159:(e,t,r)=>{var n=r(2622);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,r)=>{var n=r(7563),a=r(9935),i=r(4190),o=r(1946),s=r(1714);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var s=2*(n+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,r))c<a&&0>i(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else{if(!(c<a&&0>i(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function w(e){if(y=!1,x(e),!m)if(null!==n(c))m=!0,M(j);else{var t=n(u);null!==t&&D(w,t.startTime-e)}}function j(e,r){m=!1,y&&(y=!1,v(O),O=-1),p=!0;var i=h;try{for(x(r),f=n(c);null!==f&&(!(f.expirationTime>r)||e&&!P());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?f.callback=s:f===n(c)&&a(c),x(r)}else a(c);f=n(c)}if(null!==f)var l=!0;else{var d=n(u);null!==d&&D(w,d.startTime-r),l=!1}return l}finally{f=null,h=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,S=null,O=-1,N=5,E=-1;function P(){return!(t.unstable_now()-E<N)}function A(){if(null!==S){var e=t.unstable_now();E=e;var r=!0;try{r=S(!0,e)}finally{r?_():(k=!1,S=null)}}else k=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,C=T.port2;T.port1.onmessage=A,_=function(){C.postMessage(null)}}else _=function(){g(A,0)};function M(e){S=e,k||(k=!0,_())}function D(e,r){O=g((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,M(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,r(u,e),null===n(c)&&e===n(u)&&(y?(v(O),O=-1):y=!0,D(w,i-o))):(e.sortIndex=s,r(c,e),m||p||(m=!0,M(j))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},7251:(e,t,r)=>{var n=r(8724),a=r(7160),i=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||a),string:new n}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,i||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,o=new Array(i);a<i;a++)o[a]=n[a].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,a,i,o){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,i),!0;case 6:return u.fn.call(u.context,t,n,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},7303:(e,t,r)=>{var n=r(801),a=1/0;e.exports=function(e){return e?(e=n(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7374:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(9286));class i extends a.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?"".concat(a,".order"):"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===r?"":r?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof n?"offset":"".concat(n,".offset"),i="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(i,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const s=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(i,'; for="').concat(l,'"; options=').concat(s,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},7424:(e,t,r)=>{var n=r(755),a=r(2536),i=r(5647),o=r(929),s=i((function(e,t){if(null==e)return[];var r=t.length;return r>1&&o(e,t[0],t[1])?t=[]:r>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,n(t,1),[])}));e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,r)=>{var n=r(5575);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},7676:(e,t,r)=>{var n=r(8189),a=r(6311),i=r(9115),o=r(1069);e.exports=function(e){return function(t){t=o(t);var r=a(t)?i(t):void 0,s=r?r[0]:t.charAt(0),l=r?n(r,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,r)=>{var n=r(7937)(r(6552),"DataView");e.exports=n},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,r)=>{var n=r(3440),a=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,r)=>{var n=r(6954),a=r(4657);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},7980:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=n(r(1210));t.PostgrestClient=a.default;const i=n(r(8829));t.PostgrestQueryBuilder=i.default;const o=n(r(5736));t.PostgrestFilterBuilder=o.default;const s=n(r(7374));t.PostgrestTransformBuilder=s.default;const l=n(r(9286));t.PostgrestBuilder=l.default;const c=n(r(2611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:c.default}},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,r)=>{var n=r(2070),a=r(5713),i=r(2074),o=n&&1/i(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=o},8189:(e,t,r)=>{var n=r(3871);e.exports=function(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&r>=a?e:n(e,t,r)}},8210:function(e,t,r){var n;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,f=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,y=d(1286742750677284.5),g={};function v(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?E(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),i>(l=(o=Math.ceil(f/7))>l?o+1:l+1)&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/p|0,c[i]%=p;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?E(t,f):t}function b(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function x(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=S(r)),i+=n;(r=7-(n=(o=e[t])+"").length)&&(i+=S(r))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},g.dividedBy=g.div=function(e){return w(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return E(w(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return _(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(s=!1,t=w(O(r,o),O(e,o),o),s=!0,E(t,i))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):v(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(s=!1,t=w(r,e,0,1).times(e),s=!0,r.minus(t)):E(new n(r),a)},g.naturalExponential=g.exp=function(){return j(this)},g.naturalLogarithm=g.ln=function(){return O(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):P(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=_(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},g.squareRoot=g.sqrt=function(){var e,t,r,n,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=_(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(a.toString()),a=o=(r=u.precision)+3;;)if(n=(i=n).plus(w(c,i,o+2)).times(.5),x(i.d).slice(0,o)===(t=x(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(E(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if("9999"!=t)break;o+=4}return s=!0,E(n,r)},g.times=g.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,(c=h.length)<(u=m.length)&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],n=o=c+u;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,s?E(e,f.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(b(e,0,i),void 0===t?t=n.rounding:b(t,0,8),E(r,e+_(r)+1,t))},g.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=A(n,!0):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),r=A(n=E(new a(n),e+1,t),!0,e+1)),r},g.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?A(a):(b(e,0,i),void 0===t?t=o.rounding:b(t,0,8),r=A((n=E(new o(a),e+_(a)+1,t)).abs(),!1,e+_(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return E(new t(e),_(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,r,n,i,o,c,u=this,f=u.constructor,h=+(e=new f(e));if(!e.s)return new f(a);if(!(u=new f(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(n=f.precision,e.eq(a))return E(u,n);if(c=(t=e.e)>=(r=e.d.length-1),o=u.s,c){if((r=h<0?-h:h)<=m){for(i=new f(a),t=Math.ceil(n/7+4),s=!1;r%2&&T((i=i.times(u)).d,t),0!==(r=d(r/2));)T((u=u.times(u)).d,t);return s=!0,e.s<0?new f(a).div(i):E(i,n)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,s=!1,i=e.times(O(u,n+12)),s=!0,(i=j(i)).s=o,i},g.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?n=A(a,(r=_(a))<=o.toExpNeg||r>=o.toExpPos):(b(e,1,i),void 0===t?t=o.rounding:b(t,0,8),n=A(a=E(new o(a),e,t),e<=(r=_(a))||r<=o.toExpNeg,e)),n},g.toSignificantDigits=g.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(b(e,1,i),void 0===t?t=r.rounding:b(t,0,8)),E(new r(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=_(e),r=e.constructor;return A(e,t<=r.toExpNeg||t>=r.toExpPos)};var w=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,o){var s,c,u,d,f,h,m,y,g,v,b,x,w,j,k,S,O,N,P=n.constructor,A=n.s==a.s?1:-1,T=n.d,C=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,O=C.length,k=T.length,y=(m=new P(A)).d=[],u=0;C[u]==(T[u]||0);)++u;if(C[u]>(T[u]||0)&&--c,(x=null==i?i=P.precision:o?i+(_(n)-_(a))+1:i)<0)return new P(0);if(x=x/7+2|0,u=0,1==O)for(d=0,C=C[0],x++;(u<k||d)&&x--;u++)w=d*p+(T[u]||0),y[u]=w/C|0,d=w%C|0;else{for((d=p/(C[0]+1)|0)>1&&(C=e(C,d),T=e(T,d),O=C.length,k=T.length),j=O,v=(g=T.slice(0,O)).length;v<O;)g[v++]=0;(N=C.slice()).unshift(0),S=C[0],C[1]>=p/2&&++S;do{d=0,(s=t(C,g,O,v))<0?(b=g[0],O!=v&&(b=b*p+(g[1]||0)),(d=b/S|0)>1?(d>=p&&(d=p-1),1==(s=t(f=e(C,d),g,h=f.length,v=g.length))&&(d--,r(f,O<h?N:C,h))):(0==d&&(s=d=1),f=C.slice()),(h=f.length)<v&&f.unshift(0),r(g,f,v),-1==s&&(s=t(C,g,O,v=g.length))<1&&(d++,r(g,O<v?N:C,v)),v=g.length):0===s&&(d++,g=[0]),y[u++]=d,s&&g[0]?g[v++]=T[j]||0:(g=[T[j]],v=1)}while((j++<k||void 0!==g[0])&&x--)}return y[0]||y.shift(),m.e=c,E(m,o?i+_(m)+1:i)}}();function j(e,t){var r,n,i,o,l,c=0,d=0,h=e.constructor,p=h.precision;if(_(e)>16)throw Error(u+_(e));if(!e.s)return new h(a);for(null==t?(s=!1,l=p):l=t,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(f(2,d))/Math.LN10*2+5|0,r=n=i=new h(a),h.precision=l;;){if(n=E(n.times(e),l),r=r.times(++c),x((o=i.plus(w(n,r,l))).d).slice(0,l)===x(i.d).slice(0,l)){for(;d--;)i=E(i.times(i),l);return h.precision=p,null==t?(s=!0,E(i,p)):i}i=o}}function _(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function k(e,t,r){if(t>e.LN10.sd())throw s=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function O(e,t){var r,n,i,o,c,u,d,f,h,p=1,m=e,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new g(0);if(null==t?(s=!1,f=v):f=t,m.eq(10))return null==t&&(s=!0),k(g,f);if(f+=10,g.precision=f,n=(r=x(y)).charAt(0),o=_(m),!(Math.abs(o)<15e14))return d=k(g,f+2,v).times(o+""),m=O(new g(n+"."+r.slice(1)),f-10).plus(d),g.precision=v,null==t?(s=!0,E(m,v)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=x((m=m.times(e)).d)).charAt(0),p++;for(o=_(m),n>1?(m=new g("0."+r),o++):m=new g(n+"."+r.slice(1)),u=c=m=w(m.minus(a),m.plus(a),f),h=E(m.times(m),f),i=3;;){if(c=E(c.times(h),f),x((d=u.plus(w(c,new g(i),f))).d).slice(0,f)===x(u.d).slice(0,f))return u=u.times(2),0!==o&&(u=u.plus(k(g,f+2,v).times(o+""))),u=w(u,new g(p),f),g.precision=v,null==t?(s=!0,E(u,v)):u;u=d,i+=2}}function N(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),s&&(e.e>y||e.e<-y))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,r){var n,a,i,o,l,c,h,m,g=e.d;for(o=1,i=g[0];i>=10;i/=10)o++;if((n=t-o)<0)n+=7,a=t,h=g[m=0];else{if((m=Math.ceil((n+1)/7))>=(i=g.length))return e;for(h=i=g[m],o=1;i>=10;i/=10)o++;a=(n%=7)-7+o}if(void 0!==r&&(l=h/(i=f(10,o-a-1))%10|0,c=t<0||void 0!==g[m+1]||h%i,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?h/f(10,o-a):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return c?(i=_(e),g.length=1,t=t-i-1,g[0]=f(10,(7-t%7)%7),e.e=d(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==n?(g.length=m,i=1,m--):(g.length=m+1,i=f(10,7-n),g[m]=a>0?(h/f(10,o-a)%f(10,a)|0)*i:0),c)for(;;){if(0==m){(g[0]+=i)==p&&(g[0]=1,++e.e);break}if(g[m]+=i,g[m]!=p)break;g[m--]=0,i=1}for(n=g.length;0===g[--n];)g.pop();if(s&&(e.e>y||e.e<-y))throw Error(u+_(e));return e}function P(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),s?E(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n){for((d=o<0)?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for((d=(a=c.length)<(l=f.length))&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=f[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,s?E(t,m):t):new h(0)}function A(e,t,r){var n,a=_(e),i=x(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+S(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+S(-a-1)+i,r&&(n=r-o)>0&&(i+=S(n))):a>=o?(i+=S(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+S(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=S(n))),e.s<0?"-"+i:i}function T(e,t){if(e.length>t)return e.length=t,!0}function C(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(d(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}o=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):N(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(c+e);N(t,e)}if(i.prototype=g,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=C,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},8259:(e,t,r)=>{var n=r(5797);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},8325:(e,t,r)=>{var n=r(2541),a=r(5654),i=r(3279),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=o},8468:(e,t,r)=>{var n=r(5816),a=r(644),i=r(4020);e.exports=function(e,t,r){return t===t?i(e,t,r):n(e,a,r)}},8541:(e,t,r)=>{var n=r(9812),a=r(149),i=r(4052),o=r(9841),s=n?n.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},8673:(e,t,r)=>{var n=r(3204),a=r(3713),i=r(6571);e.exports=function(e){return i(e)?n(e):a(e)}},8724:(e,t,r)=>{var n=r(7615),a=r(5051),i=r(2154),o=r(8734),s=r(2662);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},8734:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},8829:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(5736));t.default=class{constructor(e,t){let{headers:r={},schema:n,fetch:a}=t;this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e){let{head:t=!1,count:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t?"HEAD":"GET";let i=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e))).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer="count=".concat(r)),new a.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=["resolution=".concat(r?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push("count=".concat(n)),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),this.headers.Prefer=r.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},8883:(e,t,r)=>{var n=r(5652),a=r(6571);e.exports=function(e,t){var r=-1,i=a(e)?Array(e.length):[];return n(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}},8895:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},8902:(e,t,r)=>{var n=r(4816),a=r(6179),i=r(6704);function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},8990:(e,t,r)=>{var n=r(9995)(r(2520));e.exports=n},9057:(e,t,r)=>{var n=r(5324),a=r(2777),i=r(4052),o=r(9194),s=r(6173),l=r(914);e.exports=function(e,t,r){for(var c=-1,u=(t=n(t,e)).length,d=!1;++c<u;){var f=l(t[c]);if(!(d=null!=e&&r(e,f)))break;e=e[f]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(f,u)&&(i(e)||a(e))}},9062:(e,t,r)=>{"use strict";e.exports=r(6378)},9096:(e,t,r)=>{var n=r(9256),a=r(5029),i=r(3279),o=r(4052),s=r(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):n(e):s(e)}},9115:(e,t,r)=>{var n=r(5967),a=r(6311),i=r(715);e.exports=function(e){return a(e)?i(e):n(e)}},9140:(e,t,r)=>{var n=r(7303);e.exports=function(e){var t=n(e),r=t%1;return t===t?r?t-r:t:0}},9160:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==n(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},9256:(e,t,r)=>{var n=r(6532),a=r(3781),i=r(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},9286:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(4630)),i=n(r(2611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,r,n;let a=null,o=null,s=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&i&&i.length>1&&(s=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:"Results contain ".concat(o.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,s=null,l=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(o=[],a=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(n=null===a||void 0===a?void 0:a.details)||void 0===n?void 0:n.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new i.default(a)}return{error:a,data:o,count:s,status:l,statusText:c}}));return this.shouldThrowOnError||(r=r.catch((e=>{var t,r,n;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:""),hint:"",code:"".concat(null!==(n=null===e||void 0===e?void 0:e.code)&&void 0!==n?n:"")},data:null,count:null,status:0,statusText:""}}))),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},9364:(e,t,r)=>{var n=r(9742),a=r(9096),i=r(61);e.exports=function(e,t){return e&&e.length?n(e,a(t,2),i):void 0}},9394:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).has(e)}},9395:(e,t,r)=>{var n=r(4262),a=r(9621),i=r(8673);e.exports=function(e){return n(e,i,a)}},9417:(e,t,r)=>{var n=r(6686);e.exports=function(e){return e===e&&!n(e)}},9621:(e,t,r)=>{var n=r(7529),a=r(7828),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),n(o(e),(function(t){return i.call(e,t)})))}:a;e.exports=s},9676:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,n,a,i){for(var o=-1,s=r(t((n-e)/(a||1)),0),l=Array(s);s--;)l[i?s:++o]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,r)=>{var n=r(9841);e.exports=function(e,t,r){for(var a=-1,i=e.length;++a<i;){var o=e[a],s=t(o);if(null!=s&&(void 0===l?s===s&&!n(s):r(s,l)))var l=s,c=o}return c}},9812:(e,t,r)=>{var n=r(6552).Symbol;e.exports=n},9841:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},9853:(e,t,r)=>{var n=r(6989);e.exports=function(e,t){return n(e,t)}},9889:(e,t,r)=>{var n=r(3950),a=r(6686);e.exports=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),n(e,t,{leading:i,maxWait:t,trailing:o})}},9935:(e,t,r)=>{var n=r(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},9987:(e,t,r)=>{var n=r(9812),a=r(2929),i=r(3211),o=r(3668),s=r(4160),l=r(2074),c=n?n.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,d,f){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&n;if(h||(h=l),e.size!=t.size&&!p)return!1;var m=f.get(e);if(m)return m==t;n|=2,f.set(e,t);var y=o(h(e),h(t),n,c,d,f);return f.delete(e),y;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,r)=>{var n=r(9096),a=r(6571),i=r(8673);e.exports=function(e){return function(t,r,o){var s=Object(t);if(!a(t)){var l=n(r,3);t=i(t),r=function(e){return l(s[e],e,s)}}var c=e(t,r,o);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,r.d(i,o),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+"."+{453:"722ce5b1",952:"a887f610"}[e]+".chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="iskwela-system:";r.l=(n,a,i,o)=>{if(e[n])e[n].push(a);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[a];var f=(t,r)=>{s.onerror=s.onload=null,clearTimeout(h);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),t)return t(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=i);var o=r.p+r.u(t),s=new Error;r.l(o,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,i,o=n[0],s=n[1],l=n[2],c=0;if(o.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(l)l(r)}for(t&&t(n);c<o.length;c++)i=o[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkiskwela_system=self.webpackChunkiskwela_system||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{scaleBand:()=>rm,scaleDiverging:()=>Mx,scaleDivergingLog:()=>Dx,scaleDivergingPow:()=>Rx,scaleDivergingSqrt:()=>Lx,scaleDivergingSymlog:()=>Ix,scaleIdentity:()=>Ng,scaleImplicit:()=>em,scaleLinear:()=>Og,scaleLog:()=>Rg,scaleOrdinal:()=>tm,scalePoint:()=>am,scalePow:()=>Hg,scaleQuantile:()=>nv,scaleQuantize:()=>av,scaleRadial:()=>Kg,scaleSequential:()=>Ox,scaleSequentialLog:()=>Nx,scaleSequentialPow:()=>Px,scaleSequentialQuantile:()=>Tx,scaleSequentialSqrt:()=>Ax,scaleSequentialSymlog:()=>Ex,scaleSqrt:()=>Gg,scaleSymlog:()=>Ug,scaleThreshold:()=>iv,scaleTime:()=>jx,scaleUtc:()=>_x,tickFormat:()=>kg});var t,n=r(5043),a=r.t(n,2),i=r(4391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Le){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,r,n){return void 0===r&&(r=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function h(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function p(e,r,n,a){void 0===a&&(a={});let{window:i=document.defaultView,v5Compat:c=!1}=a,h=i.history,p=t.Pop,m=null,y=g();function g(){return(h.state||{idx:null}).idx}function v(){p=t.Pop;let e=g(),r=null==e?null:e-y;y=e,m&&m({action:p,location:x.location,delta:r})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,r="string"===typeof e?e:f(e);return r=r.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==y&&(y=0,h.replaceState(o({},h.state,{idx:y}),""));let x={get action(){return p},get location(){return e(i,h)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(s,v),m=e,()=>{i.removeEventListener(s,v),m=null}},createHref:e=>r(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,r){p=t.Push;let a=d(x.location,e,r);n&&n(a,e),y=g()+1;let o=u(a,y),s=x.createHref(a);try{h.pushState(o,"",s)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;i.location.assign(s)}c&&m&&m({action:p,location:x.location,delta:1})},replace:function(e,r){p=t.Replace;let a=d(x.location,e,r);n&&n(a,e),y=g();let i=u(a,y),o=x.createHref(a);h.replaceState(i,"",o),c&&m&&m({action:p,location:x.location,delta:0})},go:e=>h.go(e)};return x}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,r){return void 0===r&&(r="/"),g(e,t,r,!1)}function g(e,t,r,n){let a=T(("string"===typeof t?h(t):t).pathname||"/",r);if(null==a)return null;let i=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=A(a);o=E(i[s],e,n)}return o}function v(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(l(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let s=R([n,o.relativePath]),c=r.concat(o);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),v(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:N(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of b(e.path))a(e,t,n);else a(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let o=b(n.join("/")),s=[];return s.push(...o.map((e=>""===e?i:[i,e].join("/")))),a&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,w=3,j=2,_=1,k=10,S=-2,O=e=>"*"===e;function N(e,t){let r=e.split("/"),n=r.length;return r.some(O)&&(n+=S),t&&(n+=j),r.filter((e=>!O(e))).reduce(((e,t)=>e+(x.test(t)?w:""===t?_:k)),n)}function E(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],l=s===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:R([i,u.pathname]),pathnameBase:L(R([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=R([i,u.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1),l=n.reduce(((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=s[r]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:o,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function C(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e,t){let r=M(e);return t?r.map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)):r.map((e=>e.pathnameBase))}function I(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=h(e):(a=o({},e),l(!a.pathname||!a.pathname.includes("?"),C("?","pathname","search",a)),l(!a.pathname||!a.pathname.includes("#"),C("#","pathname","hash",a)),l(!a.search||!a.search.includes("#"),C("#","search","hash",a)));let i,s=""===e||""===a.pathname,c=s?"/":a.pathname;if(null==c)i=r;else{let e=t.length-1;if(!n&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?h(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:F(n),hash:z(a)}}(a,i),d=c&&"/"!==c&&c.endsWith("/"),f=(s||"."===c)&&r.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],q=(new Set(B),["get",...B]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V.apply(this,arguments)}const W=n.createContext(null);const H=n.createContext(null);const G=n.createContext(null);const Z=n.createContext(null);const K=n.createContext({outlet:null,matches:[],isDataRoute:!1});const $=n.createContext(null);function Y(){return null!=n.useContext(Z)}function Q(){return Y()||l(!1),n.useContext(Z).location}function X(e){n.useContext(G).static||n.useLayoutEffect(e)}function J(){let{isDataRoute:e}=n.useContext(K);return e?function(){let{router:e}=ce(se.UseNavigateStable),t=de(le.UseNavigateStable),r=n.useRef(!1);return X((()=>{r.current=!0})),n.useCallback((function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,V({fromRouteId:t},a)))}),[e,t])}():function(){Y()||l(!1);let e=n.useContext(W),{basename:t,future:r,navigator:a}=n.useContext(G),{matches:i}=n.useContext(K),{pathname:o}=Q(),s=JSON.stringify(D(i,r.v7_relativeSplatPath)),c=n.useRef(!1);X((()=>{c.current=!0}));let u=n.useCallback((function(r,n){if(void 0===n&&(n={}),!c.current)return;if("number"===typeof r)return void a.go(r);let i=I(r,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:R([t,i.pathname])),(n.replace?a.replace:a.push)(i,n.state,n)}),[t,a,s,o,e]);return u}()}function ee(e,t){let{relative:r}=void 0===t?{}:t,{future:a}=n.useContext(G),{matches:i}=n.useContext(K),{pathname:o}=Q(),s=JSON.stringify(D(i,a.v7_relativeSplatPath));return n.useMemo((()=>I(e,JSON.parse(s),o,"path"===r)),[e,s,o,r])}function te(e,r,a,i){Y()||l(!1);let{navigator:o,static:s}=n.useContext(G),{matches:c}=n.useContext(K),u=c[c.length-1],d=u?u.params:{},f=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let p,m=Q();if(r){var g;let e="string"===typeof r?h(r):r;"/"===f||(null==(g=e.pathname)?void 0:g.startsWith(f))||l(!1),p=e}else p=m;let v=p.pathname||"/",b=v;if("/"!==f){let e=f.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!s&&a&&a.matches&&a.matches.length>0?a.matches:y(e,{pathname:b});let w=oe(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:R([f,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:R([f,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,a,i);return r&&w?n.createElement(Z.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:t.Pop}},w):w}function re(){let e=function(){var e;let t=n.useContext($),r=ue(le.UseRouteError),a=de(le.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[a]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:i},r):null,null)}const ne=n.createElement(re,null);class ae extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(K.Provider,{value:this.props.routeContext},n.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:r,children:a}=e,i=n.useContext(W);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(K.Provider,{value:t},a)}function oe(e,t,r,a){var i;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===a&&(a=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=a)&&o.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let s=e,c=null==(i=r)?void 0:i.errors;if(null!=c){let e=s.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let n=0;n<s.length;n++){let e=s[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=n),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){u=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight(((e,a,i)=>{let o,l=!1,f=null,h=null;var p;r&&(o=c&&a.route.id?c[a.route.id]:void 0,f=a.route.errorElement||ne,u&&(d<0&&0===i?(p="route-fallback",!1||fe[p]||(fe[p]=!0),l=!0,h=null):d===i&&(l=!0,h=a.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,i+1)),y=()=>{let t;return t=o?f:l?h:a.route.Component?n.createElement(a.route.Component,null):a.route.element?a.route.element:e,n.createElement(ie,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===i)?n.createElement(ae,{location:r.location,revalidation:r.revalidation,component:f,error:o,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()}),null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let t=n.useContext(W);return t||l(!1),t}function ue(e){let t=n.useContext(H);return t||l(!1),t}function de(e){let t=function(){let e=n.useContext(K);return e||l(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||l(!1),r.route.id}const fe={};function he(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function pe(e){let{to:t,replace:r,state:a,relative:i}=e;Y()||l(!1);let{future:o,static:s}=n.useContext(G),{matches:c}=n.useContext(K),{pathname:u}=Q(),d=J(),f=I(t,D(c,o.v7_relativeSplatPath),u,"path"===i),h=JSON.stringify(f);return n.useEffect((()=>d(JSON.parse(h),{replace:r,state:a,relative:i})),[d,h,i,r,a]),null}function me(e){l(!1)}function ye(e){let{basename:r="/",children:a=null,location:i,navigationType:o=t.Pop,navigator:s,static:c=!1,future:u}=e;Y()&&l(!1);let d=r.replace(/^\/*/,"/"),f=n.useMemo((()=>({basename:d,navigator:s,static:c,future:V({v7_relativeSplatPath:!1},u)})),[d,u,s,c]);"string"===typeof i&&(i=h(i));let{pathname:p="/",search:m="",hash:y="",state:g=null,key:v="default"}=i,b=n.useMemo((()=>{let e=T(p,d);return null==e?null:{location:{pathname:e,search:m,hash:y,state:g,key:v},navigationType:o}}),[d,p,m,y,g,v,o]);return null==b?null:n.createElement(G.Provider,{value:f},n.createElement(Z.Provider,{children:a,value:b}))}function ge(e){let{children:t,location:r}=e;return te(ve(t),r)}new Promise((()=>{}));n.Component;function ve(e,t){void 0===t&&(t=[]);let r=[];return n.Children.forEach(e,((e,a)=>{if(!n.isValidElement(e))return;let i=[...t,a];if(e.type===n.Fragment)return void r.push.apply(r,ve(e.props.children,i));e.type!==me&&l(!1),e.props.index&&e.props.children&&l(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,i)),r.push(o)})),r}var be=r(7950),xe=r.t(be,2);function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},we.apply(this,arguments)}function je(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Le){}new Map;const ke=a.startTransition;xe.flushSync,a.useId;function Se(e){let{basename:t,children:r,future:a,window:i}=e,o=n.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),p((function(e,t){let{pathname:r,search:n,hash:a}=e.location;return d("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,s)));let l=o.current,[c,u]=n.useState({action:l.action,location:l.location}),{v7_startTransition:h}=a||{},m=n.useCallback((e=>{h&&ke?ke((()=>u(e))):u(e)}),[u,h]);return n.useLayoutEffect((()=>l.listen(m)),[l,m]),n.useEffect((()=>he(a)),[a]),n.createElement(ye,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:a})}const Oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=n.forwardRef((function(e,t){let r,{onClick:a,relative:i,reloadDocument:o,replace:s,state:c,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,m=je(e,_e),{basename:y}=n.useContext(G),g=!1;if("string"===typeof d&&Ne.test(d)&&(r=d,Oe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=T(t.pathname,y);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:g=!0}catch(Le){}let v=function(e,t){let{relative:r}=void 0===t?{}:t;Y()||l(!1);let{basename:a,navigator:i}=n.useContext(G),{hash:o,pathname:s,search:c}=ee(e,{relative:r}),u=s;return"/"!==a&&(u="/"===s?a:R([a,s])),i.createHref({pathname:u,search:c,hash:o})}(d,{relative:i}),b=function(e,t){let{target:r,replace:a,state:i,preventScrollReset:o,relative:s,viewTransition:l}=void 0===t?{}:t,c=J(),u=Q(),d=ee(e,{relative:s});return n.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==a?a:f(u)===f(d);c(e,{replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:l})}}),[u,c,d,a,i,r,e,o,s,l])}(d,{replace:s,state:c,target:u,preventScrollReset:h,relative:i,viewTransition:p});return n.createElement("a",we({},m,{href:r||v,onClick:g||o?a:function(e){a&&a(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Pe,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));function Te(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Me(e){var t=function(e,t){if("object"!=Ce(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ce(t)?t:t+""}function De(e,t,r){return(t=Me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){De(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let Le={data:""},Fe=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Le,ze=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ue=/\/\*[^]*?\*\/|  +/g,Be=/\n+/g,qe=(e,t)=>{let r="",n="",a="";for(let i in e){let o=e[i];"@"==i[0]?"i"==i[1]?r=i+" "+o+";":n+="f"==i[1]?qe(o,i):i+"{"+qe(o,"k"==i[1]?"":t)+"}":"object"==typeof o?n+=qe(o,t?t.replace(/([^,])+/g,(e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):i):null!=o&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=qe.p?qe.p(i,o):i+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Ve={},We=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+We(e[r]);return t}return e},He=(e,t,r,n,a)=>{let i=We(e),o=Ve[i]||(Ve[i]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(i));if(!Ve[o]){let t=i!==e?e:(e=>{let t,r,n=[{}];for(;t=ze.exec(e.replace(Ue,""));)t[4]?n.shift():t[3]?(r=t[3].replace(Be," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(Be," ").trim();return n[0]})(e);Ve[o]=qe(a?{["@keyframes "+o]:t}:t,r?"":"."+o)}let s=r&&Ve.g?Ve.g:null;return r&&(Ve.g=Ve[o]),((e,t,r,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(Ve[o],t,n,s),o};function Ge(e){let t=this||{},r=e.call?e(t.p):e;return He(r.unshift?r.raw?((e,t,r)=>e.reduce(((e,n,a)=>{let i=t[a];if(i&&i.call){let e=i(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":qe(e,""):!1===e?"":e}return e+n+(null==i?"":i)}),""))(r,[].slice.call(arguments,1),t.p):r.reduce(((e,r)=>Object.assign(e,r&&r.call?r(t.p):r)),{}):r,Fe(t.target),t.g,t.o,t.k)}Ge.bind({g:1});let Ze,Ke,$e,Ye=Ge.bind({k:1});function Qe(e,t){let r=this||{};return function(){let n=arguments;function a(i,o){let s=Object.assign({},i),l=s.className||a.className;r.p=Object.assign({theme:Ke&&Ke()},s),r.o=/ *go\d+/.test(l),s.className=Ge.apply(r,n)+(l?" "+l:""),t&&(s.ref=o);let c=e;return e[0]&&(c=s.as||e,delete s.as),$e&&c[0]&&$e(s),Ze(c,s)}return t?t(a):a}}var Xe,Je,et,tt,rt,nt,at,it,ot,st,lt,ct,ut,dt,ft,ht,pt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,mt=(()=>{let e=0;return()=>(++e).toString()})(),yt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),gt=(e,t)=>{switch(t.type){case 0:return Re(Re({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return Re(Re({},e),{},{toasts:e.toasts.map((e=>e.id===t.toast.id?Re(Re({},e),t.toast):e))});case 2:let{toast:r}=t;return gt(e,{type:e.toasts.find((e=>e.id===r.id))?1:0,toast:r});case 3:let{toastId:n}=t;return Re(Re({},e),{},{toasts:e.toasts.map((e=>e.id===n||void 0===n?Re(Re({},e),{},{dismissed:!0,visible:!1}):e))});case 4:return void 0===t.toastId?Re(Re({},e),{},{toasts:[]}):Re(Re({},e),{},{toasts:e.toasts.filter((e=>e.id!==t.toastId))});case 5:return Re(Re({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return Re(Re({},e),{},{pausedAt:void 0,toasts:e.toasts.map((e=>Re(Re({},e),{},{pauseDuration:e.pauseDuration+a})))})}},vt=[],bt={toasts:[],pausedAt:void 0},xt=e=>{bt=gt(bt,e),vt.forEach((e=>{e(bt)}))},wt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jt=e=>(t,r)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return Re(Re({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{},{id:(null==r?void 0:r.id)||mt()})}(t,e,r);return xt({type:2,toast:n}),n.id},_t=(e,t)=>jt("blank")(e,t);_t.error=jt("error"),_t.success=jt("success"),_t.loading=jt("loading"),_t.custom=jt("custom"),_t.dismiss=e=>{xt({type:3,toastId:e})},_t.remove=e=>xt({type:4,toastId:e}),_t.promise=(e,t,r)=>{let n=_t.loading(t.loading,Re(Re({},r),null==r?void 0:r.loading));return"function"==typeof e&&(e=e()),e.then((e=>{let a=t.success?pt(t.success,e):void 0;return a?_t.success(a,Re(Re({id:n},r),null==r?void 0:r.success)):_t.dismiss(n),e})).catch((e=>{let a=t.error?pt(t.error,e):void 0;a?_t.error(a,Re(Re({id:n},r),null==r?void 0:r.error)):_t.dismiss(n)})),e};var kt=(e,t)=>{xt({type:1,toast:{id:e,height:t}})},St=()=>{xt({type:5,time:Date.now()})},Ot=new Map,Nt=e=>{let{toasts:t,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,n.useState)(bt),a=(0,n.useRef)(bt);(0,n.useEffect)((()=>(a.current!==bt&&r(bt),vt.push(r),()=>{let e=vt.indexOf(r);e>-1&&vt.splice(e,1)})),[]);let i=t.toasts.map((t=>{var r,n,a;return Re(Re(Re(Re({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||wt[t.type],style:Re(Re(Re({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})}));return Re(Re({},t),{},{toasts:i})}(e);(0,n.useEffect)((()=>{if(r)return;let e=Date.now(),n=t.map((t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout((()=>_t.dismiss(t.id)),r);t.visible&&_t.dismiss(t.id)}));return()=>{n.forEach((e=>e&&clearTimeout(e)))}}),[t,r]);let a=(0,n.useCallback)((()=>{r&&xt({type:6,time:Date.now()})}),[r]),i=(0,n.useCallback)(((e,r)=>{let{reverseOrder:n=!1,gutter:a=8,defaultPosition:i}=r||{},o=t.filter((t=>(t.position||i)===(e.position||i)&&t.height)),s=o.findIndex((t=>t.id===e.id)),l=o.filter(((e,t)=>t<s&&e.visible)).length;return o.filter((e=>e.visible)).slice(...n?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+a),0)}),[t]);return(0,n.useEffect)((()=>{t.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Ot.has(e))return;let r=setTimeout((()=>{Ot.delete(e),xt({type:4,toastId:e})}),t);Ot.set(e,r)}(e.id,e.removeDelay);else{let t=Ot.get(e.id);t&&(clearTimeout(t),Ot.delete(e.id))}}))}),[t]),{toasts:t,handlers:{updateHeight:kt,startPause:St,endPause:a,calculateOffset:i}}},Et=Ye(Xe||(Xe=Te(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Pt=Ye(Je||(Je=Te(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),At=Ye(et||(et=Te(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Tt=Qe("div")(tt||(tt=Te(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(e=>e.primary||"#ff4b4b"),Et,Pt,(e=>e.secondary||"#fff"),At),Ct=Ye(rt||(rt=Te(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Mt=Qe("div")(nt||(nt=Te(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(e=>e.secondary||"#e0e0e0"),(e=>e.primary||"#616161"),Ct),Dt=Ye(at||(at=Te(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),It=Ye(it||(it=Te(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Rt=Qe("div")(ot||(ot=Te(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(e=>e.primary||"#61d345"),Dt,It,(e=>e.secondary||"#fff")),Lt=Qe("div")(st||(st=Te(["\n  position: absolute;\n"]))),Ft=Qe("div")(lt||(lt=Te(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),zt=Ye(ct||(ct=Te(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Ut=Qe("div")(ut||(ut=Te(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),zt),Bt=e=>{let{toast:t}=e,{icon:r,type:a,iconTheme:i}=t;return void 0!==r?"string"==typeof r?n.createElement(Ut,null,r):r:"blank"===a?null:n.createElement(Ft,null,n.createElement(Mt,Re({},i)),"loading"!==a&&n.createElement(Lt,null,"error"===a?n.createElement(Tt,Re({},i)):n.createElement(Rt,Re({},i))))},qt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Vt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Wt=Qe("div")(dt||(dt=Te(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Ht=Qe("div")(ft||(ft=Te(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Gt=n.memo((e=>{let{toast:t,position:r,style:a,children:i}=e,o=t.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,a]=yt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[qt(r),Vt(r)];return{animation:t?"".concat(Ye(n)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Ye(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||r||"top-center",t.visible):{opacity:0},s=n.createElement(Bt,{toast:t}),l=n.createElement(Ht,Re({},t.ariaProps),pt(t.message,t));return n.createElement(Wt,{className:t.className,style:Re(Re(Re({},o),a),t.style)},"function"==typeof i?i({icon:s,message:l}):n.createElement(n.Fragment,null,s,l))}));!function(e,t,r,n){qe.p=t,Ze=e,Ke=r,$e=n}(n.createElement);var Zt=e=>{let{id:t,className:r,style:a,onHeightUpdate:i,children:o}=e,s=n.useCallback((e=>{if(e){let r=()=>{let r=e.getBoundingClientRect().height;i(t,r)};r(),new MutationObserver(r).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,i]);return n.createElement("div",{ref:s,className:r,style:a},o)},Kt=Ge(ht||(ht=Te(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),$t=e=>{let{reverseOrder:t,position:r="top-center",toastOptions:a,gutter:i,children:o,containerStyle:s,containerClassName:l}=e,{toasts:c,handlers:u}=Nt(a);return n.createElement("div",{id:"_rht_toaster",style:Re({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},s),className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let a=e.position||r,s=((e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Re(Re({left:0,right:0,display:"flex",position:"absolute",transition:yt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(r?1:-1),"px)")},n),a)})(a,u.calculateOffset(e,{reverseOrder:t,gutter:i,defaultPosition:r}));return n.createElement(Zt,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?Kt:"",style:s},"custom"===e.type?pt(e.message,e):o?o(e):n.createElement(Gt,{toast:e,position:a}))})))},Yt=_t;class Qt extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class Xt extends Qt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Jt extends Qt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class er extends Qt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tr;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(tr||(tr={}));var rr=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(Le){i(Le)}}function s(e){try{l(n.throw(e))}catch(Le){i(Le)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class nr{constructor(e){let{headers:t={},customFetch:n,region:a=tr.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,4630)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return rr(this,void 0,void 0,(function*(){try{const{headers:n,method:a,body:i}=t;let o,s={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(s["x-region"]=l),i&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!==typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",o=i):"string"===typeof i?(s["Content-Type"]="text/plain",o=i):"undefined"!==typeof FormData&&i instanceof FormData?o=i:(s["Content-Type"]="application/json",o=JSON.stringify(i)));const c=yield this.fetch("".concat(this.url,"/").concat(e),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),n),body:o}).catch((e=>{throw new Xt(e)})),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new Jt(c);if(!c.ok)throw new er(c);let d,f=(null!==(r=c.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return d="application/json"===f?yield c.json():"application/octet-stream"===f?yield c.blob():"text/event-stream"===f?c:"multipart/form-data"===f?yield c.formData():yield c.text(),{data:d,error:null}}catch(n){return{data:null,error:n}}}))}}var ar=r(7980);const{PostgrestClient:ir,PostgrestQueryBuilder:or,PostgrestFilterBuilder:sr,PostgrestTransformBuilder:lr,PostgrestBuilder:cr,PostgrestError:ur}=ar,dr={"X-Client-Info":"realtime-js/".concat("2.11.2")};var fr,hr,pr,mr,yr,gr;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(fr||(fr={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(hr||(hr={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(pr||(pr={})),function(e){e.websocket="websocket"}(mr||(mr={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(yr||(yr={}));class vr{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=r.decode(e.slice(i,i+n));i+=n;const s=r.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:o,event:s,payload:JSON.parse(r.decode(e.slice(i,e.byteLength)))}}}class br{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(gr||(gr={}));const xr=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce(((r,a)=>(r[a]=wr(a,e,t,n),r)),{})},wr=(e,t,r,n)=>{const a=t.find((t=>t.name===e)),i=null===a||void 0===a?void 0:a.type,o=r[e];return i&&!n.includes(i)?jr(i,o):_r(o)},jr=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return Nr(t,r)}switch(e){case gr.bool:return kr(t);case gr.float4:case gr.float8:case gr.int2:case gr.int4:case gr.int8:case gr.numeric:case gr.oid:return Sr(t);case gr.json:case gr.jsonb:return Or(t);case gr.timestamp:return Er(t);case gr.abstime:case gr.date:case gr.daterange:case gr.int4range:case gr.int8range:case gr.money:case gr.reltime:case gr.text:case gr.time:case gr.timestamptz:case gr.timetz:case gr.tsrange:case gr.tstzrange:default:return _r(t)}},_r=e=>e,kr=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Sr=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Or=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},Nr=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const a=e.slice(1,r);try{n=JSON.parse("["+a+"]")}catch(Rt){n=a?a.split(","):[]}return n.map((e=>jr(t,e)))}return e},Er=e=>"string"===typeof e?e.replace(" ","T"):e,Pr=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ar{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(r)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tr,Cr,Mr,Dr;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Tr||(Tr={}));class Ir{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ir.syncState(this.state,e,t,r),this.pendingDiffs.forEach((e=>{this.state=Ir.syncDiff(this.state,e,t,r)})),this.pendingDiffs=[],n()})),this.channel._on(r.diff,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Ir.syncDiff(this.state,e,t,r),n())})),this.onJoin(((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})})),this.onLeave(((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,r,n){const a=this.cloneDeep(e),i=this.transformState(t),o={},s={};return this.map(a,((e,t)=>{i[e]||(s[e]=t)})),this.map(i,((e,t)=>{const r=a[e];if(r){const n=t.map((e=>e.presence_ref)),a=r.map((e=>e.presence_ref)),i=t.filter((e=>a.indexOf(e.presence_ref)<0)),l=r.filter((e=>n.indexOf(e.presence_ref)<0));i.length>0&&(o[e]=i),l.length>0&&(s[e]=l)}else o[e]=t})),this.syncDiff(a,{joins:o,leaves:s},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,((t,n)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),i.length>0){const r=e[t].map((e=>e.presence_ref)),n=i.filter((e=>r.indexOf(e.presence_ref)<0));e[t].unshift(...n)}r(t,i,n)})),this.map(i,((t,r)=>{let a=e[t];if(!a)return;const i=r.map((e=>e.presence_ref));a=a.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=a,n(t,a,r),0===a.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((r=>t(r,e[r])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):n,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Cr||(Cr={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Mr||(Mr={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Dr||(Dr={}));class Rr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ar(this,pr.join,this.params,this.timeout),this.rejoinTimer=new br((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=hr.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())})),this._on(pr.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new Ir(this),this.broadcastEndpointURL=Pr(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:o}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e(Dr.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(Dr.CLOSED)));const s={},l={broadcast:a,presence:i,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map((e=>e.filter)))&&void 0!==n?n:[],private:o};this.socket.accessTokenValue&&(s.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},s)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:r}=t;var n;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,a=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,i=[];for(let n=0;n<a;n++){const a=t[n],{filter:{event:o,schema:s,table:l,filter:c}}=a,u=r&&r[n];if(!u||u.event!==o||u.schema!==s||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null===e||void 0===e||e(Dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(Dr.SUBSCRIBED))}null===e||void 0===e||e(Dr.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e(Dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(Dr.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise((r=>{var n,a,i;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||r("ok"),o.receive("ok",(()=>r("ok"))),o.receive("error",(()=>r("error"))),o.receive("timeout",(()=>r("timed out")))}));{const{event:i,payload:o}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=hr.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(pr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((r=>{const n=new Ar(this,pr.leave,{},e);n.receive("ok",(()=>{t(),r("ok")})).receive("timeout",(()=>{t(),r("timed out")})).receive("error",(()=>{r("error")})),n.send(),this._canPush()||n.trigger("ok",{})}))}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout((()=>n.abort()),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),i}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let n=new Ar(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const i=e.toLocaleLowerCase(),{close:o,error:s,leave:l,join:c}=pr;if(r&&[o,s,l,c].indexOf(i)>=0&&r!==this._joinRef())return;let u=this._onMessage(i,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter((e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===i})).map((e=>e.callback(u,r))):null===(a=this.bindings[i])||void 0===a||a.filter((e=>{var r,n,a,o,s,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,o=null===(r=e.filter)||void 0===r?void 0:r.event;return i&&(null===(n=t.ids)||void 0===n?void 0:n.includes(i))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(s=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:i}=e,o={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:i};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,r)}))}_isClosed(){return this.state===hr.closed}_isJoined(){return this.state===hr.joined}_isJoining(){return this.state===hr.joining}_isLeaving(){return this.state===hr.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter((e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&Rr.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pr.close,{},e)}_onError(e){this._on(pr.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=hr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=xr(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=xr(e.columns,e.old_record)),t}}const Lr=()=>{},Fr="undefined"!==typeof WebSocket;class zr{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=dr,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Lr,this.conn=null,this.sendBuffer=[],this.serializer=new vr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,4630)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint="".concat(e,"/").concat(mr.websocket),this.httpEndpoint=Pr(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new br((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(Fr)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new Ur(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),r.e(952).then(r.t.bind(r,4952,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fr.connecting:return yr.Connecting;case fr.open:return yr.Open;case fr.closing:return yr.Closing;default:return yr.Closed}}isConnected(){return this.connectionState()===yr.Open}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r=new Rr("realtime:".concat(e),t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:n,ref:a}=e,i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push","".concat(t," ").concat(r," (").concat(a,")"),n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(r&&r.exp){if(!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",'InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(r.exp)),Promise.reject('InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(r.exp))}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(pr.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:r,payload:n,ref:a}=e;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(n.status||""," ").concat(t," ").concat(r," ").concat(a&&"("+a+")"||""),n),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(r,n,a))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(pr.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class Ur{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Br extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function qr(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Vr extends Br{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Wr extends Br{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Hr=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(Le){i(Le)}}function s(e){try{l(n.throw(e))}catch(Le){i(Le)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const Gr=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,4630)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}},Zr=e=>{if(Array.isArray(e))return e.map((e=>Zr(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[r,n]=e;const a=r.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[a]=Zr(n)})),t};var Kr=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(Le){i(Le)}}function s(e){try{l(n.throw(e))}catch(Le){i(Le)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const $r=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yr=(e,t,n)=>Kr(void 0,void 0,void 0,(function*(){const a=yield Hr(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(r.bind(r,4630))).Response:Response}));e instanceof a&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then((r=>{t(new Vr($r(r),e.status||500))})).catch((e=>{t(new Wr($r(e),e))})):t(new Wr($r(e),e))}));function Qr(e,t,r,n,a,i){return Kr(this,void 0,void 0,(function*(){return new Promise(((o,s)=>{e(r,((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))})(t,n,a,i)).then((e=>{if(!e.ok)throw e;return(null===n||void 0===n?void 0:n.noResolveJson)?e:e.json()})).then((e=>o(e))).catch((e=>Yr(e,s,n)))}))}))}function Xr(e,t,r,n){return Kr(this,void 0,void 0,(function*(){return Qr(e,"GET",t,r,n)}))}function Jr(e,t,r,n,a){return Kr(this,void 0,void 0,(function*(){return Qr(e,"POST",t,n,a,r)}))}function en(e,t,r,n,a){return Kr(this,void 0,void 0,(function*(){return Qr(e,"DELETE",t,n,a,r)}))}var tn=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(Le){i(Le)}}function s(e){try{l(n.throw(e))}catch(Le){i(Le)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const rn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class an{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=r,this.fetch=Gr(n)}uploadOrUpdate(e,t,r,n){return tn(this,void 0,void 0,(function*(){try{let a;const i=Object.assign(Object.assign({},nn),n);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const s=i.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),s&&a.append("metadata",this.encodeMetadata(s)),a.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(a=r,a.append("cacheControl",i.cacheControl),s&&a.append("metadata",this.encodeMetadata(s))):(a=r,o["cache-control"]="max-age=".concat(i.cacheControl),o["content-type"]=i.contentType,s&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null===n||void 0===n?void 0:n.headers)&&(o=Object.assign(Object.assign({},o),n.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch("".concat(this.url,"/object/").concat(c),Object.assign({method:e,body:a,headers:o},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(a){if(qr(a))return{data:null,error:a};throw a}}))}upload(e,t,r){return tn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,r)}))}uploadToSignedUrl(e,t,r,n){return tn(this,void 0,void 0,(function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),o=new URL(this.url+"/object/upload/sign/".concat(i));o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:nn.upsert},n),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType);const s=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:i}),l=yield s.json();if(s.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(s){if(qr(s))return{data:null,error:s};throw s}}))}createSignedUploadUrl(e,t){return tn(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(n["x-upsert"]="true");const a=yield Jr(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(r),{},{headers:n}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new Br("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(r){if(qr(r))return{data:null,error:r};throw r}}))}update(e,t,r){return tn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,r)}))}move(e,t,r){return tn(this,void 0,void 0,(function*(){try{return{data:yield Jr(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(qr(n))return{data:null,error:n};throw n}}))}copy(e,t,r){return tn(this,void 0,void 0,(function*(){try{return{data:{path:(yield Jr(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(qr(n))return{data:null,error:n};throw n}}))}createSignedUrl(e,t,r){return tn(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e),a=yield Jr(this.fetch,"".concat(this.url,"/object/sign/").concat(n),Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const i=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(i))},{data:a,error:null}}catch(n){if(qr(n))return{data:null,error:n};throw n}}))}createSignedUrls(e,t,r){return tn(this,void 0,void 0,(function*(){try{const n=yield Jr(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return{data:n.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null}))),error:null}}catch(n){if(qr(n))return{data:null,error:n};throw n}}))}download(e,t){return tn(this,void 0,void 0,(function*(){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=n?"?".concat(n):"";try{const t=this._getFinalPath(e),n=yield Xr(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(t).concat(a),{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(i){if(qr(i))return{data:null,error:i};throw i}}))}info(e){return tn(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield Xr(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Zr(e),error:null}}catch(r){if(qr(r))return{data:null,error:r};throw r}}))}exists(e){return tn(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return Kr(this,void 0,void 0,(function*(){return Qr(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)}))}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(r){if(qr(r)&&r instanceof Wr){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}}))}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&n.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&n.push(o);let s=n.join("&");return""!==s&&(s="?".concat(s)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(i,"/public/").concat(r).concat(s))}}}remove(e){return tn(this,void 0,void 0,(function*(){try{return{data:yield en(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(qr(t))return{data:null,error:t};throw t}}))}list(e,t,r){return tn(this,void 0,void 0,(function*(){try{const n=Object.assign(Object.assign(Object.assign({},rn),t),{prefix:e||""});return{data:yield Jr(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),n,{headers:this.headers},r),error:null}}catch(n){if(qr(n))return{data:null,error:n};throw n}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const on={"X-Client-Info":"storage-js/".concat("2.7.1")};var sn=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(Le){i(Le)}}function s(e){try{l(n.throw(e))}catch(Le){i(Le)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class ln{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},on),t),this.fetch=Gr(r)}listBuckets(){return sn(this,void 0,void 0,(function*(){try{return{data:yield Xr(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(qr(e))return{data:null,error:e};throw e}}))}getBucket(e){return sn(this,void 0,void 0,(function*(){try{return{data:yield Xr(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(qr(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return sn(this,void 0,void 0,(function*(){try{return{data:yield Jr(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(qr(r))return{data:null,error:r};throw r}}))}updateBucket(e,t){return sn(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r,n,a){return Kr(this,void 0,void 0,(function*(){return Qr(e,"PUT",t,n,a,r)}))}(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(r){if(qr(r))return{data:null,error:r};throw r}}))}emptyBucket(e){return sn(this,void 0,void 0,(function*(){try{return{data:yield Jr(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(qr(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return sn(this,void 0,void 0,(function*(){try{return{data:yield en(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(qr(t))return{data:null,error:t};throw t}}))}}class cn extends ln{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new an(this.url,this.headers,e,this.fetch)}}let un="";un="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const dn={headers:{"X-Client-Info":"supabase-js-".concat(un,"/").concat("2.49.4")}},fn={schema:"public"},hn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pn={};var mn=r(4630),yn=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(Le){i(Le)}}function s(e){try{l(n.throw(e))}catch(Le){i(Le)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const gn=e=>{let t;return t=e||("undefined"===typeof fetch?mn.default:fetch),function(){return t(...arguments)}},vn=(e,t,r)=>{const n=gn(r),a="undefined"===typeof Headers?mn.Headers:Headers;return(r,i)=>yn(void 0,void 0,void 0,(function*(){var o;const s=null!==(o=yield t())&&void 0!==o?o:e;let l=new a(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(s)),n(r,Object.assign(Object.assign({},i),{headers:l}))}))};var bn=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(Le){i(Le)}}function s(e){try{l(n.throw(e))}catch(Le){i(Le)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const xn="2.69.1",wn=3e4,jn=9e4,_n={"X-Client-Info":"gotrue-js/".concat(xn)},kn="X-Supabase-Api-Version",Sn={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},On=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Nn extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function En(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Pn extends Nn{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class An extends Nn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Tn extends Nn{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class Cn extends Tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Mn extends Tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dn extends Tn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class In extends Tn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rn extends Tn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ln extends Tn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Fn(e){return En(e)&&"AuthRetryableFetchError"===e.name}class zn extends Tn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Un extends Tn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qn=" \t\n\r=".split(""),Vn=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qn.length;t+=1)e[qn[t].charCodeAt(0)]=-2;for(let t=0;t<Bn.length;t+=1)e[Bn[t].charCodeAt(0)]=t;return e})();function Wn(e,t,r){const n=Vn[e];if(!(n>-1)){if(-2===n)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Hn(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let o=0;o<e.length;o+=1)Wn(e.charCodeAt(o),a,i);return t.join("")}function Gn(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Zn(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}Gn(n,t)}}function Kn(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Wn(e.charCodeAt(a),r,n);return new Uint8Array(t)}const $n=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Yn={tested:!1,writable:!1},Qn=()=>{if(!$n())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Le){return!1}if(Yn.tested)return Yn.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yn.tested=!0,Yn.writable=!0}catch(Le){Yn.tested=!0,Yn.writable=!1}return Yn.writable};const Xn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,4630)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}},Jn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ea=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},ta=async(e,t)=>{await e.removeItem(t)};class ra{constructor(){this.promise=new ra.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function na(e){const t=e.split(".");if(3!==t.length)throw new Un("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!On.test(t[r]))throw new Un("JWT not in base64url format");return{header:JSON.parse(Hn(t[0])),payload:JSON.parse(Hn(t[1])),signature:Kn(t[2]),raw:{header:t[0],payload:t[1]}}}function aa(e){return("0"+e.toString(16)).substr(-2)}async function ia(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oa(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,aa).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Jn(e,"".concat(t,"-code-verifier"),a);const i=await ia(n);return[i,n===i?"plain":"s256"]}ra.promiseConstructor=Promise;const sa=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var la=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const ca=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ua=[502,503,504];async function da(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new Ln(ca(e),0);if(ua.includes(e.status))throw new Ln(ca(e),e.status);let n,a;try{n=await e.json()}catch(Le){throw new An(ca(Le),Le)}const i=function(e){const t=e.headers.get(kn);if(!t)return null;if(!t.match(sa))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Le){return null}}(e);if(i&&i.getTime()>=Sn.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?a=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new zn(ca(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new Cn}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new zn(ca(n),e.status,n.weak_password.reasons);throw new Pn(ca(n),e.status||500,a)}async function fa(e,t,r,n){var a;const i=Object.assign({},null===n||void 0===n?void 0:n.headers);i[kn]||(i[kn]=Sn.name),(null===n||void 0===n?void 0:n.jwt)&&(i.Authorization="Bearer ".concat(n.jwt));const o=null!==(a=null===n||void 0===n?void 0:n.query)&&void 0!==a?a:{};(null===n||void 0===n?void 0:n.redirectTo)&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,r,n,a,i){const o=((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(Le){throw console.error(Le),new Ln(ca(Le),0)}s.ok||await da(s);if(null===n||void 0===n?void 0:n.noResolveJson)return s;try{return await s.json()}catch(Le){await da(Le)}}(e,t,r+s,{headers:i,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function ha(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function pa(e){const t=ha(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function ma(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ya(e){return{data:e,error:null}}function ga(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=la(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},user:Object.assign({},o)},error:null}}function va(e){return e}var ba=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};class xa{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=Xn(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await fa(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(En(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await fa(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ma})}catch(r){if(En(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=ba(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null===r||void 0===r?void 0:r.newEmail,delete n.newEmail),await fa(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:n,headers:this.headers,xform:ga,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(En(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await fa(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:ma})}catch(t){if(En(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,i,o,s;try{const l={nextPage:null,lastPage:0,total:0},c=await fa(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:va});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,f=null!==(s=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==s?s:[];return f.length>0&&(f.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(En(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await fa(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:ma})}catch(t){if(En(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await fa(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:ma})}catch(r){if(En(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await fa(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:ma})}catch(r){if(En(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await fa(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(En(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await fa(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(En(t))return{data:null,error:t};throw t}}}const wa={getItem:e=>Qn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Qn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Qn()&&globalThis.localStorage.removeItem(e)}};function ja(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const _a=!!(globalThis&&Qn()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class ka extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Sa extends ka{}async function Oa(e,t,r){_a&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout((()=>{n.abort(),_a&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},(async n=>{if(!n){if(0===t)throw _a&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Sa('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(_a)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Le){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Le)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}_a&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{_a&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Le){"undefined"!==typeof self&&(self.globalThis=self)}}();const Na={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_n,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ea(e,t,r){return await r()}class Pa{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pa.nextInstanceID,Pa.nextInstanceID+=1,this.instanceID>0&&$n()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Na),e);if(this.logDebugMessages=!!n.debug,"function"===typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new xa({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Xn(n.fetch),this.lock=n.lock||Ea,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:$n()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Oa:this.lock=Ea,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Qn()?this.storage=wa:(this.memoryStorage={},this.storage=ja(this.memoryStorage)):(this.memoryStorage={},this.storage=ja(this.memoryStorage)),$n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Le){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Le)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(xn,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach(((e,r)=>{t[r]=e}))}catch(Le){}return r.searchParams.forEach(((e,r)=>{t[r]=e})),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),$n()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return En(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout((async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return En(t)?{error:t}:{error:new An("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await fa(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:ha}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(a){if(En(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:i}=e;let o=null,s=null;"pkce"===this.flowType&&([o,s]=await oa(this.storage,this.storageKey)),a=await fa(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:s},xform:ha})}else{if(!("phone"in e))throw new Dn("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;a=await fa(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:i,data:null!==(r=null===o||void 0===o?void 0:o.data)&&void 0!==r?r:{},channel:null!==(n=null===o||void 0===o?void 0:o.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:ha})}}const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(a){if(En(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await fa(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:pa})}else{if(!("phone"in e))throw new Dn("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await fa(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:pa})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new Mn}}catch(t){if(En(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await ea(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await fa(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ha});if(await ta(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new Mn}}catch(a){if(En(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:i}=e,o=await fa(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:ha}),{data:s,error:l}=o;return l?{data:{user:null,session:null},error:l}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:l}):{data:{user:null,session:null},error:new Mn}}catch(t){if(En(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,a,i;try{if("email"in e){const{email:n,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await oa(this.storage,this.storageKey));const{error:s}=await fa(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:t,options:r}=e,{data:o,error:s}=await fa(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(i=null===r||void 0===r?void 0:r.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:s}}throw new Dn("You must provide either an email or phone number.")}catch(o){if(En(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:i,error:o}=await fa(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:ha});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const s=i.session,l=i.user;return(null===s||void 0===s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(n){if(En(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await oa(this.storage,this.storageKey)),await fa(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:ya})}catch(a){if(En(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Cn;const{error:n}=await fa(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(En(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:n,options:a}=e,{error:i}=await fa(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:i,error:o}=await fa(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new Dn("You must provide either an email or phone number and a type")}catch(t){if(En(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(Le){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Le){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<jn;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await fa(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:ma}):await this._useSession((async e=>{var t,r,n;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await fa(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:ma}):{data:{user:null},error:new Cn}}))}catch(t){if(En(t))return function(e){return En(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await ta(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new Cn;const i=n.session;let o=null,s=null;"pkce"===this.flowType&&null!=e.email&&([o,s]=await oa(this.storage,this.storageKey));const{data:l,error:c}=await fa(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:i.access_token,xform:ma});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(r){if(En(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Cn;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:i}=na(e.access_token);if(i.exp&&(r=i.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(En(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Cn;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(En(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!$n())throw new In("No browser detected.");if(e.error||e.error_description||e.error_code)throw new In(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Rn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new In("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rn("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:i,expires_in:o,expires_at:s,token_type:l}=e;if(!a||!o||!i||!l)throw new In("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;s&&(d=parseInt(s));const f=d-c;1e3*f<=wn&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(f,"s, should have been closer to ").concat(u,"s"));const h=d-u;c-h>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",h,d,c):c-h<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",h,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const y={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(En(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ea(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var r;const{data:n,error:a}=t;if(a)return{error:a};const i=null===(r=n.session)||void 0===r?void 0:r.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return En(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await ta(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession((async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await oa(this.storage,this.storageKey,!0));try{return await fa(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(En(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(En(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession((async t=>{var r,n,a,i,o;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await fa(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(i=s.session)||void 0===i?void 0:i.access_token)&&void 0!==o?o:void 0})}));if(n)throw n;return $n()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),{data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null}}catch(r){if(En(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var r,n;const{data:a,error:i}=t;if(i)throw i;return await fa(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})}))}catch(t){if(En(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const r=Date.now();return await function(e,t){const r=new Promise(((r,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const n=await e(a);if(!t(a,null,n))return void r(n)}catch(Le){if(!t(a,Le))return void n(Le)}})()}));return r}((async r=>(r>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await fa(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:ha}))),((e,t)=>{const n=200*Math.pow(2,e);return t&&Fn(t)&&Date.now()+n-r<wn}))}catch(r){if(this._debug(t,"error",r),En(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),$n()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await ea(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const n=1e3*(null!==(e=r.expires_at)&&void 0!==e?e:1/0)-Date.now()<jn;if(this._debug(t,"session has".concat(n?"":" not"," expired with margin of ").concat(jn,"s")),n){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),Fn(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){return this._debug(t,"error",r),void console.error(r)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{this.refreshingDeferred=new ra;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Cn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),En(a)){const e={session:null,error:a};return Fn(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n="#_notifyAllSubscribers(".concat(e,")");this._debug(n,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map((async r=>{try{await r.callback(e,t)}catch(Le){n.push(Le)}}));if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Jn(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ta(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$n()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Le){console.error("removing visibilitychange callback failed",Le)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),wn);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const e=Date.now();try{return await this._useSession((async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-e)/wn);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(n," ticks, a tick lasts ").concat(wn,"ms, refresh threshold is ").concat(3," ticks")),n<=3&&await this._callRefreshToken(r.refresh_token)}))}catch(Le){console.error("Auto refresh tick failed with error. This is likely a transient error.",Le)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(Le){if(!(Le.isAcquireTimeout||Le instanceof ka))throw Le;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$n()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=["provider=".concat(encodeURIComponent(t))];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),(null===r||void 0===r?void 0:r.scopes)&&n.push("scopes=".concat(encodeURIComponent(r.scopes))),"pkce"===this.flowType){const[e,t]=await oa(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(n.join("&"))}async _unenroll(e){try{return await this._useSession((async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await fa(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(En(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var r,n;const{data:a,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:s,error:l}=await fa(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null===s||void 0===s?void 0:s.totp)||void 0===n?void 0:n.qr_code)&&(s.totp.qr_code="data:image/svg+xml;utf-8,".concat(s.totp.qr_code)),{data:s,error:null})}))}catch(t){if(En(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:o}=await fa(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})}))}catch(t){if(En(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await fa(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(En(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null===e||void 0===e?void 0:e.factors)||[],n=r.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),a=r.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:r,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=na(n.access_token);let o=null;i.aal&&(o=i.aal);let s=o;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==r?r:[]).length>0&&(s="aal2");return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:i.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:r,error:n}=await fa(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(n)throw n;if(!r.keys||0===r.keys.length)throw new Un("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),t=r.keys.find((t=>t.kid===e)),!t)throw new Un("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:a,signature:i,raw:{header:o,payload:s}}=na(r);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!n.kid||"HS256"===n.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:i},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),c=await this.fetchJwk(n.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,i,function(e){const t=[];return Zn(e,(e=>t.push(e))),new Uint8Array(t)}("".concat(o,".").concat(s))))throw new Un("Invalid JWT signature");return{data:{claims:a,header:n,signature:i},error:null}}catch(r){if(En(r))return{data:null,error:r};throw r}}}Pa.nextInstanceID=0;const Aa=Pa;class Ta extends Aa{constructor(e){super(e)}}var Ca=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(Le){i(Le)}}function s(e){try{l(n.throw(e))}catch(Le){i(Le)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class Ma{constructor(e,t,r){var n,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=e.replace(/\/$/,"");this.realtimeUrl="".concat(o,"/realtime/v1").replace(/^http/i,"ws"),this.authUrl="".concat(o,"/auth/v1"),this.storageUrl="".concat(o,"/storage/v1"),this.functionsUrl="".concat(o,"/functions/v1");const s="sb-".concat(new URL(this.authUrl).hostname.split(".")[0],"-auth-token"),l=function(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:s,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},s),n),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},c),i),accessToken:()=>bn(this,void 0,void 0,(function*(){return""}))};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}(null!==r&&void 0!==r?r:{},{db:fn,realtime:pn,auth:Object.assign(Object.assign({},hn),{storageKey:s}),global:dn});this.storageKey=null!==(n=l.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(a=l.global.headers)&&void 0!==a?a:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(i=l.auth)&&void 0!==i?i:{},this.headers,l.global.fetch),this.fetch=vn(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new ir("".concat(o,"/rest/v1"),{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new nr(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cn(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ca(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:o,storageKey:s,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Ta({url:this.authUrl,headers:Object.assign(Object.assign({},d),t),storageKey:s,autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:o,flowType:l,lock:c,debug:u,fetch:r,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new zr(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}const Da="https://sguzivilqurzhqvtkdhn.supabase.co",Ia="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNndXppdmlscXVyemhxdnRrZGhuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcyODExMTUsImV4cCI6MjA2Mjg1NzExNX0.CkqOsUOebQ5KE0pewZfD7WDg4iSpwXe6uC4Y1Ww8wFQ";const Ra=((e,t,r)=>new Ma(e,t,r))(Da,Ia,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"supabase.auth.token",flowType:"pkce"}});var La=r(579);const Fa=(0,n.createContext)(void 0),za=()=>{const e=(0,n.useContext)(Fa);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Ua=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(null),[i,o]=(0,n.useState)(null),[s,l]=(0,n.useState)(!0),[c,u]=(0,n.useState)(!1),d=async e=>{console.log("fetchUserProfile: Starting for userId:",e);try{let{data:t,error:r}=await Ra.from("users").select("*").eq("id",e).maybeSingle();if(console.log("fetchUserProfile: Query by ID result:",{data:t,error:r}),r&&"PGRST116"!==r.code)return console.error("fetchUserProfile: Error fetching profile:",r),null;if(t)return t;const{data:{user:n},error:a}=await Ra.auth.getUser();if(a||!n)return console.error("fetchUserProfile: Failed to get auth user"),null;console.log("fetchUserProfile: Trying to find by email:",n.email);const{data:i,error:o}=await Ra.from("users").select("*").eq("email",n.email).maybeSingle();if(console.log("fetchUserProfile: Query by email result:",{emailData:i,emailError:o}),i){console.log("fetchUserProfile: Found user by email, updating ID");const{data:t,error:r}=await Ra.from("users").update({id:e}).eq("email",n.email).select().single();return r?(console.error("fetchUserProfile: Failed to update user ID:",r),i):t}return console.log("fetchUserProfile: No user found by ID or email"),null}catch(t){return console.error("fetchUserProfile: Caught error:",t),null}};(0,n.useEffect)((()=>{let e=!0;c||(async()=>{try{console.log("AuthContext: Initializing auth...");const{data:{session:t},error:r}=await Ra.auth.getSession();if(!e)return;if(console.log("AuthContext: Initial session:",t,"Error:",r),r)return console.error("AuthContext: Error getting session:",r),l(!1),void u(!0);if(null!==t&&void 0!==t&&t.user){o(t);const r=await d(t.user.id);if(!e)return;r?(console.log("AuthContext: Profile loaded:",r),a(r)):(console.log("AuthContext: Failed to load profile"),o(null),await Ra.auth.signOut())}else console.log("AuthContext: No session found"),o(null),a(null);l(!1),u(!0)}catch(t){console.error("AuthContext: Error initializing:",t),e&&(l(!1),u(!0))}})();const{data:t}=Ra.auth.onAuthStateChange((async(t,r)=>{if(console.log("AuthContext: Auth state changed:",t,r),e)if("SIGNED_IN"===t&&null!==r&&void 0!==r&&r.user){o(r);const t=await d(r.user.id);if(!e)return;t?a(t):(console.error("AuthContext: Failed to load profile after sign in"),a(null),o(null)),l(!1)}else"SIGNED_OUT"===t?(a(null),o(null),l(!1)):"TOKEN_REFRESHED"===t&&r&&o(r)}));return()=>{e=!1,t.subscription.unsubscribe()}}),[c]);const f={user:r,session:i,loading:s,signIn:async(e,t)=>{try{l(!0);const{data:n,error:i}=await Ra.auth.signInWithPassword({email:e,password:t});if(i)throw console.error("SignIn error:",i),l(!1),i;if(console.log("SignIn successful:",n),n.user&&n.session){o(n.session);let t=await d(n.user.id);if(!t){var r;console.log("SignIn: Creating user profile for:",n.user.id);const a={id:n.user.id,email:n.user.email||e,full_name:(null===(r=n.user.user_metadata)||void 0===r?void 0:r.full_name)||e.split("@")[0],role:"admin"};console.log("SignIn: Attempting to insert profile:",a);const{data:i,error:o}=await Ra.from("users").insert(a).select().single();if(o){if(console.error("SignIn: Failed to create profile:",o),"23505"!==o.code||!o.message.includes("users_email_key"))throw Yt.error("Failed to create user profile: ".concat(o.message)),await Ra.auth.signOut(),new Error("Failed to create user profile: ".concat(o.message));{console.log("SignIn: Duplicate email error, fetching existing profile");const{data:r,error:a}=await Ra.from("users").select("*").eq("email",n.user.email||e).single();if(a||!r)throw console.error("SignIn: Failed to fetch existing profile:",a),Yt.error("Failed to load user profile"),await Ra.auth.signOut(),new Error("Failed to load user profile");console.log("SignIn: Updating profile ID to match auth user");const{data:i,error:o}=await Ra.from("users").update({id:n.user.id}).eq("email",n.user.email||e).select().single();o?(console.error("SignIn: Failed to update profile ID:",o),t=r):t=i}}else t=i}a(t),Yt.success("Successfully signed in!")}}catch(n){throw console.error("SignIn error:",n),Yt.error(n.message||"Failed to sign in"),n}finally{l(!1)}},signOut:async()=>{try{l(!0);const{error:e}=await Ra.auth.signOut();if(e)throw e;a(null),o(null),Yt.success("Successfully signed out!")}catch(e){throw console.error("SignOut error:",e),Yt.error(e.message||"Failed to sign out"),e}finally{l(!1)}},isRole:e=>(null===r||void 0===r?void 0:r.role)===e};return(0,La.jsx)(Fa.Provider,{value:f,children:t})};function Ba(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var qa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Va=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],Wa=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ha=(e,t)=>{const r=(0,n.forwardRef)(((r,a)=>{let{color:i="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:u}=r,d=Ba(r,Va);return(0,n.createElement)("svg",Re(Re({ref:a},qa),{},{width:o,height:o,stroke:i,strokeWidth:l?24*Number(s)/Number(o):s,className:["lucide","lucide-".concat(Wa(e)),c].join(" ")},d),[...t.map((e=>{let[t,r]=e;return(0,n.createElement)(t,r)})),...Array.isArray(u)?u:[u]])}));return r.displayName="".concat(e),r},Ga=Ha("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Za=Ha("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ka=Ha("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),$a=Ha("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ya=Ha("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Qa=Ha("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Xa=Ha("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ja=Ha("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ei=e=>{var t;let{children:r}=e;const{user:n,signOut:a,isRole:i}=za(),o=J(),s=[{to:"/dashboard",icon:Ga,label:"Dashboard"},{to:"/users",icon:Za,label:"User Management"},{to:"/students",icon:Za,label:"Pupils"},{to:"/grades",icon:Ka,label:"Grades"},{to:"/attendance",icon:$a,label:"Attendance"},{to:"/reports",icon:Ya,label:"Reports"},{to:"/audit-logs",icon:Qa,label:"Audit Logs"}],l=[{to:"/dashboard",icon:Ga,label:"Dashboard"},{to:"/my-classes",icon:Za,label:"My Classes"},{to:"/grades",icon:Ka,label:"Grades"},{to:"/attendance",icon:$a,label:"Attendance"},{to:"/reports",icon:Ya,label:"Reports"}],c=[{to:"/dashboard",icon:Ga,label:"Dashboard"},{to:"/my-children",icon:Za,label:"My Child"},{to:"/grades",icon:Ka,label:"Grades"},{to:"/attendance",icon:$a,label:"Attendance"}],u=i("admin")?s:i("teacher")?l:i("parent")?c:[];return(0,La.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,La.jsx)("aside",{className:"fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200 z-40",children:(0,La.jsxs)("div",{className:"h-full flex flex-col",children:[(0,La.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,La.jsx)("h1",{className:"text-2xl font-bold text-primary-600",children:"iSKWELA"}),(0,La.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"ANNACS Grade System"})]}),(0,La.jsx)("nav",{className:"flex-1 p-4 space-y-1",children:u.map((e=>(0,La.jsxs)(Ee,{to:e.to,className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-primary-50 hover:text-primary-700 transition-colors",children:[(0,La.jsx)(e.icon,{className:"w-5 h-5"}),(0,La.jsx)("span",{children:e.label})]},e.to)))}),(0,La.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,La.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,La.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,La.jsx)(Xa,{className:"w-5 h-5 text-primary-600"})}),(0,La.jsxs)("div",{className:"flex-1",children:[(0,La.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null===n||void 0===n?void 0:n.full_name}),(0,La.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:null===n||void 0===n?void 0:n.role})]})]}),(0,La.jsxs)("button",{onClick:async()=>{await a(),o("/login")},className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[(0,La.jsx)(Ja,{className:"w-4 h-4"}),(0,La.jsx)("span",{className:"text-sm font-medium",children:"Sign Out"})]})]})]})}),(0,La.jsxs)("main",{className:"ml-64",children:[(0,La.jsx)("header",{className:"bg-white border-b border-gray-200",children:(0,La.jsx)("div",{className:"px-6 py-4",children:(0,La.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:(null===(t=u.find((e=>e.to===window.location.pathname)))||void 0===t?void 0:t.label)||"Page"})})}),(0,La.jsx)("div",{className:"p-6",children:r})]})]})},ti=["_f"],ri=["name"],ni=["_f"],ai=["ref","message","type"];var ii=e=>"checkbox"===e.type,oi=e=>e instanceof Date,si=e=>null==e;const li=e=>"object"===typeof e;var ci=e=>!si(e)&&!Array.isArray(e)&&li(e)&&!oi(e),ui=e=>ci(e)&&e.target?ii(e.target)?e.target.checked:e.target.value:e,di=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),fi="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function hi(e){let t;const r=Array.isArray(e),n="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(fi&&(e instanceof Blob||n)||!r&&!ci(e))return e;if(t=r?[]:{},r||(e=>{const t=e.constructor&&e.constructor.prototype;return ci(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=hi(e[r]));else t=e}return t}var pi=e=>Array.isArray(e)?e.filter(Boolean):[],mi=e=>void 0===e,yi=(e,t,r)=>{if(!t||!ci(e))return r;const n=pi(t.split(/[,[\].]+?/)).reduce(((e,t)=>si(e)?e:e[t]),e);return mi(n)||n===e?mi(e[t])?r:e[t]:n},gi=e=>"boolean"===typeof e,vi=e=>/^\w*$/.test(e),bi=e=>pi(e.replace(/["|']|\]/g,"").split(/\.|\[/)),xi=(e,t,r)=>{let n=-1;const a=vi(t)?[t]:bi(t),i=a.length,o=i-1;for(;++n<i;){const t=a[n];let i=r;if(n!==o){const r=e[t];i=ci(r)||Array.isArray(r)?r:isNaN(+a[n+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=i,e=e[t]}};const wi="blur",ji="focusout",_i="onBlur",ki="onChange",Si="onSubmit",Oi="onTouched",Ni="all",Ei="max",Pi="min",Ai="maxLength",Ti="minLength",Ci="pattern",Mi="required",Di="validate";n.createContext(null);var Ii=function(e,t,r){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const a=i;return t._proxyFormState[a]!==Ni&&(t._proxyFormState[a]=!n||Ni),r&&(r[a]=!0),e[a]}});return a};const Ri="undefined"!==typeof window?n.useLayoutEffect:n.useEffect;var Li=e=>"string"===typeof e,Fi=(e,t,r,n,a)=>Li(e)?(n&&t.watch.add(e),yi(r,e,a)):Array.isArray(e)?e.map((e=>(n&&t.watch.add(e),yi(r,e)))):(n&&(t.watchAll=!0),r);var zi=(e,t,r,n,a)=>t?Re(Re({},r[e]),{},{types:Re(Re({},r[e]&&r[e].types?r[e].types:{}),{},{[n]:a||!0})}):{},Ui=e=>Array.isArray(e)?e:[e],Bi=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},qi=e=>si(e)||!li(e);function Vi(e,t){if(qi(e)||qi(t))return e===t;if(oi(e)&&oi(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const r=e[a];if(!n.includes(a))return!1;if("ref"!==a){const e=t[a];if(oi(r)&&oi(e)||ci(r)&&ci(e)||Array.isArray(r)&&Array.isArray(e)?!Vi(r,e):r!==e)return!1}}return!0}var Wi=e=>ci(e)&&!Object.keys(e).length,Hi=e=>"file"===e.type,Gi=e=>"function"===typeof e,Zi=e=>{if(!fi)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ki=e=>"select-multiple"===e.type,$i=e=>"radio"===e.type,Yi=e=>Zi(e)&&e.isConnected;function Qi(e,t){const r=Array.isArray(t)?t:vi(t)?[t]:bi(t),n=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=mi(e)?n++:e[t[n++]];return e}(e,r),a=r.length-1,i=r[a];return n&&delete n[i],0!==a&&(ci(n)&&Wi(n)||Array.isArray(n)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!mi(e[t]))return!1;return!0}(n))&&Qi(e,r.slice(0,-1)),e}var Xi=e=>{for(const t in e)if(Gi(e[t]))return!0;return!1};function Ji(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Array.isArray(e);if(ci(e)||r)for(const n in e)Array.isArray(e[n])||ci(e[n])&&!Xi(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ji(e[n],t[n])):si(e[n])||(t[n]=!0);return t}function eo(e,t,r){const n=Array.isArray(e);if(ci(e)||n)for(const a in e)Array.isArray(e[a])||ci(e[a])&&!Xi(e[a])?mi(t)||qi(r[a])?r[a]=Array.isArray(e[a])?Ji(e[a],[]):Re({},Ji(e[a])):eo(e[a],si(t)?{}:t[a],r[a]):r[a]=!Vi(e[a],t[a]);return r}var to=(e,t)=>eo(e,t,Ji(t));const ro={value:!1,isValid:!1},no={value:!0,isValid:!0};var ao=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!mi(e[0].attributes.value)?mi(e[0].value)||""===e[0].value?no:{value:e[0].value,isValid:!0}:no:ro}return ro},io=(e,t)=>{let{valueAsNumber:r,valueAsDate:n,setValueAs:a}=t;return mi(e)?e:r?""===e?NaN:e?+e:e:n&&Li(e)?new Date(e):a?a(e):e};const oo={isValid:!1,value:null};var so=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),oo):oo;function lo(e){const t=e.ref;return Hi(t)?t.files:$i(t)?so(e.refs).value:Ki(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):ii(t)?ao(e.refs).value:io(mi(t.value)?e.ref.value:t.value,e)}var co=e=>e instanceof RegExp,uo=e=>mi(e)?e:co(e)?e.source:ci(e)?co(e.value)?e.value.source:e.value:e,fo=e=>({isOnSubmit:!e||e===Si,isOnBlur:e===_i,isOnChange:e===ki,isOnAll:e===Ni,isOnTouch:e===Oi});const ho="AsyncFunction";var po=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const mo=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const r=yi(e,a);if(r){const{_f:e}=r,i=Ba(r,ti);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],a)&&!n)return!0;if(e.ref&&t(e.ref,e.name)&&!n)return!0;if(mo(i,t))break}else if(ci(i)&&mo(i,t))break}}};function yo(e,t,r){const n=yi(e,r);if(n||vi(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const n=a.join("."),i=yi(t,n),o=yi(e,n);if(i&&!Array.isArray(i)&&r!==n)return{name:r};if(o&&o.type)return{name:n,error:o};a.pop()}return{name:r}}var go=(e,t,r)=>{const n=Ui(yi(e,r));return xi(n,"root",t[r]),xi(e,r,n),e},vo=e=>Li(e);function bo(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(vo(e)||Array.isArray(e)&&e.every(vo)||gi(e)&&!e)return{type:r,message:vo(e)?e:"",ref:t}}var xo=e=>ci(e)&&!co(e)?e:{value:e,message:""},wo=async(e,t,r,n,a,i)=>{const{ref:o,refs:s,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:p,name:m,valueAsNumber:y,mount:g}=e._f,v=yi(r,m);if(!g||t.has(m))return{};const b=s?s[0]:o,x=e=>{a&&b.reportValidity&&(b.setCustomValidity(gi(e)?"":e||""),b.reportValidity())},w={},j=$i(o),_=ii(o),k=j||_,S=(y||Hi(o))&&mi(o.value)&&mi(v)||Zi(o)&&""===o.value||""===v||Array.isArray(v)&&!v.length,O=zi.bind(null,m,n,w),N=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ai,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ti;const i=e?t:r;w[m]=Re({type:e?n:a,message:i,ref:o},O(e?n:a,i))};if(i?!Array.isArray(v)||!v.length:l&&(!k&&(S||si(v))||gi(v)&&!v||_&&!ao(s).isValid||j&&!so(s).isValid)){const{value:e,message:t}=vo(l)?{value:!!l,message:l}:xo(l);if(e&&(w[m]=Re({type:Mi,message:t,ref:b},O(Mi,t)),!n))return x(t),w}if(!S&&(!si(d)||!si(f))){let e,t;const r=xo(f),a=xo(d);if(si(v)||isNaN(v)){const n=o.valueAsDate||new Date(v),i=e=>new Date((new Date).toDateString()+" "+e),s="time"==o.type,l="week"==o.type;Li(r.value)&&v&&(e=s?i(v)>i(r.value):l?v>r.value:n>new Date(r.value)),Li(a.value)&&v&&(t=s?i(v)<i(a.value):l?v<a.value:n<new Date(a.value))}else{const n=o.valueAsNumber||(v?+v:v);si(r.value)||(e=n>r.value),si(a.value)||(t=n<a.value)}if((e||t)&&(N(!!e,r.message,a.message,Ei,Pi),!n))return x(w[m].message),w}if((c||u)&&!S&&(Li(v)||i&&Array.isArray(v))){const e=xo(c),t=xo(u),r=!si(e.value)&&v.length>+e.value,a=!si(t.value)&&v.length<+t.value;if((r||a)&&(N(r,e.message,t.message),!n))return x(w[m].message),w}if(h&&!S&&Li(v)){const{value:e,message:t}=xo(h);if(co(e)&&!v.match(e)&&(w[m]=Re({type:Ci,message:t,ref:o},O(Ci,t)),!n))return x(t),w}if(p)if(Gi(p)){const e=bo(await p(v,r),b);if(e&&(w[m]=Re(Re({},e),O(Di,e.message)),!n))return x(e.message),w}else if(ci(p)){let e={};for(const t in p){if(!Wi(e)&&!n)break;const a=bo(await p[t](v,r),b,t);a&&(e=Re(Re({},a),O(t,a.message)),x(a.message),n&&(w[m]=e))}if(!Wi(e)&&(w[m]=Re({ref:b},e),!n))return w}return x(!0),w};const jo={mode:Si,reValidateMode:ki,shouldFocusError:!0};function _o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Re(Re({},jo),e),r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Gi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a,i=(ci(t.defaultValues)||ci(t.values))&&hi(t.defaultValues||t.values)||{},o=t.shouldUnregister?{}:hi(i),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d=Re({},u);const f={array:Bi(),state:Bi()},h=fo(t.mode),p=fo(t.reValidateMode),m=t.criteriaMode===Ni,y=async e=>{if(!t.disabled&&(u.isValid||d.isValid||e)){const e=t.resolver?Wi((await w()).errors):await j(n,!0);e!==r.isValid&&f.state.next({isValid:e})}},g=(e,n)=>{!t.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(l.mount)).forEach((e=>{e&&(n?xi(r.validatingFields,e,n):Qi(r.validatingFields,e))})),f.state.next({validatingFields:r.validatingFields,isValidating:!Wi(r.validatingFields)}))},v=(e,t,r,a)=>{const l=yi(n,e);if(l){const n=yi(o,e,mi(r)?yi(i,e):r);mi(n)||a&&a.defaultChecked||t?xi(o,e,t?n:lo(l._f)):S(e,n),s.mount&&y()}},b=(e,n,a,o,s)=>{let l=!1,c=!1;const h={name:e};if(!t.disabled){if(!a||o){(u.isDirty||d.isDirty)&&(c=r.isDirty,r.isDirty=h.isDirty=_(),l=c!==h.isDirty);const t=Vi(yi(i,e),n);c=!!yi(r.dirtyFields,e),t?Qi(r.dirtyFields,e):xi(r.dirtyFields,e,!0),h.dirtyFields=r.dirtyFields,l=l||(u.dirtyFields||d.dirtyFields)&&c!==!t}if(a){const t=yi(r.touchedFields,e);t||(xi(r.touchedFields,e,a),h.touchedFields=r.touchedFields,l=l||(u.touchedFields||d.touchedFields)&&t!==a)}l&&s&&f.state.next(h)}return l?h:{}},x=(e,n,i,o)=>{const s=yi(r.errors,e),l=(u.isValid||d.isValid)&&gi(n)&&r.isValid!==n;var h;if(t.delayError&&i?(h=()=>((e,t)=>{xi(r.errors,e,t),f.state.next({errors:r.errors})})(e,i),a=e=>{clearTimeout(c),c=setTimeout(h,e)},a(t.delayError)):(clearTimeout(c),a=null,i?xi(r.errors,e,i):Qi(r.errors,e)),(i?!Vi(s,i):s)||!Wi(o)||l){const t=Re(Re(Re({},o),l&&gi(n)?{isValid:n}:{}),{},{errors:r.errors,name:e});r=Re(Re({},r),t),f.state.next(t)}},w=async e=>{g(e,!0);const r=await t.resolver(o,t.context,((e,t,r,n)=>{const a={};for(const i of e){const e=yi(t,i);e&&xi(a,i,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}})(e||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(e),r},j=async function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const s in e){const c=e[s];if(c){const{_f:e}=c,d=Ba(c,ni);if(e){const d=l.array.has(e.name),f=c._f&&(!!(i=c._f)&&!!i.validate&&!!(Gi(i.validate)&&i.validate.constructor.name===ho||ci(i.validate)&&Object.values(i.validate).find((e=>e.constructor.name===ho))));f&&u.validatingFields&&g([s],!0);const h=await wo(c,l.disabled,o,m,t.shouldUseNativeValidation&&!n,d);if(f&&u.validatingFields&&g([s]),h[e.name]&&(a.valid=!1,n))break;!n&&(yi(h,e.name)?d?go(r.errors,h,e.name):xi(r.errors,e.name,h[e.name]):Qi(r.errors,e.name))}!Wi(d)&&await j(d,n,a)}}var i;return a.valid},_=(e,r)=>!t.disabled&&(e&&r&&xi(o,e,r),!Vi(T(),i)),k=(e,t,r)=>Fi(e,l,Re({},s.mount?o:mi(t)?i:Li(e)?{[e]:t}:t),r,t),S=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=yi(n,e);let i=t;if(a){const r=a._f;r&&(!r.disabled&&xi(o,e,io(t,r)),i=Zi(r.ref)&&si(t)?"":t,Ki(r.ref)?[...r.ref.options].forEach((e=>e.selected=i.includes(e.value))):r.refs?ii(r.ref)?r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):r.refs[0]&&(r.refs[0].checked=!!i):r.refs.forEach((e=>e.checked=e.value===i)):Hi(r.ref)?r.ref.value="":(r.ref.value=i,r.ref.type||f.state.next({name:e,values:hi(o)})))}(r.shouldDirty||r.shouldTouch)&&b(e,i,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&A(e)},O=(e,t,r)=>{for(const a in t){const i=t[a],o="".concat(e,".").concat(a),s=yi(n,o);(l.array.has(e)||ci(i)||s&&!s._f)&&!oi(i)?O(o,i,r):S(o,i,r)}},N=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=yi(n,e),h=l.array.has(e),p=hi(t);xi(o,e,p),h?(f.array.next({name:e,values:hi(o)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&a.shouldDirty&&f.state.next({name:e,dirtyFields:to(i,o),isDirty:_(e,p)})):!c||c._f||si(p)?S(e,p,a):O(e,p,a),po(e,l)&&f.state.next(Re({},r)),f.state.next({name:s.mount?e:void 0,values:hi(o)})},E=async e=>{s.mount=!0;const i=e.target;let c=i.name,v=!0;const _=yi(n,c),k=e=>{v=Number.isNaN(e)||oi(e)&&isNaN(e.getTime())||Vi(e,yi(o,c,e))};if(_){let s,O;const N=i.type?lo(_._f):ui(e),E=e.type===wi||e.type===ji,P=!((S=_._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate))&&!t.resolver&&!yi(r.errors,c)&&!_._f.deps||((e,t,r,n,a)=>!a.isOnAll&&(!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:!(r?n.isOnChange:a.isOnChange)||e))(E,yi(r.touchedFields,c),r.isSubmitted,p,h),T=po(c,l,E);xi(o,c,N),E?(_._f.onBlur&&_._f.onBlur(e),a&&a(0)):_._f.onChange&&_._f.onChange(e);const C=b(c,N,E),M=!Wi(C)||T;if(!E&&f.state.next({name:c,type:e.type,values:hi(o)}),P)return(u.isValid||d.isValid)&&("onBlur"===t.mode?E&&y():E||y()),M&&f.state.next(Re({name:c},T?{}:C));if(!E&&T&&f.state.next(Re({},r)),t.resolver){const{errors:e}=await w([c]);if(k(N),v){const t=yo(r.errors,n,c),a=yo(e,n,t.name||c);s=a.error,c=a.name,O=Wi(e)}}else g([c],!0),s=(await wo(_,l.disabled,o,m,t.shouldUseNativeValidation))[c],g([c]),k(N),v&&(s?O=!1:(u.isValid||d.isValid)&&(O=await j(n,!0)));v&&(_._f.deps&&A(_._f.deps),x(c,O,s,C))}var S},P=(e,t)=>{if(yi(r.errors,t)&&e.focus)return e.focus(),1},A=async function(e){let a,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=Ui(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await w(e);if(e)for(const n of e){const e=yi(t,n);e?xi(r.errors,n,e):Qi(r.errors,n)}else r.errors=t;return t})(mi(e)?e:s);a=Wi(t),i=e?!s.some((e=>yi(t,e))):a}else e?(i=(await Promise.all(s.map((async e=>{const t=yi(n,e);return await j(t&&t._f?{[e]:t}:t)})))).every(Boolean),(i||r.isValid)&&y()):i=a=await j(n);return f.state.next(Re(Re(Re({},!Li(e)||(u.isValid||d.isValid)&&a!==r.isValid?{}:{name:e}),t.resolver||!e?{isValid:a}:{}),{},{errors:r.errors})),o.shouldFocus&&!i&&mo(n,P,e?s:l.mount),i},T=e=>{const t=Re({},s.mount?o:i);return mi(e)?t:Li(e)?yi(t,e):e.map((e=>yi(t,e)))},C=(e,t)=>({invalid:!!yi((t||r).errors,e),isDirty:!!yi((t||r).dirtyFields,e),error:yi((t||r).errors,e),isValidating:!!yi(r.validatingFields,e),isTouched:!!yi((t||r).touchedFields,e)}),M=(e,t,a)=>{const i=(yi(n,e,{_f:{}})._f||{}).ref,o=yi(r.errors,e)||{},{ref:s,message:l,type:c}=o,u=Ba(o,ai);xi(r.errors,e,Re(Re(Re({},u),t),{},{ref:i})),f.state.next({name:e,errors:r.errors,isValid:!1}),a&&a.shouldFocus&&i&&i.focus&&i.focus()},D=e=>f.state.subscribe({next:t=>{var n,a,i;n=e.name,a=t.name,i=e.exact,n&&a&&n!==a&&!Ui(n).some((e=>e&&(i?e===a:e.startsWith(a)||a.startsWith(e))))||!((e,t,r,n)=>{r(e);const{name:a}=e,i=Ba(e,ri);return Wi(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((e=>t[e]===(!n||Ni)))})(t,e.formState||u,q,e.reRenderRoot)||e.callback(Re(Re({values:Re({},o)},r),t))}}).unsubscribe,I=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const s of e?Ui(e):l.mount)l.mount.delete(s),l.array.delete(s),a.keepValue||(Qi(n,s),Qi(o,s)),!a.keepError&&Qi(r.errors,s),!a.keepDirty&&Qi(r.dirtyFields,s),!a.keepTouched&&Qi(r.touchedFields,s),!a.keepIsValidating&&Qi(r.validatingFields,s),!t.shouldUnregister&&!a.keepDefaultValue&&Qi(i,s);f.state.next({values:hi(o)}),f.state.next(Re(Re({},r),a.keepDirty?{isDirty:_()}:{})),!a.keepIsValid&&y()},R=e=>{let{disabled:t,name:r}=e;(gi(t)&&s.mount||t||l.disabled.has(r))&&(t?l.disabled.add(r):l.disabled.delete(r))},L=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=yi(n,e);const o=gi(r.disabled)||gi(t.disabled);return xi(n,e,Re(Re({},a||{}),{},{_f:Re(Re({},a&&a._f?a._f:{ref:{name:e}}),{},{name:e,mount:!0},r)})),l.mount.add(e),a?R({disabled:gi(r.disabled)?r.disabled:t.disabled,name:e}):v(e,!0,r.value),Re(Re(Re({},o?{disabled:r.disabled||t.disabled}:{}),t.progressive?{required:!!r.required,min:uo(r.min),max:uo(r.max),minLength:uo(r.minLength),maxLength:uo(r.maxLength),pattern:uo(r.pattern)}:{}),{},{name:e,onChange:E,onBlur:E,ref:o=>{if(o){L(e,r),a=yi(n,e);const t=mi(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,s=(e=>$i(e)||ii(e))(t),l=a._f.refs||[];if(s?l.find((e=>e===t)):t===a._f.ref)return;xi(n,e,{_f:Re(Re({},a._f),s?{refs:[...l.filter(Yi),t,...Array.isArray(yi(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t})}),v(e,!1,void 0,t)}else a=yi(n,e,{}),a._f&&(a._f.mount=!1),(t.shouldUnregister||r.shouldUnregister)&&(!di(l.array,e)||!s.action)&&l.unMount.add(e)}})},F=()=>t.shouldFocusError&&mo(n,P,l.mount),z=(e,a)=>async i=>{let s;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let c=hi(o);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await w();r.errors=e,c=t}else await j(n);if(l.disabled.size)for(const e of l.disabled)xi(c,e,void 0);if(Qi(r.errors,"root"),Wi(r.errors)){f.state.next({errors:{}});try{await e(c,i)}catch(u){s=u}}else a&&await a(Re({},r.errors),i),F(),setTimeout(F);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wi(r.errors)&&!s,submitCount:r.submitCount+1,errors:r.errors}),s)throw s},U=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?hi(e):i,d=hi(c),h=Wi(e),p=h?i:d;if(a.keepDefaultValues||(i=c),!a.keepValues){if(a.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(to(i,o))]);for(const t of Array.from(e))yi(r.dirtyFields,t)?xi(p,t,yi(o,t)):N(t,yi(p,t))}else{if(fi&&mi(e))for(const e of l.mount){const t=yi(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Zi(e)){const t=e.closest("form");if(t){t.reset();break}}}}for(const e of l.mount)N(e,yi(p,e))}o=hi(p),f.array.next({values:Re({},p)}),f.state.next({values:Re({},p)})}l={mount:a.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!u.isValid||!!a.keepIsValid||!!a.keepDirtyValues,s.watch=!!t.shouldUnregister,f.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:!h&&(a.keepDirty?r.isDirty:!(!a.keepDefaultValues||Vi(e,i))),isSubmitted:!!a.keepIsSubmitted&&r.isSubmitted,dirtyFields:h?{}:a.keepDirtyValues?a.keepDefaultValues&&o?to(i,o):r.dirtyFields:a.keepDefaultValues&&e?to(i,e):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:!!a.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},B=(e,t)=>U(Gi(e)?e(o):e,t),q=e=>{r=Re(Re({},r),e)},V={control:{register:L,unregister:I,getFieldState:C,handleSubmit:z,setError:M,_subscribe:D,_runSchema:w,_getWatch:k,_getDirty:_,_setValid:y,_setFieldArray:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&l&&!t.disabled){if(s.action=!0,p&&Array.isArray(yi(n,e))){const t=l(yi(n,e),c.argA,c.argB);h&&xi(n,e,t)}if(p&&Array.isArray(yi(r.errors,e))){const t=l(yi(r.errors,e),c.argA,c.argB);h&&xi(r.errors,e,t),((e,t)=>{!pi(yi(e,t)).length&&Qi(e,t)})(r.errors,e)}if((u.touchedFields||d.touchedFields)&&p&&Array.isArray(yi(r.touchedFields,e))){const t=l(yi(r.touchedFields,e),c.argA,c.argB);h&&xi(r.touchedFields,e,t)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=to(i,o)),f.state.next({name:e,isDirty:_(e,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xi(o,e,a)},_setDisabledField:R,_setErrors:e=>{r.errors=e,f.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>pi(yi(s.mount?o:i,e,t.shouldUnregister?yi(i,e,[]):[])),_reset:U,_resetDefaultValues:()=>Gi(t.defaultValues)&&t.defaultValues().then((e=>{B(e,t.resetOptions),f.state.next({isLoading:!1})})),_removeUnmounted:()=>{for(const e of l.unMount){const t=yi(n,e);t&&(t._f.refs?t._f.refs.every((e=>!Yi(e))):!Yi(t._f.ref))&&I(e)}l.unMount=new Set},_disableForm:e=>{gi(e)&&(f.state.next({disabled:e}),mo(n,((t,r)=>{const a=yi(n,r);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach((t=>{t.disabled=a._f.disabled||e})))}),0,!1))},_subjects:f,_proxyFormState:u,get _fields(){return n},get _formValues(){return o},get _state(){return s},set _state(e){s=e},get _defaultValues(){return i},get _names(){return l},set _names(e){l=e},get _formState(){return r},get _options(){return t},set _options(e){t=Re(Re({},t),e)}},subscribe:e=>(s.mount=!0,d=Re(Re({},d),e.formState),D(Re(Re({},e),{},{formState:d}))),trigger:A,register:L,handleSubmit:z,watch:(e,t)=>Gi(e)?f.state.subscribe({next:r=>e(k(void 0,t),r)}):k(e,t,!0),setValue:N,getValues:T,reset:B,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yi(n,e)&&(mi(t.defaultValue)?N(e,hi(yi(i,e))):(N(e,t.defaultValue),xi(i,e,hi(t.defaultValue))),t.keepTouched||Qi(r.touchedFields,e),t.keepDirty||(Qi(r.dirtyFields,e),r.isDirty=t.defaultValue?_(e,hi(yi(i,e))):_()),t.keepError||(Qi(r.errors,e),u.isValid&&y()),f.state.next(Re({},r)))},clearErrors:e=>{e&&Ui(e).forEach((e=>Qi(r.errors,e))),f.state.next({errors:e?r.errors:{}})},unregister:I,setError:M,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=yi(n,e),a=r&&r._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&Gi(e.select)&&e.select())}},getFieldState:C};return Re(Re({},V),{},{formControl:V})}function ko(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=n.useRef(void 0),r=n.useRef(void 0),[a,i]=n.useState({isDirty:!1,isValidating:!1,isLoading:Gi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Gi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current=Re(Re({},e.formControl?e.formControl:_o(e)),{},{formState:a}),e.formControl&&e.defaultValues&&!Gi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const o=t.current.control;return o._options=e,Ri((()=>{const e=o._subscribe({formState:o._proxyFormState,callback:()=>i(Re({},o._formState)),reRenderRoot:!0});return i((e=>Re(Re({},e),{},{isReady:!0}))),o._formState.isReady=!0,e}),[o]),n.useEffect((()=>o._disableForm(e.disabled)),[o,e.disabled]),n.useEffect((()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode),e.errors&&!Wi(e.errors)&&o._setErrors(e.errors)}),[o,e.errors,e.mode,e.reValidateMode]),n.useEffect((()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})}),[o,e.shouldUnregister]),n.useEffect((()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==a.isDirty&&o._subjects.state.next({isDirty:e})}}),[o,a.isDirty]),n.useEffect((()=>{e.values&&!Vi(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,i((e=>Re({},e)))):o._resetDefaultValues()}),[o,e.values]),n.useEffect((()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(Re({},o._formState))),o._removeUnmounted()})),t.current.formState=Ii(a,o),t.current}const So=(e,t,r)=>{if(e&&"reportValidity"in e){const n=yi(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Oo=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?So(n.ref,r,e):n.refs&&n.refs.forEach((t=>So(t,r,e)))}},No=(e,t)=>{t.shouldUseNativeValidation&&Oo(e,t);const r={};for(const n in e){const a=yi(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(Eo(t.names||Object.keys(e),n)){const e=Object.assign({},yi(r,n));xi(e,"root",i),xi(r,n,e)}else xi(r,n,i)}return r},Eo=(e,t)=>e.some((e=>e.startsWith(t+".")));var Po,Ao,To=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var s=n.unionErrors[0].errors[0];r[o]={message:s.message,type:s.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach((function(t){return t.errors.forEach((function(t){return e.push(t)}))})),t){var l=r[o].types,c=l&&l[n.code];r[o]=zi(o,t,r,a,c?[].concat(c,n.message):n.message)}e.shift()}return r},Co=function(e,t,r){return void 0===r&&(r={}),function(n,a,i){try{return Promise.resolve(function(a,o){try{var s=Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](n,t)).then((function(e){return i.shouldUseNativeValidation&&Oo({},i),{errors:{},values:r.raw?n:e}}))}catch(l){return o(l)}return s&&s.then?s.then(void 0,o):s}(0,(function(e){if(function(e){return Array.isArray(null==e?void 0:e.errors)}(e))return{values:{},errors:No(To(e.errors,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e})))}catch(o){return Promise.reject(o)}}};!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const r of e)t[r]=r;return t},e.getValidEnumValues=t=>{const r=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),n={};for(const e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(const r of e)if(t(r))return r},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?"'".concat(e,"'"):e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(Po||(Po={})),function(e){e.mergeShapes=(e,t)=>Re(Re({},e),t)}(Ao||(Ao={}));const Mo=Po.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Do=e=>{switch(typeof e){case"undefined":return Mo.undefined;case"string":return Mo.string;case"number":return isNaN(e)?Mo.nan:Mo.number;case"boolean":return Mo.boolean;case"function":return Mo.function;case"bigint":return Mo.bigint;case"symbol":return Mo.symbol;case"object":return Array.isArray(e)?Mo.array:null===e?Mo.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?Mo.promise:"undefined"!==typeof Map&&e instanceof Map?Mo.map:"undefined"!==typeof Set&&e instanceof Set?Mo.set:"undefined"!==typeof Date&&e instanceof Date?Mo.date:Mo.object;default:return Mo.unknown}},Io=Po.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ro extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(n);else if("invalid_return_type"===a.code)n(a.returnTypeError);else if("invalid_arguments"===a.code)n(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,n=0;for(;n<a.path.length;){const r=a.path[n];n===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof Ro))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,Po.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},r=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Ro.create=e=>new Ro(e);const Lo=(e,t)=>{let r;switch(e.code){case Io.invalid_type:r=e.received===Mo.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case Io.invalid_literal:r="Invalid literal value, expected ".concat(JSON.stringify(e.expected,Po.jsonStringifyReplacer));break;case Io.unrecognized_keys:r="Unrecognized key(s) in object: ".concat(Po.joinValues(e.keys,", "));break;case Io.invalid_union:r="Invalid input";break;case Io.invalid_union_discriminator:r="Invalid discriminator value. Expected ".concat(Po.joinValues(e.options));break;case Io.invalid_enum_value:r="Invalid enum value. Expected ".concat(Po.joinValues(e.options),", received '").concat(e.received,"'");break;case Io.invalid_arguments:r="Invalid function arguments";break;case Io.invalid_return_type:r="Invalid function return type";break;case Io.invalid_date:r="Invalid date";break;case Io.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(r='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(r="".concat(r," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?r='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?r='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):Po.assertNever(e.validation):r="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case Io.too_small:r="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case Io.too_big:r="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case Io.custom:r="Invalid input";break;case Io.invalid_intersection_types:r="Intersection results could not be merged";break;case Io.not_multiple_of:r="Number must be a multiple of ".concat(e.multipleOf);break;case Io.not_finite:r="Number must be finite";break;default:r=t.defaultError,Po.assertNever(e)}return{message:r}};let Fo=Lo;function zo(){return Fo}const Uo=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o=Re(Re({},a),{},{path:i});if(void 0!==a.message)return Re(Re({},a),{},{path:i,message:a.message});let s="";const l=n.filter((e=>!!e)).slice().reverse();for(const c of l)s=c(o,{data:t,defaultError:s}).message;return Re(Re({},a),{},{path:i,message:s})};function Bo(e,t){const r=zo(),n=Uo({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Lo?void 0:Lo].filter((e=>!!e))});e.common.issues.push(n)}class qo{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if("aborted"===n.status)return Vo;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const n of t){const e=await n.key,t=await n.value;r.push({key:e,value:t})}return qo.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:t,value:a}=n;if("aborted"===t.status)return Vo;if("aborted"===a.status)return Vo;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof a.value&&!n.alwaysSet||(r[t.value]=a.value)}return{status:e.value,value:r}}}const Vo=Object.freeze({status:"aborted"}),Wo=e=>({status:"dirty",value:e}),Ho=e=>({status:"valid",value:e}),Go=e=>"aborted"===e.status,Zo=e=>"dirty"===e.status,Ko=e=>"valid"===e.status,$o=e=>"undefined"!==typeof Promise&&e instanceof Promise;function Yo(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function Qo(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}var Xo,Jo,es;"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(Xo||(Xo={}));class ts{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rs=(e,t)=>{if(Ko(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ro(e.common.issues);return this._error=t,this._error}}};function ns(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var i,o;const{message:s}=e;return"invalid_enum_value"===t.code?{message:null!==s&&void 0!==s?s:a.defaultError}:"undefined"===typeof a.data?{message:null!==(i=null!==s&&void 0!==s?s:n)&&void 0!==i?i:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(o=null!==s&&void 0!==s?s:r)&&void 0!==o?o:a.defaultError}},description:a}}class as{get description(){return this._def.description}_getType(e){return Do(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Do(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qo,ctx:{common:e.parent.common,data:e.data,parsedType:Do(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if($o(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const n={common:{issues:[],async:null!==(r=null===t||void 0===t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)},a=this._parseSync({data:e,path:n.path,parent:n});return rs(n,a)}"~validate"(e){var t,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:n});return Ko(t)?{value:t.value}:{issues:n.common.issues}}catch(a){(null===(r=null===(t=null===a||void 0===a?void 0:a.message)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then((e=>Ko(e)?{value:e.value}:{issues:n.common.issues}))}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)},n=this._parse({data:e,path:r.path,parent:r}),a=await($o(n)?n:Promise.resolve(n));return rs(r,a)}refine(e,t){return this._refinement(((r,n)=>{const a=e(r),i=()=>n.addIssue(Re({code:Io.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(r)));return"undefined"!==typeof Promise&&a instanceof Promise?a.then((e=>!!e||(i(),!1))):!!a||(i(),!1)}))}refinement(e,t){return this._refinement(((r,n)=>!!e(r)||(n.addIssue("function"===typeof t?t(r,n):t),!1)))}_refinement(e){return new il({schema:this,typeName:vl.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ol.create(this,this._def)}nullable(){return sl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Us.create(this)}promise(){return al.create(this,this._def)}or(e){return Vs.create([this,e],this._def)}and(e){return Zs.create(this,e,this._def)}transform(e){return new il(Re(Re({},ns(this._def)),{},{schema:this,typeName:vl.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new ll(Re(Re({},ns(this._def)),{},{innerType:this,defaultValue:t,typeName:vl.ZodDefault}))}brand(){return new fl(Re({typeName:vl.ZodBranded,type:this},ns(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new cl(Re(Re({},ns(this._def)),{},{innerType:this,catchValue:t,typeName:vl.ZodCatch}))}describe(e){return new(0,this.constructor)(Re(Re({},this._def),{},{description:e}))}pipe(e){return hl.create(this,e)}readonly(){return pl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const is=/^c[^\s-]{8,}$/i,os=/^[0-9a-z]+$/,ss=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ls=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cs=/^[a-z0-9_-]{21}$/i,us=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ds=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fs=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let hs;const ps=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ms=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ys=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gs=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vs=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bs=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xs="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ws=new RegExp("^".concat(xs,"$"));function js(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const r=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(r)}function _s(e){let t="".concat(xs,"T").concat(js(e));const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(r.join("|"),")"),new RegExp("^".concat(t,"$"))}function ks(e,t){return!("v4"!==t&&t||!ps.test(e))||!("v6"!==t&&t||!ys.test(e))}function Ss(e,t){if(!us.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return"object"===typeof a&&null!==a&&(!(!a.typ||!a.alg)&&(!t||a.alg===t))}catch(r){return!1}}function Os(e,t){return!("v4"!==t&&t||!ms.test(e))||!("v6"!==t&&t||!gs.test(e))}class Ns extends as{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Mo.string){const t=this._getOrReturnCtx(e);return Bo(t,{code:Io.invalid_type,expected:Mo.string,received:t.parsedType}),Vo}const t=new qo;let r;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(r=this._getOrReturnCtx(e,r),Bo(r,{code:Io.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(r=this._getOrReturnCtx(e,r),Bo(r,{code:Io.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const n=e.data.length>a.value,i=e.data.length<a.value;(n||i)&&(r=this._getOrReturnCtx(e,r),n?Bo(r,{code:Io.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&Bo(r,{code:Io.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)fs.test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"email",code:Io.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)hs||(hs=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),hs.test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"emoji",code:Io.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)ls.test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"uuid",code:Io.invalid_string,message:a.message}),t.dirty());else if("nanoid"===a.kind)cs.test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"nanoid",code:Io.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)is.test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"cuid",code:Io.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)os.test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"cuid2",code:Io.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)ss.test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"ulid",code:Io.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(n){r=this._getOrReturnCtx(e,r),Bo(r,{validation:"url",code:Io.invalid_string,message:a.message}),t.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0;a.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"regex",code:Io.invalid_string,message:a.message}),t.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(e,r),Bo(r,{code:Io.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(r=this._getOrReturnCtx(e,r),Bo(r,{code:Io.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(r=this._getOrReturnCtx(e,r),Bo(r,{code:Io.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty());else if("datetime"===a.kind){_s(a).test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{code:Io.invalid_string,validation:"datetime",message:a.message}),t.dirty())}else if("date"===a.kind){ws.test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{code:Io.invalid_string,validation:"date",message:a.message}),t.dirty())}else if("time"===a.kind){new RegExp("^".concat(js(a),"$")).test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{code:Io.invalid_string,validation:"time",message:a.message}),t.dirty())}else"duration"===a.kind?ds.test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"duration",code:Io.invalid_string,message:a.message}),t.dirty()):"ip"===a.kind?ks(e.data,a.version)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"ip",code:Io.invalid_string,message:a.message}),t.dirty()):"jwt"===a.kind?Ss(e.data,a.alg)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"jwt",code:Io.invalid_string,message:a.message}),t.dirty()):"cidr"===a.kind?Os(e.data,a.version)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"cidr",code:Io.invalid_string,message:a.message}),t.dirty()):"base64"===a.kind?vs.test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"base64",code:Io.invalid_string,message:a.message}),t.dirty()):"base64url"===a.kind?bs.test(e.data)||(r=this._getOrReturnCtx(e,r),Bo(r,{validation:"base64url",code:Io.invalid_string,message:a.message}),t.dirty()):Po.assertNever(a);return{status:t.value,value:e.data}}_regex(e,t,r){return this.refinement((t=>e.test(t)),Re({validation:t,code:Io.invalid_string},Xo.errToObj(r)))}_addCheck(e){return new Ns(Re(Re({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(Re({kind:"email"},Xo.errToObj(e)))}url(e){return this._addCheck(Re({kind:"url"},Xo.errToObj(e)))}emoji(e){return this._addCheck(Re({kind:"emoji"},Xo.errToObj(e)))}uuid(e){return this._addCheck(Re({kind:"uuid"},Xo.errToObj(e)))}nanoid(e){return this._addCheck(Re({kind:"nanoid"},Xo.errToObj(e)))}cuid(e){return this._addCheck(Re({kind:"cuid"},Xo.errToObj(e)))}cuid2(e){return this._addCheck(Re({kind:"cuid2"},Xo.errToObj(e)))}ulid(e){return this._addCheck(Re({kind:"ulid"},Xo.errToObj(e)))}base64(e){return this._addCheck(Re({kind:"base64"},Xo.errToObj(e)))}base64url(e){return this._addCheck(Re({kind:"base64url"},Xo.errToObj(e)))}jwt(e){return this._addCheck(Re({kind:"jwt"},Xo.errToObj(e)))}ip(e){return this._addCheck(Re({kind:"ip"},Xo.errToObj(e)))}cidr(e){return this._addCheck(Re({kind:"cidr"},Xo.errToObj(e)))}datetime(e){var t,r;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(Re({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null===e||void 0===e?void 0:e.local)&&void 0!==r&&r},Xo.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(Re({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},Xo.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck(Re({kind:"duration"},Xo.errToObj(e)))}regex(e,t){return this._addCheck(Re({kind:"regex",regex:e},Xo.errToObj(t)))}includes(e,t){return this._addCheck(Re({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},Xo.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck(Re({kind:"startsWith",value:e},Xo.errToObj(t)))}endsWith(e,t){return this._addCheck(Re({kind:"endsWith",value:e},Xo.errToObj(t)))}min(e,t){return this._addCheck(Re({kind:"min",value:e},Xo.errToObj(t)))}max(e,t){return this._addCheck(Re({kind:"max",value:e},Xo.errToObj(t)))}length(e,t){return this._addCheck(Re({kind:"length",value:e},Xo.errToObj(t)))}nonempty(e){return this.min(1,Xo.errToObj(e))}trim(){return new Ns(Re(Re({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new Ns(Re(Re({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new Ns(Re(Re({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Es(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}Ns.create=e=>{var t;return new Ns(Re({checks:[],typeName:vl.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},ns(e)))};class Ps extends as{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Mo.number){const t=this._getOrReturnCtx(e);return Bo(t,{code:Io.invalid_type,expected:Mo.number,received:t.parsedType}),Vo}let t;const r=new qo;for(const n of this._def.checks)if("int"===n.kind)Po.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Bo(t,{code:Io.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty());else if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),Bo(t,{code:Io.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),Bo(t,{code:Io.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else"multipleOf"===n.kind?0!==Es(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),Bo(t,{code:Io.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Bo(t,{code:Io.not_finite,message:n.message}),r.dirty()):Po.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Xo.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Xo.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Xo.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Xo.toString(t))}setLimit(e,t,r,n){return new Ps(Re(Re({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Xo.toString(n)}]}))}_addCheck(e){return new Ps(Re(Re({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:Xo.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Xo.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Xo.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Xo.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Xo.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Xo.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Xo.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Xo.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Xo.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Po.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ps.create=e=>new Ps(Re({checks:[],typeName:vl.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},ns(e)));class As extends as{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(n){return this._getInvalidInput(e)}if(this._getType(e)!==Mo.bigint)return this._getInvalidInput(e);let t;const r=new qo;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),Bo(t,{code:Io.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),Bo(t,{code:Io.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Bo(t,{code:Io.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):Po.assertNever(a);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Bo(t,{code:Io.invalid_type,expected:Mo.bigint,received:t.parsedType}),Vo}gte(e,t){return this.setLimit("min",e,!0,Xo.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Xo.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Xo.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Xo.toString(t))}setLimit(e,t,r,n){return new As(Re(Re({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Xo.toString(n)}]}))}_addCheck(e){return new As(Re(Re({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Xo.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Xo.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Xo.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Xo.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Xo.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}As.create=e=>{var t;return new As(Re({checks:[],typeName:vl.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},ns(e)))};class Ts extends as{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Mo.boolean){const t=this._getOrReturnCtx(e);return Bo(t,{code:Io.invalid_type,expected:Mo.boolean,received:t.parsedType}),Vo}return Ho(e.data)}}Ts.create=e=>new Ts(Re({typeName:vl.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},ns(e)));class Cs extends as{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Mo.date){const t=this._getOrReturnCtx(e);return Bo(t,{code:Io.invalid_type,expected:Mo.date,received:t.parsedType}),Vo}if(isNaN(e.data.getTime())){return Bo(this._getOrReturnCtx(e),{code:Io.invalid_date}),Vo}const t=new qo;let r;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(r=this._getOrReturnCtx(e,r),Bo(r,{code:Io.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(r=this._getOrReturnCtx(e,r),Bo(r,{code:Io.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):Po.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Cs(Re(Re({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Xo.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Xo.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Cs.create=e=>new Cs(Re({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:vl.ZodDate},ns(e)));class Ms extends as{_parse(e){if(this._getType(e)!==Mo.symbol){const t=this._getOrReturnCtx(e);return Bo(t,{code:Io.invalid_type,expected:Mo.symbol,received:t.parsedType}),Vo}return Ho(e.data)}}Ms.create=e=>new Ms(Re({typeName:vl.ZodSymbol},ns(e)));class Ds extends as{_parse(e){if(this._getType(e)!==Mo.undefined){const t=this._getOrReturnCtx(e);return Bo(t,{code:Io.invalid_type,expected:Mo.undefined,received:t.parsedType}),Vo}return Ho(e.data)}}Ds.create=e=>new Ds(Re({typeName:vl.ZodUndefined},ns(e)));class Is extends as{_parse(e){if(this._getType(e)!==Mo.null){const t=this._getOrReturnCtx(e);return Bo(t,{code:Io.invalid_type,expected:Mo.null,received:t.parsedType}),Vo}return Ho(e.data)}}Is.create=e=>new Is(Re({typeName:vl.ZodNull},ns(e)));class Rs extends as{constructor(){super(...arguments),this._any=!0}_parse(e){return Ho(e.data)}}Rs.create=e=>new Rs(Re({typeName:vl.ZodAny},ns(e)));class Ls extends as{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ho(e.data)}}Ls.create=e=>new Ls(Re({typeName:vl.ZodUnknown},ns(e)));class Fs extends as{_parse(e){const t=this._getOrReturnCtx(e);return Bo(t,{code:Io.invalid_type,expected:Mo.never,received:t.parsedType}),Vo}}Fs.create=e=>new Fs(Re({typeName:vl.ZodNever},ns(e)));class zs extends as{_parse(e){if(this._getType(e)!==Mo.undefined){const t=this._getOrReturnCtx(e);return Bo(t,{code:Io.invalid_type,expected:Mo.void,received:t.parsedType}),Vo}return Ho(e.data)}}zs.create=e=>new zs(Re({typeName:vl.ZodVoid},ns(e)));class Us extends as{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==Mo.array)return Bo(t,{code:Io.invalid_type,expected:Mo.array,received:t.parsedType}),Vo;if(null!==n.exactLength){const e=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(e||a)&&(Bo(t,{code:e?Io.too_big:Io.too_small,minimum:a?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(Bo(t,{code:Io.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(Bo(t,{code:Io.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map(((e,r)=>n.type._parseAsync(new ts(t,e,t.path,r))))).then((e=>qo.mergeArray(r,e)));const a=[...t.data].map(((e,r)=>n.type._parseSync(new ts(t,e,t.path,r))));return qo.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new Us(Re(Re({},this._def),{},{minLength:{value:e,message:Xo.toString(t)}}))}max(e,t){return new Us(Re(Re({},this._def),{},{maxLength:{value:e,message:Xo.toString(t)}}))}length(e,t){return new Us(Re(Re({},this._def),{},{exactLength:{value:e,message:Xo.toString(t)}}))}nonempty(e){return this.min(1,e)}}function Bs(e){if(e instanceof qs){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ol.create(Bs(n))}return new qs(Re(Re({},e._def),{},{shape:()=>t}))}return e instanceof Us?new Us(Re(Re({},e._def),{},{type:Bs(e.element)})):e instanceof ol?ol.create(Bs(e.unwrap())):e instanceof sl?sl.create(Bs(e.unwrap())):e instanceof Ks?Ks.create(e.items.map((e=>Bs(e)))):e}Us.create=(e,t)=>new Us(Re({type:e,minLength:null,maxLength:null,exactLength:null,typeName:vl.ZodArray},ns(t)));class qs extends as{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Po.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Mo.object){const t=this._getOrReturnCtx(e);return Bo(t,{code:Io.invalid_type,expected:Mo.object,received:t.parsedType}),Vo}const{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof Fs&&"strip"===this._def.unknownKeys))for(const s in r.data)a.includes(s)||i.push(s);const o=[];for(const s of a){const e=n[s],t=r.data[s];o.push({key:{status:"valid",value:s},value:e._parse(new ts(r,t,r.path,s)),alwaysSet:s in r.data})}if(this._def.catchall instanceof Fs){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)o.push({key:{status:"valid",value:t},value:{status:"valid",value:r.data[t]}});else if("strict"===e)i.length>0&&(Bo(r,{code:Io.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const n=r.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new ts(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e})).then((e=>qo.mergeObjectSync(t,e))):qo.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return Xo.errToObj,new qs(Re(Re({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,r)=>{var n,a,i,o;const s=null!==(i=null===(a=(n=this._def).errorMap)||void 0===a?void 0:a.call(n,t,r).message)&&void 0!==i?i:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=Xo.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}))}strip(){return new qs(Re(Re({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new qs(Re(Re({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new qs(Re(Re({},this._def),{},{shape:()=>Re(Re({},this._def.shape()),e)}))}merge(e){return new qs({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Re(Re({},this._def.shape()),e._def.shape()),typeName:vl.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new qs(Re(Re({},this._def),{},{catchall:e}))}pick(e){const t={};return Po.objectKeys(e).forEach((r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])})),new qs(Re(Re({},this._def),{},{shape:()=>t}))}omit(e){const t={};return Po.objectKeys(this.shape).forEach((r=>{e[r]||(t[r]=this.shape[r])})),new qs(Re(Re({},this._def),{},{shape:()=>t}))}deepPartial(){return Bs(this)}partial(e){const t={};return Po.objectKeys(this.shape).forEach((r=>{const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()})),new qs(Re(Re({},this._def),{},{shape:()=>t}))}required(e){const t={};return Po.objectKeys(this.shape).forEach((r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof ol;)e=e._def.innerType;t[r]=e}})),new qs(Re(Re({},this._def),{},{shape:()=>t}))}keyof(){return tl(Po.objectKeys(this.shape))}}qs.create=(e,t)=>new qs(Re({shape:()=>e,unknownKeys:"strip",catchall:Fs.create(),typeName:vl.ZodObject},ns(t))),qs.strictCreate=(e,t)=>new qs(Re({shape:()=>e,unknownKeys:"strict",catchall:Fs.create(),typeName:vl.ZodObject},ns(t))),qs.lazycreate=(e,t)=>new qs(Re({shape:e,unknownKeys:"strip",catchall:Fs.create(),typeName:vl.ZodObject},ns(t)));class Vs extends as{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map((async e=>{const r=Re(Re({},t),{},{common:Re(Re({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const r=e.map((e=>new Ro(e.ctx.common.issues)));return Bo(t,{code:Io.invalid_union,unionErrors:r}),Vo}));{let e;const n=[];for(const i of r){const r=Re(Re({},t),{},{common:Re(Re({},t.common),{},{issues:[]}),parent:null}),a=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=n.map((e=>new Ro(e)));return Bo(t,{code:Io.invalid_union,unionErrors:a}),Vo}}get options(){return this._def.options}}Vs.create=(e,t)=>new Vs(Re({options:e,typeName:vl.ZodUnion},ns(t)));const Ws=e=>e instanceof Js?Ws(e.schema):e instanceof il?Ws(e.innerType()):e instanceof el?[e.value]:e instanceof rl?e.options:e instanceof nl?Po.objectValues(e.enum):e instanceof ll?Ws(e._def.innerType):e instanceof Ds?[void 0]:e instanceof Is?[null]:e instanceof ol?[void 0,...Ws(e.unwrap())]:e instanceof sl?[null,...Ws(e.unwrap())]:e instanceof fl||e instanceof pl?Ws(e.unwrap()):e instanceof cl?Ws(e._def.innerType):[];class Hs extends as{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Mo.object)return Bo(t,{code:Io.invalid_type,expected:Mo.object,received:t.parsedType}),Vo;const r=this.discriminator,n=t.data[r],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(Bo(t,{code:Io.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Vo)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const n=new Map;for(const a of t){const t=Ws(a.shape[e]);if(!t.length)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));for(const r of t){if(n.has(r))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(r)));n.set(r,a)}}return new Hs(Re({typeName:vl.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n},ns(r)))}}function Gs(e,t){const r=Do(e),n=Do(t);if(e===t)return{valid:!0,data:e};if(r===Mo.object&&n===Mo.object){const r=Po.objectKeys(t),n=Po.objectKeys(e).filter((e=>-1!==r.indexOf(e))),a=Re(Re({},e),t);for(const i of n){const r=Gs(e[i],t[i]);if(!r.valid)return{valid:!1};a[i]=r.data}return{valid:!0,data:a}}if(r===Mo.array&&n===Mo.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let n=0;n<e.length;n++){const a=Gs(e[n],t[n]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}return r===Mo.date&&n===Mo.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Zs extends as{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(Go(e)||Go(n))return Vo;const a=Gs(e.value,n.value);return a.valid?((Zo(e)||Zo(n))&&t.dirty(),{status:t.value,value:a.data}):(Bo(r,{code:Io.invalid_intersection_types}),Vo)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((e=>{let[t,r]=e;return n(t,r)})):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zs.create=(e,t,r)=>new Zs(Re({left:e,right:t,typeName:vl.ZodIntersection},ns(r)));class Ks extends as{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Mo.array)return Bo(r,{code:Io.invalid_type,expected:Mo.array,received:r.parsedType}),Vo;if(r.data.length<this._def.items.length)return Bo(r,{code:Io.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Vo;!this._def.rest&&r.data.length>this._def.items.length&&(Bo(r,{code:Io.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map(((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new ts(r,e,r.path,t)):null})).filter((e=>!!e));return r.common.async?Promise.all(n).then((e=>qo.mergeArray(t,e))):qo.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new Ks(Re(Re({},this._def),{},{rest:e}))}}Ks.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ks(Re({items:e,typeName:vl.ZodTuple,rest:null},ns(t)))};class $s extends as{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Mo.object)return Bo(r,{code:Io.invalid_type,expected:Mo.object,received:r.parsedType}),Vo;const n=[],a=this._def.keyType,i=this._def.valueType;for(const o in r.data)n.push({key:a._parse(new ts(r,o,r.path,o)),value:i._parse(new ts(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?qo.mergeObjectAsync(t,n):qo.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new $s(t instanceof as?Re({keyType:e,valueType:t,typeName:vl.ZodRecord},ns(r)):Re({keyType:Ns.create(),valueType:e,typeName:vl.ZodRecord},ns(t)))}}class Ys extends as{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Mo.map)return Bo(r,{code:Io.invalid_type,expected:Mo.map,received:r.parsedType}),Vo;const n=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(((e,t)=>{let[i,o]=e;return{key:n._parse(new ts(r,i,r.path,[t,"key"])),value:a._parse(new ts(r,o,r.path,[t,"value"]))}}));if(r.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const r of i){const n=await r.key,a=await r.value;if("aborted"===n.status||"aborted"===a.status)return Vo;"dirty"!==n.status&&"dirty"!==a.status||t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const r of i){const n=r.key,a=r.value;if("aborted"===n.status||"aborted"===a.status)return Vo;"dirty"!==n.status&&"dirty"!==a.status||t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}}}Ys.create=(e,t,r)=>new Ys(Re({valueType:t,keyType:e,typeName:vl.ZodMap},ns(r)));class Qs extends as{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Mo.set)return Bo(r,{code:Io.invalid_type,expected:Mo.set,received:r.parsedType}),Vo;const n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(Bo(r,{code:Io.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(Bo(r,{code:Io.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const a=this._def.valueType;function i(e){const r=new Set;for(const n of e){if("aborted"===n.status)return Vo;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}const o=[...r.data.values()].map(((e,t)=>a._parse(new ts(r,e,r.path,t))));return r.common.async?Promise.all(o).then((e=>i(e))):i(o)}min(e,t){return new Qs(Re(Re({},this._def),{},{minSize:{value:e,message:Xo.toString(t)}}))}max(e,t){return new Qs(Re(Re({},this._def),{},{maxSize:{value:e,message:Xo.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Qs.create=(e,t)=>new Qs(Re({valueType:e,minSize:null,maxSize:null,typeName:vl.ZodSet},ns(t)));class Xs extends as{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Mo.function)return Bo(t,{code:Io.invalid_type,expected:Mo.function,received:t.parsedType}),Vo;function r(e,r){return Uo({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,zo(),Lo].filter((e=>!!e)),issueData:{code:Io.invalid_arguments,argumentsError:r}})}function n(e,r){return Uo({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,zo(),Lo].filter((e=>!!e)),issueData:{code:Io.invalid_return_type,returnTypeError:r}})}const a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof al){const e=this;return Ho((async function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];const l=new Ro([]),c=await e._def.args.parseAsync(o,a).catch((e=>{throw l.addIssue(r(o,e)),l})),u=await Reflect.apply(i,this,c),d=await e._def.returns._def.type.parseAsync(u,a).catch((e=>{throw l.addIssue(n(u,e)),l}));return d}))}{const e=this;return Ho((function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];const l=e._def.args.safeParse(o,a);if(!l.success)throw new Ro([r(o,l.error)]);const c=Reflect.apply(i,this,l.data),u=e._def.returns.safeParse(c,a);if(!u.success)throw new Ro([n(c,u.error)]);return u.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Xs(Re(Re({},this._def),{},{args:Ks.create(t).rest(Ls.create())}))}returns(e){return new Xs(Re(Re({},this._def),{},{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Xs(Re({args:e||Ks.create([]).rest(Ls.create()),returns:t||Ls.create(),typeName:vl.ZodFunction},ns(r)))}}class Js extends as{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Js.create=(e,t)=>new Js(Re({getter:e,typeName:vl.ZodLazy},ns(t)));class el extends as{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Bo(t,{received:t.data,code:Io.invalid_literal,expected:this._def.value}),Vo}return{status:"valid",value:e.data}}get value(){return this._def.value}}function tl(e,t){return new rl(Re({values:e,typeName:vl.ZodEnum},ns(t)))}el.create=(e,t)=>new el(Re({value:e,typeName:vl.ZodLiteral},ns(t)));class rl extends as{constructor(){super(...arguments),Jo.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),r=this._def.values;return Bo(t,{expected:Po.joinValues(r),received:t.parsedType,code:Io.invalid_type}),Vo}if(Yo(this,Jo,"f")||Qo(this,Jo,new Set(this._def.values),"f"),!Yo(this,Jo,"f").has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Bo(t,{received:t.data,code:Io.invalid_enum_value,options:r}),Vo}return Ho(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return rl.create(e,Re(Re({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return rl.create(this.options.filter((t=>!e.includes(t))),Re(Re({},this._def),t))}}Jo=new WeakMap,rl.create=tl;class nl extends as{constructor(){super(...arguments),es.set(this,void 0)}_parse(e){const t=Po.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Mo.string&&r.parsedType!==Mo.number){const e=Po.objectValues(t);return Bo(r,{expected:Po.joinValues(e),received:r.parsedType,code:Io.invalid_type}),Vo}if(Yo(this,es,"f")||Qo(this,es,new Set(Po.getValidEnumValues(this._def.values)),"f"),!Yo(this,es,"f").has(e.data)){const e=Po.objectValues(t);return Bo(r,{received:r.data,code:Io.invalid_enum_value,options:e}),Vo}return Ho(e.data)}get enum(){return this._def.values}}es=new WeakMap,nl.create=(e,t)=>new nl(Re({values:e,typeName:vl.ZodNativeEnum},ns(t)));class al extends as{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Mo.promise&&!1===t.common.async)return Bo(t,{code:Io.invalid_type,expected:Mo.promise,received:t.parsedType}),Vo;const r=t.parsedType===Mo.promise?t.data:Promise.resolve(t.data);return Ho(r.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}al.create=(e,t)=>new al(Re({type:e,typeName:vl.ZodPromise},ns(t)));class il extends as{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===vl.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{Bo(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){const e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return Vo;const n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?Vo:"dirty"===n.status||"dirty"===t.value?Wo(n.value):n}));{if("aborted"===t.value)return Vo;const n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?Vo:"dirty"===n.status||"dirty"===t.value?Wo(n.value):n}}if("refinement"===n.type){const e=e=>{const t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?Vo:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((r=>"aborted"===r.status?Vo:("dirty"===r.status&&t.dirty(),e(r.value).then((()=>({status:t.value,value:r.value}))))))}if("transform"===n.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ko(e))return e;const i=n.transform(e.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>Ko(e)?Promise.resolve(n.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}Po.assertNever(n)}}il.create=(e,t,r)=>new il(Re({schema:e,typeName:vl.ZodEffects,effect:t},ns(r))),il.createWithPreprocess=(e,t,r)=>new il(Re({schema:t,effect:{type:"preprocess",transform:e},typeName:vl.ZodEffects},ns(r)));class ol extends as{_parse(e){return this._getType(e)===Mo.undefined?Ho(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ol.create=(e,t)=>new ol(Re({innerType:e,typeName:vl.ZodOptional},ns(t)));class sl extends as{_parse(e){return this._getType(e)===Mo.null?Ho(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}sl.create=(e,t)=>new sl(Re({innerType:e,typeName:vl.ZodNullable},ns(t)));class ll extends as{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Mo.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ll.create=(e,t)=>new ll(Re({innerType:e,typeName:vl.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},ns(t)));class cl extends as{_parse(e){const{ctx:t}=this._processInputParams(e),r=Re(Re({},t),{},{common:Re(Re({},t.common),{},{issues:[]})}),n=this._def.innerType._parse({data:r.data,path:r.path,parent:Re({},r)});return $o(n)?n.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Ro(r.common.issues)},input:r.data})}))):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new Ro(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}cl.create=(e,t)=>new cl(Re({innerType:e,typeName:vl.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},ns(t)));class ul extends as{_parse(e){if(this._getType(e)!==Mo.nan){const t=this._getOrReturnCtx(e);return Bo(t,{code:Io.invalid_type,expected:Mo.nan,received:t.parsedType}),Vo}return{status:"valid",value:e.data}}}ul.create=e=>new ul(Re({typeName:vl.ZodNaN},ns(e)));const dl=Symbol("zod_brand");class fl extends as{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class hl extends as{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?Vo:"dirty"===e.status?(t.dirty(),Wo(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})()}{const e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?Vo:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new hl({in:e,out:t,typeName:vl.ZodPipeline})}}class pl extends as{_parse(e){const t=this._def.innerType._parse(e),r=e=>(Ko(e)&&(e.value=Object.freeze(e.value)),e);return $o(t)?t.then((e=>r(e))):r(t)}unwrap(){return this._def.innerType}}function ml(e,t){const r="function"===typeof e?e(t):"string"===typeof e?{message:e}:e;return"string"===typeof r?{message:r}:r}function yl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return e?Rs.create().superRefine(((n,a)=>{var i,o;const s=e(n);if(s instanceof Promise)return s.then((e=>{var i,o;if(!e){const e=ml(t,n),s=null===(o=null!==(i=e.fatal)&&void 0!==i?i:r)||void 0===o||o;a.addIssue(Re(Re({code:"custom"},e),{},{fatal:s}))}}));if(!s){const e=ml(t,n),s=null===(o=null!==(i=e.fatal)&&void 0!==i?i:r)||void 0===o||o;a.addIssue(Re(Re({code:"custom"},e),{},{fatal:s}))}})):Rs.create()}pl.create=(e,t)=>new pl(Re({innerType:e,typeName:vl.ZodReadonly},ns(t)));const gl={object:qs.lazycreate};var vl;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(vl||(vl={}));const bl=Ns.create,xl=Ps.create,wl=ul.create,jl=As.create,_l=Ts.create,kl=Cs.create,Sl=Ms.create,Ol=Ds.create,Nl=Is.create,El=Rs.create,Pl=Ls.create,Al=Fs.create,Tl=zs.create,Cl=Us.create,Ml=qs.create,Dl=qs.strictCreate,Il=Vs.create,Rl=Hs.create,Ll=Zs.create,Fl=Ks.create,zl=$s.create,Ul=Ys.create,Bl=Qs.create,ql=Xs.create,Vl=Js.create,Wl=el.create,Hl=rl.create,Gl=nl.create,Zl=al.create,Kl=il.create,$l=ol.create,Yl=sl.create,Ql=il.createWithPreprocess,Xl=hl.create,Jl={string:e=>Ns.create(Re(Re({},e),{},{coerce:!0})),number:e=>Ps.create(Re(Re({},e),{},{coerce:!0})),boolean:e=>Ts.create(Re(Re({},e),{},{coerce:!0})),bigint:e=>As.create(Re(Re({},e),{},{coerce:!0})),date:e=>Cs.create(Re(Re({},e),{},{coerce:!0}))},ec=Vo;var tc=Object.freeze({__proto__:null,defaultErrorMap:Lo,setErrorMap:function(e){Fo=e},getErrorMap:zo,makeIssue:Uo,EMPTY_PATH:[],addIssueToContext:Bo,ParseStatus:qo,INVALID:Vo,DIRTY:Wo,OK:Ho,isAborted:Go,isDirty:Zo,isValid:Ko,isAsync:$o,get util(){return Po},get objectUtil(){return Ao},ZodParsedType:Mo,getParsedType:Do,ZodType:as,datetimeRegex:_s,ZodString:Ns,ZodNumber:Ps,ZodBigInt:As,ZodBoolean:Ts,ZodDate:Cs,ZodSymbol:Ms,ZodUndefined:Ds,ZodNull:Is,ZodAny:Rs,ZodUnknown:Ls,ZodNever:Fs,ZodVoid:zs,ZodArray:Us,ZodObject:qs,ZodUnion:Vs,ZodDiscriminatedUnion:Hs,ZodIntersection:Zs,ZodTuple:Ks,ZodRecord:$s,ZodMap:Ys,ZodSet:Qs,ZodFunction:Xs,ZodLazy:Js,ZodLiteral:el,ZodEnum:rl,ZodNativeEnum:nl,ZodPromise:al,ZodEffects:il,ZodTransformer:il,ZodOptional:ol,ZodNullable:sl,ZodDefault:ll,ZodCatch:cl,ZodNaN:ul,BRAND:dl,ZodBranded:fl,ZodPipeline:hl,ZodReadonly:pl,custom:yl,Schema:as,ZodSchema:as,late:gl,get ZodFirstPartyTypeKind(){return vl},coerce:Jl,any:El,array:Cl,bigint:jl,boolean:_l,date:kl,discriminatedUnion:Rl,effect:Kl,enum:Hl,function:ql,instanceof:function(e){return yl((t=>t instanceof e),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"Input not instance of ".concat(e.name)})},intersection:Ll,lazy:Vl,literal:Wl,map:Ul,nan:wl,nativeEnum:Gl,never:Al,null:Nl,nullable:Yl,number:xl,object:Ml,oboolean:()=>_l().optional(),onumber:()=>xl().optional(),optional:$l,ostring:()=>bl().optional(),pipeline:Xl,preprocess:Ql,promise:Zl,record:zl,set:Bl,strictObject:Dl,string:bl,symbol:Sl,transformer:Kl,tuple:Fl,undefined:Ol,union:Il,unknown:Pl,void:Tl,NEVER:ec,ZodIssueCode:Io,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Ro});const rc=Ha("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),nc=Ha("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ac=Ha("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ic=Ha("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),oc=Ha("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),sc=Ha("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),lc=Ha("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),cc=Ha("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),uc=Ha("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),dc=r.p+"static/media/logo.3327de91d99d4196da75.png",fc=tc.object({email:tc.string().email("Invalid email address"),password:tc.string().min(6,"Password must be at least 6 characters")}),hc=tc.object({full_name:tc.string().min(2,"Full name is required"),email:tc.string().email("Invalid email address"),password:tc.string().min(6,"Password must be at least 6 characters"),confirm_password:tc.string().min(6,"Please confirm your password"),phone_number:tc.string().optional(),address:tc.string().optional(),role:tc.enum(["teacher","parent"],{required_error:"Please select a role"}),reason_for_application:tc.string().min(10,"Please provide a reason (minimum 10 characters)")}).refine((e=>e.password===e.confirm_password),{message:"Passwords don't match",path:["confirm_password"]}),pc=()=>{const{signIn:e,user:t,session:r}=za(),a=J(),[i,o]=(0,n.useState)(!1),[s,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),[d,f]=(0,n.useState)(!1),[h,p]=(0,n.useState)("login"),[m,y]=(0,n.useState)(null),[g,v]=(0,n.useState)(null),[b,x]=(0,n.useState)(null),w=ko({resolver:Co(fc)}),j=ko({resolver:Co(hc)});(0,n.useEffect)((()=>{t&&r&&(console.log("Login: User authenticated, redirecting to dashboard"),a("/dashboard",{replace:!0}))}),[t,r,a]);const _=async(e,t,r)=>{try{const n=e.name.split(".").pop(),a="".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9),".").concat(n),i="".concat(r,"/").concat(a),{error:o}=await Ra.storage.from(t).upload(i,e);if(o)throw o;const{data:{publicUrl:s}}=Ra.storage.from(t).getPublicUrl(i);return s}catch(n){return console.error("Error uploading file:",n),null}},k=(e,t)=>{var r;const n=null===(r=e.target.files)||void 0===r?void 0:r[0];if(n)if("profile"===t){y(n);const e=new FileReader;e.onload=e=>{var t;x(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsDataURL(n)}else v(n)};return(0,La.jsxs)("div",{className:"min-h-screen bg-gray-50 overflow-hidden",children:[(0,La.jsxs)("div",{className:"lg:hidden bg-blue-600 text-white p-4 flex items-center justify-between relative z-50",children:[(0,La.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,La.jsx)("img",{src:dc,alt:"iSKWELA Logo",className:"w-8 h-8 object-contain"}),(0,La.jsx)("h1",{className:"text-xl font-bold",children:"iSKWELA"})]}),(0,La.jsx)("div",{className:"text-sm",children:"login"===h?"Login":"Register"})]}),(0,La.jsxs)("div",{className:"flex h-screen lg:h-screen relative overflow-hidden",children:[(0,La.jsxs)("div",{className:"w-full lg:w-1/2 relative bg-gray-50 pt-16 lg:pt-0",children:[(0,La.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-6 lg:p-8 transition-all duration-700 ease-in-out transform ".concat("login"===h?"translate-x-0 opacity-100":"-translate-x-full opacity-0"),children:(0,La.jsxs)("div",{className:"w-full max-w-md mx-auto space-y-6 lg:space-y-8 relative z-10",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 animate-slide-in-left",children:"Login"}),(0,La.jsx)("p",{className:"mt-2 text-gray-600 animate-slide-in-left delay-100",children:"Enter your account details"})]}),(0,La.jsxs)("form",{onSubmit:w.handleSubmit((async t=>{try{o(!0),await e(t.email,t.password)}catch(r){o(!1)}})),className:"space-y-4 lg:space-y-6",children:[(0,La.jsxs)("div",{className:"animate-fade-in delay-200",children:[(0,La.jsx)("label",{htmlFor:"email",className:"block text-gray-700 mb-2 text-sm lg:text-base",children:"Username"}),(0,La.jsx)("input",Re(Re({},w.register("email")),{},{type:"email",id:"email",className:"w-full px-3 py-3 border-b border-gray-300 focus:border-blue-500 outline-none transition-all duration-300 focus:-translate-y-1 text-sm lg:text-base bg-transparent",placeholder:"Enter your email"})),w.formState.errors.email&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600 animate-fade-in",children:w.formState.errors.email.message})]}),(0,La.jsxs)("div",{className:"animate-fade-in delay-300",children:[(0,La.jsx)("label",{htmlFor:"password",className:"block text-gray-700 mb-2 text-sm lg:text-base",children:"Password"}),(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)("input",Re(Re({},w.register("password")),{},{type:s?"text":"password",id:"password",className:"w-full px-3 py-3 border-b border-gray-300 focus:border-blue-500 outline-none transition-all duration-300 focus:-translate-y-1 text-sm lg:text-base bg-transparent",placeholder:"Enter your password"})),(0,La.jsx)("button",{type:"button",onClick:()=>l(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-all duration-200 hover:scale-110 z-20",children:s?(0,La.jsx)(rc,{size:20}):(0,La.jsx)(nc,{size:20})})]}),w.formState.errors.password&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600 animate-fade-in",children:w.formState.errors.password.message})]}),(0,La.jsx)("div",{className:"text-right animate-fade-in delay-400",children:(0,La.jsx)("a",{href:"#",className:"text-xs lg:text-sm text-gray-500 hover:text-gray-700 transition-colors duration-200",children:"Forgot Password?"})}),(0,La.jsx)("div",{className:"pt-4 animate-fade-in delay-500",children:(0,La.jsx)("button",{type:"submit",disabled:i,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-full font-medium transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 text-sm lg:text-base relative z-30 ".concat(i?"animate-pulse":""),children:i?"Signing in...":"Login"})})]}),(0,La.jsx)("div",{className:"text-center mt-4 lg:mt-6 animate-fade-in delay-600",children:(0,La.jsxs)("p",{className:"text-gray-600 text-sm lg:text-base",children:["Don't have an account?"," ",(0,La.jsx)("button",{onClick:()=>{p("register")},className:"text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200 relative z-30",children:"Sign up"})]})})]})}),(0,La.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-6 lg:p-8 transition-all duration-700 ease-in-out transform ".concat("register"===h?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,La.jsxs)("div",{className:"w-full max-w-md mx-auto space-y-4 lg:space-y-6 relative z-10",children:[(0,La.jsxs)("div",{children:[(0,La.jsxs)("button",{onClick:()=>{p("login"),j.reset(),y(null),v(null),x(null)},className:"flex items-center text-blue-600 hover:text-blue-800 mb-4 transition-colors duration-200 relative z-30",children:[(0,La.jsx)(ac,{size:18,className:"mr-2"}),(0,La.jsx)("span",{className:"text-sm lg:text-base",children:"Back to Login"})]}),(0,La.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:"Register"}),(0,La.jsx)("p",{className:"mt-2 text-gray-600 text-sm lg:text-base",children:"Create your account and wait for admin approval"})]}),(0,La.jsxs)("form",{onSubmit:j.handleSubmit((async e=>{try{o(!0);const{data:t,error:r}=await Ra.rpc("check_email_availability",{email_to_check:e.email});if(r)return console.error("Error checking email availability:",r),void Yt.error("Failed to check email availability");if(!t.available)return void Yt.error(t.reason);let n=null,a=null;m&&(n=await _(m,"profiles","profile_pictures")),g&&(a=await _(g,"documents","valid_ids"));const{error:i}=await Ra.from("user_registrations").insert({full_name:e.full_name,email:e.email,password:e.password,phone_number:e.phone_number||null,address:e.address||null,role:e.role,reason_for_application:e.reason_for_application,profile_picture:n,valid_id_document:a,status:"pending",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()});if(i)throw i;Yt.success("Registration submitted successfully! Please wait for admin approval."),j.reset(),y(null),v(null),x(null),p("login")}catch(t){console.error("Registration error:",t),Yt.error(t.message||"Failed to submit registration")}finally{o(!1)}})),className:"space-y-4",children:[(0,La.jsxs)("div",{className:"max-h-72 sm:max-h-80 lg:max-h-96 overflow-y-auto pr-2 space-y-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsxs)("label",{className:"block text-gray-700 mb-2 text-sm lg:text-base",children:[(0,La.jsx)(Xa,{size:14,className:"inline mr-2"}),"Full Name"]}),(0,La.jsx)("input",Re(Re({},j.register("full_name")),{},{type:"text",className:"w-full px-3 py-2 lg:py-3 border-b border-gray-300 focus:border-blue-500 outline-none transition-all duration-300 focus:-translate-y-1 text-sm lg:text-base bg-transparent",placeholder:"Enter your full name"})),j.formState.errors.full_name&&(0,La.jsx)("p",{className:"mt-1 text-xs lg:text-sm text-red-600",children:j.formState.errors.full_name.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsxs)("label",{className:"block text-gray-700 mb-2 text-sm lg:text-base",children:[(0,La.jsx)(ic,{size:14,className:"inline mr-2"}),"Email"]}),(0,La.jsx)("input",Re(Re({},j.register("email")),{},{type:"email",className:"w-full px-3 py-2 lg:py-3 border-b border-gray-300 focus:border-blue-500 outline-none transition-all duration-300 focus:-translate-y-1 text-sm lg:text-base bg-transparent",placeholder:"Enter your email"})),j.formState.errors.email&&(0,La.jsx)("p",{className:"mt-1 text-xs lg:text-sm text-red-600",children:j.formState.errors.email.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsxs)("label",{className:"block text-gray-700 mb-2 text-sm lg:text-base",children:[(0,La.jsx)(oc,{size:14,className:"inline mr-2"}),"Password"]}),(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)("input",Re(Re({},j.register("password")),{},{type:c?"text":"password",className:"w-full px-3 py-2 lg:py-3 border-b border-gray-300 focus:border-blue-500 outline-none transition-all duration-300 focus:-translate-y-1 text-sm lg:text-base bg-transparent",placeholder:"Enter your password"})),(0,La.jsx)("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-all duration-200 hover:scale-110 z-20",children:c?(0,La.jsx)(rc,{size:16}):(0,La.jsx)(nc,{size:16})})]}),j.formState.errors.password&&(0,La.jsx)("p",{className:"mt-1 text-xs lg:text-sm text-red-600",children:j.formState.errors.password.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsxs)("label",{className:"block text-gray-700 mb-2 text-sm lg:text-base",children:[(0,La.jsx)(oc,{size:14,className:"inline mr-2"}),"Confirm Password"]}),(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)("input",Re(Re({},j.register("confirm_password")),{},{type:d?"text":"password",className:"w-full px-3 py-2 lg:py-3 border-b border-gray-300 focus:border-blue-500 outline-none transition-all duration-300 focus:-translate-y-1 text-sm lg:text-base bg-transparent",placeholder:"Confirm your password"})),(0,La.jsx)("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-all duration-200 hover:scale-110 z-20",children:d?(0,La.jsx)(rc,{size:16}):(0,La.jsx)(nc,{size:16})})]}),j.formState.errors.confirm_password&&(0,La.jsx)("p",{className:"mt-1 text-xs lg:text-sm text-red-600",children:j.formState.errors.confirm_password.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsxs)("label",{className:"block text-gray-700 mb-2 text-sm lg:text-base",children:[(0,La.jsx)(sc,{size:14,className:"inline mr-2"}),"Phone Number (Optional)"]}),(0,La.jsx)("input",Re(Re({},j.register("phone_number")),{},{type:"tel",className:"w-full px-3 py-2 lg:py-3 border-b border-gray-300 focus:border-blue-500 outline-none transition-all duration-300 focus:-translate-y-1 text-sm lg:text-base bg-transparent",placeholder:"Enter your phone number"}))]}),(0,La.jsxs)("div",{children:[(0,La.jsxs)("label",{className:"block text-gray-700 mb-2 text-sm lg:text-base",children:[(0,La.jsx)(lc,{size:14,className:"inline mr-2"}),"Address (Optional)"]}),(0,La.jsx)("input",Re(Re({},j.register("address")),{},{type:"text",className:"w-full px-3 py-2 lg:py-3 border-b border-gray-300 focus:border-blue-500 outline-none transition-all duration-300 focus:-translate-y-1 text-sm lg:text-base bg-transparent",placeholder:"Enter your address"}))]}),(0,La.jsxs)("div",{children:[(0,La.jsxs)("label",{className:"block text-gray-700 mb-2 text-sm lg:text-base",children:[(0,La.jsx)(cc,{size:14,className:"inline mr-2"}),"Role"]}),(0,La.jsxs)("select",Re(Re({},j.register("role")),{},{className:"w-full px-3 py-2 lg:py-3 border-b border-gray-300 focus:border-blue-500 outline-none transition-all duration-300 bg-transparent text-sm lg:text-base",children:[(0,La.jsx)("option",{value:"",children:"Select your role"}),(0,La.jsx)("option",{value:"teacher",children:"Teacher"}),(0,La.jsx)("option",{value:"parent",children:"Parent"})]})),j.formState.errors.role&&(0,La.jsx)("p",{className:"mt-1 text-xs lg:text-sm text-red-600",children:j.formState.errors.role.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsxs)("label",{className:"block text-gray-700 mb-2 text-sm lg:text-base",children:[(0,La.jsx)(Ya,{size:14,className:"inline mr-2"}),"Reason for Application"]}),(0,La.jsx)("textarea",Re(Re({},j.register("reason_for_application")),{},{rows:2,className:"w-full px-3 py-2 lg:py-3 border border-gray-300 rounded-md focus:border-blue-500 outline-none transition-all duration-300 resize-none text-sm lg:text-base",placeholder:"Please explain why you want to register for this account"})),j.formState.errors.reason_for_application&&(0,La.jsx)("p",{className:"mt-1 text-xs lg:text-sm text-red-600",children:j.formState.errors.reason_for_application.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-gray-700 mb-2 text-sm lg:text-base",children:"Profile Picture (Optional)"}),(0,La.jsxs)("div",{className:"flex items-center space-x-3",children:[b?(0,La.jsx)("img",{src:b,alt:"Profile Preview",className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full object-cover border-2 border-gray-300"}):(0,La.jsx)("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full bg-gray-100 flex items-center justify-center border-2 border-gray-300",children:(0,La.jsx)(Xa,{size:16,className:"text-gray-400"})}),(0,La.jsxs)("label",{className:"cursor-pointer bg-blue-50 text-blue-600 px-2 py-1 lg:px-3 lg:py-2 rounded-md hover:bg-blue-100 transition-colors duration-200 flex items-center text-xs lg:text-sm relative z-30",children:[(0,La.jsx)(uc,{size:12,className:"mr-1 lg:mr-2"}),"Upload Photo",(0,La.jsx)("input",{type:"file",accept:"image/*",onChange:e=>k(e,"profile"),className:"hidden"})]})]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-gray-700 mb-2 text-sm lg:text-base",children:"Valid ID Document (Optional)"}),(0,La.jsx)("div",{className:"flex items-center space-x-3",children:(0,La.jsxs)("label",{className:"cursor-pointer bg-green-50 text-green-600 px-2 py-1 lg:px-3 lg:py-2 rounded-md hover:bg-green-100 transition-colors duration-200 flex items-center text-xs lg:text-sm relative z-30",children:[(0,La.jsx)(uc,{size:12,className:"mr-1 lg:mr-2"}),g?g.name.length>12?g.name.substring(0,12)+"...":g.name:"Upload ID",(0,La.jsx)("input",{type:"file",accept:"image/*,.pdf",onChange:e=>k(e,"id"),className:"hidden"})]})})]})]}),(0,La.jsx)("div",{className:"pt-4",children:(0,La.jsx)("button",{type:"submit",disabled:i,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-full font-medium transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 text-sm lg:text-base relative z-30 ".concat(i?"animate-pulse":""),children:i?"Submitting...":"Submit Registration"})})]})]})})]}),(0,La.jsx)("div",{className:"hidden lg:flex w-1/2 bg-gradient-to-br from-blue-600 to-blue-700 relative overflow-hidden transition-all duration-700 ease-in-out transform ".concat("login"===h?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,La.jsxs)("div",{className:"h-full flex items-center justify-center w-full",children:[(0,La.jsxs)("div",{className:"relative z-10 text-center text-white px-8",children:[(0,La.jsx)("div",{className:"mb-8 flex justify-center animate-bounce-in",children:(0,La.jsx)("div",{className:"w-32 h-32 xl:w-40 xl:h-40 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm transition-transform duration-300 hover:scale-105",children:(0,La.jsx)("img",{src:dc,alt:"iSKWELA Logo",className:"w-24 h-24 xl:w-32 xl:h-32 object-contain animate-fade-in"})})}),(0,La.jsx)("h1",{className:"text-4xl xl:text-5xl font-bold mb-2 animate-slide-in-up delay-200",children:"Welcome"}),(0,La.jsx)("p",{className:"text-2xl xl:text-3xl mb-8 animate-slide-in-up delay-300",children:"to iSKWELA"}),(0,La.jsxs)("p",{className:"text-base xl:text-lg opacity-90 animate-fade-in delay-400",children:["Academic Grade Management and",(0,La.jsx)("br",{}),"Monitoring System for Anonang-Naguilian Community School"]})]}),(0,La.jsx)("div",{className:"absolute bottom-0 left-0 right-0 animate-wave",children:(0,La.jsx)("svg",{viewBox:"0 0 1440 320",className:"w-full",children:(0,La.jsx)("path",{fill:"rgba(255,255,255,0.1)",fillOpacity:"1",d:"M0,224L48,213.3C96,203,192,181,288,176C384,171,480,181,576,202.7C672,224,768,256,864,261.3C960,267,1056,245,1152,218.7C1248,192,1344,160,1392,144L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})})]})}),(0,La.jsxs)("div",{className:"hidden lg:flex w-1/2 bg-gradient-to-br from-blue-600 to-blue-700 absolute top-0 right-0 h-full items-center justify-center transition-all duration-700 ease-in-out transform ".concat("register"===h?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:[(0,La.jsxs)("div",{className:"relative z-10 text-center text-white px-8",children:[(0,La.jsx)("div",{className:"mb-8 flex justify-center animate-bounce-in",children:(0,La.jsx)("div",{className:"w-32 h-32 xl:w-40 xl:h-40 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm transition-transform duration-300 hover:scale-105",children:(0,La.jsx)("img",{src:dc,alt:"iSKWELA Logo",className:"w-24 h-24 xl:w-32 xl:h-32 object-contain animate-fade-in"})})}),(0,La.jsx)("h1",{className:"text-4xl xl:text-5xl font-bold mb-2 animate-slide-in-up delay-200",children:"Join Us"}),(0,La.jsx)("p",{className:"text-2xl xl:text-3xl mb-8 animate-slide-in-up delay-300",children:"at iSKWELA"}),(0,La.jsx)("p",{className:"text-base xl:text-lg opacity-90 animate-fade-in delay-400",children:"Submit your registration and wait for admin approval to access the system"})]}),(0,La.jsx)("div",{className:"absolute bottom-0 left-0 right-0 animate-wave",children:(0,La.jsx)("svg",{viewBox:"0 0 1440 320",className:"w-full",children:(0,La.jsx)("path",{fill:"rgba(255,255,255,0.1)",fillOpacity:"1",d:"M0,224L48,213.3C96,203,192,181,288,176C384,171,480,181,576,202.7C672,224,768,256,864,261.3C960,267,1056,245,1152,218.7C1248,192,1344,160,1392,144L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})})]})]})]})},mc=Ha("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),yc=Ha("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),gc=Ha("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function vc(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=vc(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}const bc=function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=vc(e))&&(n&&(n+=" "),n+=t);return n};var xc=r(9889),wc=r.n(xc),jc=r(620),_c=r.n(jc),kc=r(5268),Sc=r.n(kc),Oc=r(3097),Nc=r.n(Oc),Ec=r(9160),Pc=r.n(Ec),Ac=function(e){return 0===e?0:e>0?1:-1},Tc=function(e){return _c()(e)&&e.indexOf("%")===e.length-1},Cc=function(e){return Pc()(e)&&!Sc()(e)},Mc=function(e){return Cc(e)||_c()(e)},Dc=0,Ic=function(e){var t=++Dc;return"".concat(e||"").concat(t)},Rc=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Cc(e)&&!_c()(e))return n;if(Tc(e)){var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return Sc()(r)&&(r=n),a&&r>t&&(r=t),r},Lc=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Fc=function(e,t){return Cc(e)&&Cc(t)?function(r){return e+r*(t-e)}:function(){return t}};function zc(e,t,r){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):Nc()(e,t))===r})):null}var Uc=function(e,t){return Cc(e)&&Cc(t)?e-t:_c()(e)&&_c()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},Bc=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]},qc=r(9686),Vc=r.n(qc),Wc=r(1629),Hc=r.n(Wc),Gc=r(6686),Zc=r.n(Gc),Kc=r(9062);function $c(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Yc(e){return Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(e)}var Qc=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Xc=["points","pathLength"],Jc={svg:["viewBox","children"],polygon:Xc,polyline:Xc},eu=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],tu=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,n.isValidElement)(e)&&(r=e.props),!Zc()(r))return null;var a={};return Object.keys(r).forEach((function(e){eu.includes(e)&&(a[e]=t||function(t){return r[e](r,t)})})),a},ru=function(e,t,r){if(!Zc()(e)||"object"!==Yc(e))return null;var n=null;return Object.keys(e).forEach((function(a){var i=e[a];eu.includes(a)&&"function"===typeof i&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(i,t,r))})),n},nu=["children"],au=["children"];function iu(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ou(e){return ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(e)}var su={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},lu=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},cu=null,uu=null,du=function e(t){if(t===cu&&Array.isArray(uu))return uu;var r=[];return n.Children.forEach(t,(function(t){Vc()(t)||((0,Kc.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))})),uu=r,cu=t,r};function fu(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map((function(e){return lu(e)})):[lu(t)],du(e).forEach((function(e){var t=Nc()(e,"type.displayName")||Nc()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)})),r}function hu(e,t){var r=fu(e,t);return r&&r[0]}var pu=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!Cc(r)||r<=0||!Cc(n)||n<=0)},mu=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yu=function(e){return e&&e.type&&_c()(e.type)&&mu.indexOf(e.type)>=0},gu=function(e,t,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,n.isValidElement)(e)&&(a=e.props),!Zc()(a))return null;var i={};return Object.keys(a).forEach((function(e){var n;(function(e,t,r,n){var a,i=null!==(a=null===Jc||void 0===Jc?void 0:Jc[n])&&void 0!==a?a:[];return t.startsWith("data-")||!Hc()(e)&&(n&&i.includes(t)||Qc.includes(t))||r&&eu.includes(t)})(null===(n=a)||void 0===n?void 0:n[e],e,t,r)&&(i[e]=a[e])})),i},vu=function e(t,r){if(t===r)return!0;var a=n.Children.count(t);if(a!==n.Children.count(r))return!1;if(0===a)return!0;if(1===a)return bu(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<a;i++){var o=t[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!bu(o,s))return!1}return!0},bu=function(e,t){if(Vc()(e)&&Vc()(t))return!0;if(!Vc()(e)&&!Vc()(t)){var r=e.props||{},n=r.children,a=iu(r,nu),i=t.props||{},o=i.children,s=iu(i,au);return n&&o?$c(a,s)&&vu(n,o):!n&&!o&&$c(a,s)}return!1},xu=function(e,t){var r=[],n={};return du(e).forEach((function(e,a){if(yu(e))r.push(e);else if(e){var i=lu(e.type),o=t[i]||{},s=o.handler,l=o.once;if(s&&(!l||!n[i])){var c=s(e,i,a);r.push(c),n[i]=!0}}})),r};function wu(e){return wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(e)}function ju(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ju(Object(r),!0).forEach((function(t){ku(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ju(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ku(e,t,r){return t=function(e){var t=function(e,t){if("object"!=wu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=wu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wu(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Su(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ou(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ou(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ou(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nu=(0,n.forwardRef)((function(e,t){var r=e.aspect,a=e.initialDimension,i=void 0===a?{width:-1,height:-1}:a,o=e.width,s=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,y=void 0===m?0:m,g=e.id,v=e.className,b=e.onResize,x=e.style,w=void 0===x?{}:x,j=(0,n.useRef)(null),_=(0,n.useRef)();_.current=b,(0,n.useImperativeHandle)(t,(function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})}));var k=Su((0,n.useState)({containerWidth:i.width,containerHeight:i.height}),2),S=k[0],O=k[1],N=(0,n.useCallback)((function(e,t){O((function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}}))}),[]);(0,n.useEffect)((function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;N(n,a),null===(t=_.current)||void 0===t||t.call(_,n,a)};y>0&&(e=wc()(e,y,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=j.current.getBoundingClientRect(),n=r.width,a=r.height;return N(n,a),t.observe(j.current),function(){t.disconnect()}}),[N,y]);var E=(0,n.useMemo)((function(){var e=S.containerWidth,t=S.containerHeight;if(e<0||t<0)return null;Bc(Tc(s)||Tc(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),Bc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=Tc(s)?e:s,i=Tc(c)?t:c;r&&r>0&&(a?i=a/r:i&&(a=i*r),h&&i>h&&(i=h)),Bc(a>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,i,s,c,d,f,r);var o=!Array.isArray(p)&&lu(p.type).endsWith("Chart");return n.Children.map(p,(function(e){return n.isValidElement(e)?(0,n.cloneElement)(e,_u({width:a,height:i},o?{style:_u({height:"100%",width:"100%",maxHeight:i,maxWidth:a},e.props.style)}:{})):e}))}),[r,p,c,h,f,d,S,s]);return n.createElement("div",{id:g?"".concat(g):void 0,className:bc("recharts-responsive-container",v),style:_u(_u({},w),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)})),Eu=r(6604),Pu=r.n(Eu),Au=r(7424),Tu=r.n(Au),Cu="Invariant failed";function Mu(e,t){if(!e)throw new Error(Cu)}var Du=["children","width","height","viewBox","className","style","title","desc"];function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iu.apply(this,arguments)}function Ru(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lu(e){var t=e.children,r=e.width,a=e.height,i=e.viewBox,o=e.className,s=e.style,l=e.title,c=e.desc,u=Ru(e,Du),d=i||{width:r,height:a,x:0,y:0},f=bc("recharts-surface",o);return n.createElement("svg",Iu({},gu(u,!0,"svg"),{className:f,width:r,height:a,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),n.createElement("title",null,l),n.createElement("desc",null,c),t)}var Fu=["children","className"];function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zu.apply(this,arguments)}function Uu(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Bu=n.forwardRef((function(e,t){var r=e.children,a=e.className,i=Uu(e,Fu),o=bc("recharts-layer",a);return n.createElement("g",zu({className:o},gu(i,!0),{ref:t}),r)}));function qu(e){return qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(e)}function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vu.apply(this,arguments)}function Wu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Hu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gu(Object(r),!0).forEach((function(t){Ku(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ku(e,t,r){return t=function(e){var t=function(e,t){if("object"!=qu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qu(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $u(e){return Array.isArray(e)&&Mc(e[0])&&Mc(e[1])?e.join(" ~ "):e}var Yu=function(e){var t=e.separator,r=void 0===t?" : ":t,a=e.contentStyle,i=void 0===a?{}:a,o=e.itemStyle,s=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,m=e.label,y=e.labelFormatter,g=e.accessibilityLayer,v=void 0!==g&&g,b=Zu({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),x=Zu({margin:0},c),w=!Vc()(m),j=w?m:"",_=bc("recharts-default-tooltip",h),k=bc("recharts-tooltip-label",p);w&&y&&void 0!==u&&null!==u&&(j=y(m,u));var S=v?{role:"status","aria-live":"assertive"}:{};return n.createElement("div",Vu({className:_,style:b},S),n.createElement("p",{className:k,style:x},n.isValidElement(j)?j:"".concat(j)),function(){if(u&&u.length){var e=(f?Tu()(u,f):u).map((function(e,t){if("none"===e.type)return null;var a=Zu({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),i=e.formatter||d||$u,o=e.value,l=e.name,c=o,f=l;if(i&&null!=c&&null!=f){var h=i(o,l,e,t,u);if(Array.isArray(h)){var p=Wu(h,2);c=p[0],f=p[1]}else c=h}return n.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:a},Mc(f)?n.createElement("span",{className:"recharts-tooltip-item-name"},f):null,Mc(f)?n.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,n.createElement("span",{className:"recharts-tooltip-item-value"},c),n.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return n.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Qu(e){return Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(e)}function Xu(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Qu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qu(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ju="recharts-tooltip-wrapper",ed={visibility:"hidden"};function td(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return bc(Ju,Xu(Xu(Xu(Xu({},"".concat(Ju,"-right"),Cc(r)&&t&&Cc(t.x)&&r>=t.x),"".concat(Ju,"-left"),Cc(r)&&t&&Cc(t.x)&&r<t.x),"".concat(Ju,"-bottom"),Cc(n)&&t&&Cc(t.y)&&n>=t.y),"".concat(Ju,"-top"),Cc(n)&&t&&Cc(t.y)&&n<t.y))}function rd(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Cc(i[n]))return i[n];var u=r[n]-s-a,d=r[n]+a;return t[n]?o[n]?u:d:o[n]?u<l[n]?Math.max(d,l[n]):Math.max(u,l[n]):d+s>l[n]+c?Math.max(u,l[n]):Math.max(d,l[n])}function nd(e){return nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(e)}function ad(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ad(Object(r),!0).forEach((function(t){dd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ad(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function od(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fd(n.key),n)}}function sd(e,t,r){return t=cd(t),function(e,t){if(t&&("object"===nd(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ld()?Reflect.construct(t,r||[],cd(e).constructor):t.apply(e,r))}function ld(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ld=function(){return!!e})()}function cd(e){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cd(e)}function ud(e,t){return ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ud(e,t)}function dd(e,t,r){return(t=fd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fd(e){var t=function(e,t){if("object"!=nd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nd(t)?t:t+""}var hd=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return dd(e=sd(this,t,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dd(e,"handleKeyDown",(function(t){var r,n,a,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=e.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ud(e,t)}(t,e),r=t,(a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,a=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,f=t.position,h=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,y=t.wrapperStyle,g=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=rd({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:r=rd({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):ed,cssClasses:td({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:f,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=g.cssClasses,b=g.cssProperties,x=id(id({transition:u&&r?"transform ".concat(i,"ms ").concat(o):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},y);return n.createElement("div",{tabIndex:-1,className:v,style:x,ref:function(t){e.wrapperNode=t}},s)}}])&&od(r.prototype,a),i&&od(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent),pd={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return pd[e]},set:function(e,t){if("string"===typeof e)pd[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach((function(t){pd[t]=e[t]}))}}},md=r(977),yd=r.n(md);function gd(e,t,r){return!0===t?yd()(e,r):Hc()(t)?yd()(e,t):e}function vd(e){return vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(e)}function bd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bd(Object(r),!0).forEach((function(t){Od(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nd(n.key),n)}}function jd(e,t,r){return t=kd(t),function(e,t){if(t&&("object"===vd(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_d()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function _d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_d=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kd(e)}function Sd(e,t){return Sd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sd(e,t)}function Od(e,t,r){return(t=Nd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nd(e){var t=function(e,t){if("object"!=vd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vd(t)?t:t+""}function Ed(e){return e.dataKey}var Pd=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jd(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sd(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){var e=this,t=this.props,r=t.active,a=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,f=t.payload,h=t.payloadUniqBy,p=t.position,m=t.reverseDirection,y=t.useTranslate3d,g=t.viewBox,v=t.wrapperStyle,b=null!==f&&void 0!==f?f:[];c&&b.length&&(b=gd(f.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),h,Ed));var x=b.length>0;return n.createElement(hd,{allowEscapeViewBox:a,animationDuration:i,animationEasing:o,isAnimationActive:u,active:r,coordinate:l,hasPayload:x,offset:d,position:p,reverseDirection:m,useTranslate3d:y,viewBox:g,wrapperStyle:v},function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):"function"===typeof e?n.createElement(e,t):n.createElement(Yu,t)}(s,xd(xd({},this.props),{},{payload:b})))}}])&&wd(r.prototype,a),i&&wd(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);Od(Pd,"displayName","Tooltip"),Od(Pd,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ad=r(643),Td=r.n(Ad);Math.abs,Math.atan2;const Cd=Math.cos,Md=(Math.max,Math.min,Math.sin),Dd=Math.sqrt,Id=Math.PI,Rd=2*Id;const Ld={draw(e,t){const r=Dd(t/Id);e.moveTo(r,0),e.arc(0,0,r,0,Rd)}},Fd={draw(e,t){const r=Dd(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},zd=Dd(1/3),Ud=2*zd,Bd={draw(e,t){const r=Dd(t/Ud),n=r*zd;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},qd={draw(e,t){const r=Dd(t),n=-r/2;e.rect(n,n,r,r)}},Vd=Md(Id/10)/Md(7*Id/10),Wd=Md(Rd/10)*Vd,Hd=-Cd(Rd/10)*Vd,Gd={draw(e,t){const r=Dd(.8908130915292852*t),n=Wd*r,a=Hd*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=Rd*i/5,o=Cd(t),s=Md(t);e.lineTo(s*r,-o*r),e.lineTo(o*n-s*a,s*n+o*a)}e.closePath()}},Zd=Dd(3),Kd={draw(e,t){const r=-Dd(t/(3*Zd));e.moveTo(0,2*r),e.lineTo(-Zd*r,-r),e.lineTo(Zd*r,-r),e.closePath()}},$d=-.5,Yd=Dd(3)/2,Qd=1/Dd(12),Xd=3*(Qd/2+1),Jd={draw(e,t){const r=Dd(t/Xd),n=r/2,a=r*Qd,i=n,o=r*Qd+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo($d*n-Yd*a,Yd*n+$d*a),e.lineTo($d*i-Yd*o,Yd*i+$d*o),e.lineTo($d*s-Yd*l,Yd*s+$d*l),e.lineTo($d*n+Yd*a,$d*a-Yd*n),e.lineTo($d*i+Yd*o,$d*o-Yd*i),e.lineTo($d*s+Yd*l,$d*l-Yd*s),e.closePath()}};function ef(e){return function(){return e}}var tf,rf,nf,af,of,sf,lf,cf,uf,df,ff,hf,pf,mf;const yf=Math.PI,gf=2*yf,vf=1e-6,bf=gf-vf;function xf(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class wf{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?xf:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return xf;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(tf||(tf=Te(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(rf||(rf=Te(["Z"]))))}lineTo(e,t){this._append(nf||(nf=Te(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,n){this._append(af||(af=Te(["Q",",",",",",",""])),+e,+t,this._x1=+r,this._y1=+n)}bezierCurveTo(e,t,r,n,a,i){this._append(of||(of=Te(["C",",",",",",",",",",",""])),+e,+t,+r,+n,this._x1=+a,this._y1=+i)}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error("negative radius: ".concat(a));let i=this._x1,o=this._y1,s=r-e,l=n-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(sf||(sf=Te(["M",",",""])),this._x1=e,this._y1=t);else if(d>vf)if(Math.abs(u*s-l*c)>vf&&a){let f=r-i,h=n-o,p=s*s+l*l,m=f*f+h*h,y=Math.sqrt(p),g=Math.sqrt(d),v=a*Math.tan((yf-Math.acos((p+d-m)/(2*y*g)))/2),b=v/g,x=v/y;Math.abs(b-1)>vf&&this._append(cf||(cf=Te(["L",",",""])),e+b*c,t+b*u),this._append(uf||(uf=Te(["A",",",",0,0,",",",",",""])),a,a,+(u*f>c*h),this._x1=e+x*s,this._y1=t+x*l)}else this._append(lf||(lf=Te(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error("negative radius: ".concat(r));let o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,c=t+s,u=1^i,d=i?n-a:a-n;null===this._x1?this._append(df||(df=Te(["M",",",""])),l,c):(Math.abs(this._x1-l)>vf||Math.abs(this._y1-c)>vf)&&this._append(ff||(ff=Te(["L",",",""])),l,c),r&&(d<0&&(d=d%gf+gf),d>bf?this._append(hf||(hf=Te(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,u,e-o,t-s,r,r,u,this._x1=l,this._y1=c):d>vf&&this._append(pf||(pf=Te(["A",",",",0,",",",",",",",""])),r,r,+(d>=yf),u,this._x1=e+r*Math.cos(a),this._y1=t+r*Math.sin(a)))}rect(e,t,r,n){this._append(mf||(mf=Te(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+n,-r)}toString(){return this._}}function jf(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError("invalid digits: ".concat(r));t=e}return e},()=>new wf(t)}Dd(3),Dd(3);function _f(e){return _f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(e)}var kf=["type","size","sizeType"];function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sf.apply(this,arguments)}function Of(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Of(Object(r),!0).forEach((function(t){Ef(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Of(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ef(e,t,r){return t=function(e){var t=function(e,t){if("object"!=_f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_f(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pf(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Af={symbolCircle:Ld,symbolCross:Fd,symbolDiamond:Bd,symbolSquare:qd,symbolStar:Gd,symbolTriangle:Kd,symbolWye:Jd},Tf=Math.PI/180,Cf=function(e){var t=e.type,r=void 0===t?"circle":t,a=e.size,i=void 0===a?64:a,o=e.sizeType,s=void 0===o?"area":o,l=Nf(Nf({},Pf(e,kf)),{},{type:r,size:i,sizeType:s}),c=l.className,u=l.cx,d=l.cy,f=gu(l,!0);return u===+u&&d===+d&&i===+i?n.createElement("path",Sf({},f,{className:bc("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(Td()(e));return Af[t]||Ld}(r),t=function(e,t){let r=null,n=jf(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:ef(e||Ld),t="function"===typeof t?t:ef(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:ef(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:ef(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*Tf;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(i,s,r));return t()}()})):null};function Mf(e){return Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(e)}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(this,arguments)}function If(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qf(n.key),n)}}function Lf(e,t,r){return t=zf(t),function(e,t){if(t&&("object"===Mf(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ff()?Reflect.construct(t,r||[],zf(e).constructor):t.apply(e,r))}function Ff(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ff=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zf(e)}function Uf(e,t){return Uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uf(e,t)}function Bf(e,t,r){return(t=qf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qf(e){var t=function(e,t){if("object"!=Mf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mf(t)?t:t+""}Cf.registerSymbol=function(e,t){Af["symbol".concat(Td()(e))]=t};var Vf=32,Wf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lf(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uf(e,t)}(t,e),r=t,a=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,a=Vf/6,i=Vf/3,o=e.inactive?t:e.color;if("plainline"===e.type)return n.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:Vf,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return n.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(r,"h").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*i,",").concat(r,"\n            H").concat(Vf,"M").concat(2*i,",").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(i,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return n.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(Vf,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(n.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?If(Object(r),!0).forEach((function(t){Bf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):If(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return delete s.legendIcon,n.cloneElement(e.legendIcon,s)}return n.createElement(Cf,{fill:o,cx:r,cy:r,size:Vf,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,a=t.iconSize,i=t.layout,o=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:Vf,height:Vf},c={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((function(t,r){var i=t.formatter||o,d=bc(Bf(Bf({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var f=Hc()(t.value)?null:t.value;Bc(!Hc()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?s:t.color;return n.createElement("li",Df({className:d,style:c,key:"legend-item-".concat(r)},ru(e.props,t,r)),n.createElement(Lu,{width:a,height:a,viewBox:l,style:u},e.renderIcon(t)),n.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},i?i(f,t,r):f))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,a=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===r?a:"left"};return n.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],a&&Rf(r.prototype,a),i&&Rf(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);function Hf(e){return Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(e)}Bf(Wf,"displayName","Legend"),Bf(Wf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Gf=["ref"];function Zf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zf(Object(r),!0).forEach((function(t){eh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,th(n.key),n)}}function Yf(e,t,r){return t=Xf(t),function(e,t){if(t&&("object"===Hf(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Qf()?Reflect.construct(t,r||[],Xf(e).constructor):t.apply(e,r))}function Qf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qf=function(){return!!e})()}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xf(e)}function Jf(e,t){return Jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jf(e,t)}function eh(e,t,r){return(t=th(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function th(e){var t=function(e,t){if("object"!=Hf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Hf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hf(t)?t:t+""}function rh(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nh(e){return e.value}var ah=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return eh(e=Yf(this,t,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jf(e,t)}(t,e),r=t,i=[{key:"getWithHeight",value:function(e,t){var r=Kf(Kf({},this.defaultProps),e.props).layout;return"vertical"===r&&Cc(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Kf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,i=n.align,o=n.verticalAlign,s=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Kf(Kf({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,a=t.width,i=t.height,o=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=Kf(Kf({position:"absolute",width:a||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return n.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(n.isValidElement(e))return n.cloneElement(e,t);if("function"===typeof e)return n.createElement(e,t);t.ref;var r=rh(t,Gf);return n.createElement(Wf,r)}(r,Kf(Kf({},this.props),{},{payload:gd(l,s,nh)})))}}])&&$f(r.prototype,a),i&&$f(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ih.apply(this,arguments)}eh(ah,"displayName","Legend"),eh(ah,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var oh=function(e){var t=e.cx,r=e.cy,a=e.r,i=e.className,o=bc("recharts-dot",i);return t===+t&&r===+r&&a===+a?n.createElement("circle",ih({},gu(e,!1),tu(e),{className:o,cx:t,cy:r,r:a})):null},sh=r(5173),lh=r.n(sh),ch=Object.getOwnPropertyNames,uh=Object.getOwnPropertySymbols,dh=Object.prototype.hasOwnProperty;function fh(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function hh(e){return function(t,r,n){if(!t||!r||"object"!==typeof t||"object"!==typeof r)return e(t,r,n);var a=n.cache,i=a.get(t),o=a.get(r);if(i&&o)return i===r&&o===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function ph(e){return ch(e).concat(uh(e))}var mh=Object.hasOwn||function(e,t){return dh.call(e,t)};function yh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var gh=Object.getOwnPropertyDescriptor,vh=Object.keys;function bh(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function xh(e,t){return yh(e.getTime(),t.getTime())}function wh(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function jh(e,t){return e===t}function _h(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,o=new Array(n),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(i=c.next())&&!i.done;)if(o[d])d++;else{var f=a.value,h=i.value;if(r.equals(f[0],h[0],l,d,e,t,r)&&r.equals(f[1],h[1],f[0],h[0],e,t,r)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var kh=yh;function Sh(e,t,r){var n=vh(e),a=n.length;if(vh(t).length!==a)return!1;for(;a-- >0;)if(!Ch(e,t,r,n[a]))return!1;return!0}function Oh(e,t,r){var n,a,i,o=ph(e),s=o.length;if(ph(t).length!==s)return!1;for(;s-- >0;){if(!Ch(e,t,r,n=o[s]))return!1;if(a=gh(e,n),i=gh(t,n),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function Nh(e,t){return yh(e.valueOf(),t.valueOf())}function Eh(e,t){return e.source===t.source&&e.flags===t.flags}function Ph(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,o=new Array(n),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(i=l.next())&&!i.done;){if(!o[u]&&r.equals(a.value,i.value,a.value,i.value,e,t,r)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function Ah(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Th(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Ch(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||mh(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Mh=Array.isArray,Dh="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Ih=Object.assign,Rh=Object.prototype.toString.call.bind(Object.prototype.toString);var Lh=Fh();Fh({strict:!0}),Fh({circular:!0}),Fh({circular:!0,strict:!0}),Fh({createInternalComparator:function(){return yh}}),Fh({strict:!0,createInternalComparator:function(){return yh}}),Fh({circular:!0,createInternalComparator:function(){return yh}}),Fh({circular:!0,createInternalComparator:function(){return yh},strict:!0});function Fh(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,i=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Oh:bh,areDatesEqual:xh,areErrorsEqual:wh,areFunctionsEqual:jh,areMapsEqual:n?fh(_h,Oh):_h,areNumbersEqual:kh,areObjectsEqual:n?Oh:Sh,arePrimitiveWrappersEqual:Nh,areRegExpsEqual:Eh,areSetsEqual:n?fh(Ph,Oh):Ph,areTypedArraysEqual:n?Oh:Ah,areUrlsEqual:Th};if(r&&(a=Ih({},a,r(a))),t){var i=hh(a.areArraysEqual),o=hh(a.areMapsEqual),s=hh(a.areObjectsEqual),l=hh(a.areSetsEqual);a=Ih({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,h,p){if(e===h)return!0;if(null==e||null==h)return!1;var m=typeof e;if(m!==typeof h)return!1;if("object"!==m)return"number"===m?o(e,h,p):"function"===m&&a(e,h,p);var y=e.constructor;if(y!==h.constructor)return!1;if(y===Object)return s(e,h,p);if(Mh(e))return t(e,h,p);if(null!=Dh&&Dh(e))return d(e,h,p);if(y===Date)return r(e,h,p);if(y===RegExp)return c(e,h,p);if(y===Map)return i(e,h,p);if(y===Set)return u(e,h,p);var g=Rh(e);return"[object Date]"===g?r(e,h,p):"[object RegExp]"===g?c(e,h,p):"[object Map]"===g?i(e,h,p):"[object Set]"===g?u(e,h,p):"[object Object]"===g?"function"!==typeof e.then&&"function"!==typeof h.then&&s(e,h,p):"[object URL]"===g?f(e,h,p):"[object Error]"===g?n(e,h,p):"[object Arguments]"===g?s(e,h,p):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&l(e,h,p)}}(l),u=a?a(c):(t=c,function(e,r,n,a,i,o,s){return t(e,r,s)});return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(e,o){var s=n(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return r(e,o,{cache:c,equals:a,meta:u,strict:i})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return r(e,t,o)}}({circular:n,comparator:c,createState:i,equals:u,strict:s})}function zh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame((function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)}))}function Uh(e){return Uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(e)}function Bh(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vh(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=Bh(n),i=a[0],o=a.slice(1);return"number"===typeof i?void zh(r.bind(null,o),i):(r(i),void zh(r.bind(null,o)))}"object"===Uh(n)&&e(n),"function"===typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Wh(e){return Wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(e)}function Hh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hh(Object(r),!0).forEach((function(t){Zh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Wh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Wh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kh=function(e){return e},$h=function(e,t){return Object.keys(t).reduce((function(r,n){return Gh(Gh({},r),{},Zh({},n,e(n,t[n])))}),{})},Yh=function(e,t,r){return e.map((function(e){return"".concat((n=e,n.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(r);var n})).join(",")};function Qh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||Jh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xh(e){return function(e){if(Array.isArray(e))return ep(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jh(e,t){if(e){if("string"===typeof e)return ep(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ep(e,t):void 0}}function ep(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tp=1e-4,rp=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},np=function(e,t){return e.map((function(e,r){return e*Math.pow(t,r)})).reduce((function(e,t){return e+t}))},ap=function(e,t){return function(r){var n=rp(e,t);return np(n,r)}},ip=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],i=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,i=1,o=1;break;case"ease":n=.25,a=.1,i=.25,o=1;break;case"ease-in":n=.42,a=0,i=1,o=1;break;case"ease-out":n=.42,a=0,i=.58,o=1;break;case"ease-in-out":n=0,a=0,i=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=Qh(l,4);n=c[0],a=c[1],i=c[2],o=c[3]}}[n,i,a,o].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var u,d,f=ap(n,i),h=ap(a,o),p=(u=n,d=i,function(e){var t=rp(u,d),r=[].concat(Xh(t.map((function(e,t){return e*t})).slice(1)),[0]);return np(r,e)}),m=function(e){return e>1?1:e<0?0:e},y=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=f(r)-t,i=p(r);if(Math.abs(a-t)<tp||i<tp)return h(r);r=m(r-a/i)}return h(r)};return y.isStepper=!1,y},op=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"===typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ip(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,i=e.dt,o=void 0===i?17:i,s=function(e,t,n){var i=n+(-(e-t)*r-n*a)*o/1e3,s=n*o/1e3+e;return Math.abs(s-t)<tp&&Math.abs(i)<tp?[t,0]:[s,i]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===n.split("(")[0])return ip(n)}return"function"===typeof n?n:null};function sp(e){return sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(e)}function lp(e){return function(e){if(Array.isArray(e))return pp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||hp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cp(Object(r),!0).forEach((function(t){dp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==sp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==sp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===sp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||hp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hp(e,t){if(e){if("string"===typeof e)return pp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pp(e,t):void 0}}function pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mp=function(e,t,r){return e+(t-e)*r},yp=function(e){return e.from!==e.to},gp=function e(t,r,n){var a=$h((function(e,r){if(yp(r)){var n=fp(t(r.from,r.to,r.velocity),2),a=n[0],i=n[1];return up(up({},r),{},{from:a,velocity:i})}return r}),r);return n<1?$h((function(e,t){return yp(t)?up(up({},t),{},{velocity:mp(t.velocity,a[e].velocity,n),from:mp(t.from,a[e].from,n)}):t}),r):e(t,a,n-1)};const vp=function(e,t,r,n,a){var i,o,s,l,c=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(r,n){return up(up({},r),{},dp({},n,[e[n],t[n]]))}),{}),d=c.reduce((function(r,n){return up(up({},r),{},dp({},n,{from:e[n],velocity:0,to:t[n]}))}),{}),f=-1,h=function(){return null};return h=r.isStepper?function(n){s||(s=n);var i=(n-s)/r.dt;d=gp(r,d,i),a(up(up(up({},e),t),$h((function(e,t){return t.from}),d))),s=n,Object.values(d).filter(yp).length&&(f=requestAnimationFrame(h))}:function(i){l||(l=i);var o=(i-l)/n,s=$h((function(e,t){return mp.apply(void 0,lp(t).concat([r(o)]))}),u);if(a(up(up(up({},e),t),s)),o<1)f=requestAnimationFrame(h);else{var c=$h((function(e,t){return mp.apply(void 0,lp(t).concat([r(1)]))}),u);a(up(up(up({},e),t),c))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(f)}}};function bp(e){return bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(e)}var xp=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wp(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jp(e){return function(e){if(Array.isArray(e))return _p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return _p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kp(Object(r),!0).forEach((function(t){Op(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Op(e,t,r){return(t=Ep(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Np(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ep(n.key),n)}}function Ep(e){var t=function(e,t){if("object"!==bp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==bp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bp(t)?t:String(t)}function Pp(e,t){return Pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pp(e,t)}function Ap(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Le){return!1}}();return function(){var r,n=Mp(e);if(t){var a=Mp(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Tp(this,r)}}function Tp(e,t){if(t&&("object"===bp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cp(e)}function Cp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mp(e)}var Dp=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pp(e,t)}(o,e);var t,r,a,i=Ap(o);function o(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(r=i.call(this,e,t)).props,a=n.isActive,s=n.attributeName,l=n.from,c=n.to,u=n.steps,d=n.children,f=n.duration;if(r.handleStyleChange=r.handleStyleChange.bind(Cp(r)),r.changeStyle=r.changeStyle.bind(Cp(r)),!a||f<=0)return r.state={style:{}},"function"===typeof d&&(r.state={style:c}),Tp(r);if(u&&u.length)r.state={style:u[0].style};else if(l){if("function"===typeof d)return r.state={style:l},Tp(r);r.state={style:s?Op({},s,l):l}}else r.state={style:{}};return r}return t=o,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(n)if(r){if(!(Lh(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?s:e.to;if(this.state&&l){var d={style:a?Op({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(Sp(Sp({},this.props),{},{from:u,begin:0}))}}else{var f={style:a?Op({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,i=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=vp(r,n,op(i),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,i=r[0],o=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([a].concat(jp(r.reduce((function(e,n,a){if(0===a)return e;var i=n.duration,o=n.easing,s=void 0===o?"ease":o,l=n.style,c=n.properties,u=n.onAnimationEnd,d=a>0?r[a-1]:n,f=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(jp(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:s}),i]);var h=Yh(f,i,s),p=Sp(Sp(Sp({},d.style),l),{},{transition:h});return[].concat(jp(e),[p,i,u]).filter(Kh)}),[o,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Vh());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,i=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=n?Op({},n,a):a,f=Yh(Object.keys(d),r,i);u.start([o,t,Sp(Sp({},d),{},{transition:f}),r,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,wp(e,xp)),o=n.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!a||0===o||r<=0)return t;var l=function(e){var t=e.props,r=t.style,a=void 0===r?{}:r,o=t.className;return(0,n.cloneElement)(e,Sp(Sp({},i),{},{style:Sp(Sp({},a),s),className:o}))};return 1===o?l(n.Children.only(t)):n.createElement("div",null,n.Children.map(t,(function(e){return l(e)})))}}])&&Np(t.prototype,r),a&&Np(t,a),Object.defineProperty(t,"prototype",{writable:!1}),o}(n.PureComponent);Dp.displayName="Animate",Dp.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Dp.propTypes={from:lh().oneOfType([lh().object,lh().string]),to:lh().oneOfType([lh().object,lh().string]),attributeName:lh().string,duration:lh().number,begin:lh().number,easing:lh().oneOfType([lh().string,lh().func]),steps:lh().arrayOf(lh().shape({duration:lh().number.isRequired,style:lh().object.isRequired,easing:lh().oneOfType([lh().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lh().func]),properties:lh().arrayOf("string"),onAnimationEnd:lh().func})),children:lh().oneOfType([lh().node,lh().func]),isActive:lh().bool,canBegin:lh().bool,onAnimationEnd:lh().func,shouldReAnimate:lh().bool,onAnimationStart:lh().func,onAnimationReStart:lh().func};const Ip=Dp;function Rp(e){return Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(e)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lp.apply(this,arguments)}function Fp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Up(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Up(Object(r),!0).forEach((function(t){qp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Up(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qp(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Rp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Rp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rp(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vp=function(e,t,r,n,a){var i,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+s*u[1])),i+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),i+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var f=Math.min(o,a);i="M ".concat(e,",").concat(t+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,"\n            L ").concat(e+r-l*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*f,"\n            L ").concat(e+r,",").concat(t+n-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r-l*f,",").concat(t+n,"\n            L ").concat(e+l*f,",").concat(t+n,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*f," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},Wp=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,i=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(i,i+s),d=Math.max(i,i+s);return r>=l&&r<=c&&n>=u&&n<=d}return!1},Hp={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gp=function(e){var t=Bp(Bp({},Hp),e),r=(0,n.useRef)(),a=Fp((0,n.useState)(-1),2),i=a[0],o=a[1];(0,n.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,f=t.className,h=t.animationEasing,p=t.animationDuration,m=t.animationBegin,y=t.isAnimationActive,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=bc("recharts-rectangle",f);return g?n.createElement(Ip,{canBegin:i>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:h,isActive:g},(function(e){var a=e.width,o=e.height,s=e.x,l=e.y;return n.createElement(Ip,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:y,easing:h},n.createElement("path",Lp({},gu(t,!0),{className:v,d:Vp(s,l,a,o,d),ref:r})))})):n.createElement("path",Lp({},gu(t,!0),{className:v,d:Vp(s,l,c,u,d)}))};function Zp(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Kp(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class $p extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jp;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(Yp(this,e))}has(e){return super.has(Yp(this,e))}set(e,t){return super.set(Qp(this,e),t)}delete(e){return super.delete(Xp(this,e))}}Set;function Yp(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function Qp(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function Xp(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function Jp(e){return null!==e&&"object"===typeof e?e.valueOf():e}const em=Symbol("implicit");function tm(){var e=new $p,t=[],r=[],n=em;function a(a){let i=e.get(a);if(void 0===i){if(n!==em)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new $p;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return tm(t,r).unknown(n)},Zp.apply(a,arguments),a}function rm(){var e,t,r=tm().unknown(void 0),n=r.domain,a=r.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=o<i,f=d?o:i,h=d?i:o;e=(h-f)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),f+=(h-f-e*(r-l))*u,t=e*(1-l),s&&(f=Math.round(f),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map((function(t){return f+e*t}));return a(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},r.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return rm(n(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},Zp.apply(d(),arguments)}function nm(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nm(t())},e}function am(){return nm(rm.apply(null,arguments).paddingInner(1))}function im(e){return im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(e)}function om(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?om(Object(r),!0).forEach((function(t){lm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):om(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lm(e,t,r){return t=function(e){var t=function(e,t){if("object"!=im(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=im(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==im(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cm={widthCache:{},cacheCount:0},um={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dm="recharts_measurement_span";var fm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||pd.isSsr)return{width:0,height:0};var r=function(e){var t=sm({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),n=JSON.stringify({text:e,copyStyle:r});if(cm.widthCache[n])return cm.widthCache[n];try{var a=document.getElementById(dm);a||((a=document.createElement("span")).setAttribute("id",dm),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=sm(sm({},um),r);Object.assign(a.style,i),a.textContent="".concat(e);var o=a.getBoundingClientRect(),s={width:o.width,height:o.height};return cm.widthCache[n]=s,++cm.cacheCount>2e3&&(cm.cacheCount=0,cm.widthCache={}),s}catch(Le){return{width:0,height:0}}};function hm(e){return hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(e)}function pm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return mm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ym(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gm(n.key),n)}}function gm(e){var t=function(e,t){if("object"!=hm(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=hm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hm(t)?t:t+""}var vm=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bm=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xm=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wm=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jm={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},_m=Object.keys(jm),km="NaN";var Sm=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||xm.test(r)||(this.num=NaN,this.unit=""),_m.includes(r)&&(this.num=function(e,t){return e*jm[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=pm(null!==(r=wm.exec(t))&&void 0!==r?r:[],3),a=n[1],i=n[2];return new e(parseFloat(a),null!==i&&void 0!==i?i:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&ym(t.prototype,r),n&&ym(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function Om(e){if(e.includes(km))return km;for(var t=e;t.includes("*")||t.includes("/");){var r,n=pm(null!==(r=vm.exec(t))&&void 0!==r?r:[],4),a=n[1],i=n[2],o=n[3],s=Sm.parse(null!==a&&void 0!==a?a:""),l=Sm.parse(null!==o&&void 0!==o?o:""),c="*"===i?s.multiply(l):s.divide(l);if(c.isNaN())return km;t=t.replace(vm,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=pm(null!==(u=bm.exec(t))&&void 0!==u?u:[],4),f=d[1],h=d[2],p=d[3],m=Sm.parse(null!==f&&void 0!==f?f:""),y=Sm.parse(null!==p&&void 0!==p?p:""),g="+"===h?m.add(y):m.subtract(y);if(g.isNaN())return km;t=t.replace(bm,g.toString())}return t}var Nm=/\(([^()]*)\)/;function Em(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=pm(Nm.exec(t),2)[1];t=t.replace(Nm,Om(r))}return t}(t),t=Om(t)}function Pm(e){var t=function(e){try{return Em(e)}catch(Le){return km}}(e.slice(5,-1));return t===km?"":t}var Am=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Tm=["dx","dy","angle","className","breakAll"];function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cm.apply(this,arguments)}function Mm(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Im(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Im(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Im(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rm=/[ \f\n\r\t\v\u2028\u2029]+/,Lm=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return Vc()(t)||(a=r?t.toString().split(""):t.toString().split(Rm)),{wordsWithComputedWidth:a.map((function(e){return{word:e,width:fm(e,n).width}})),spaceWidth:r?0:fm("\xa0",n).width}}catch(Le){return null}},Fm=function(e){return[{words:Vc()(e)?[]:e.toString().split(Rm)}]},zm=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||r)&&!pd.isSsr){var s=Lm({breakAll:i,children:n,style:a});return s?function(e,t,r,n,a){var i=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=Cc(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var i=t.word,o=t.width,s=e[e.length-1];if(s&&(null==n||a||s.width+o+r<Number(n)))s.words.push(i),s.width+=o+r;else{var l={words:[i],width:o};e.push(l)}return e}),[])},f=d(t);if(!c)return f;for(var h,p=function(e){var t=u.slice(0,e),r=Lm({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,a=d(r),o=a.length>i||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(a).width>Number(n);return[o,a]},m=0,y=u.length-1,g=0;m<=y&&g<=u.length-1;){var v=Math.floor((m+y)/2),b=Dm(p(v-1),2),x=b[0],w=b[1],j=Dm(p(v),1)[0];if(x||j||(m=v+1),x&&j&&(y=v-1),!x&&j){h=w;break}g++}return h||f}({breakAll:i,children:n,maxLines:o,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,r):Fm(n)}return Fm(n)},Um="#808080",Bm=function(e){var t=e.x,r=void 0===t?0:t,a=e.y,i=void 0===a?0:a,o=e.lineHeight,s=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,f=e.textAnchor,h=void 0===f?"start":f,p=e.verticalAnchor,m=void 0===p?"end":p,y=e.fill,g=void 0===y?Um:y,v=Mm(e,Am),b=(0,n.useMemo)((function(){return zm({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),x=v.dx,w=v.dy,j=v.angle,_=v.className,k=v.breakAll,S=Mm(v,Tm);if(!Mc(r)||!Mc(i))return null;var O,N=r+(Cc(x)?x:0),E=i+(Cc(w)?w:0);switch(m){case"start":O=Pm("calc(".concat(c,")"));break;case"middle":O=Pm("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:O=Pm("calc(".concat(b.length-1," * -").concat(s,")"))}var P=[];if(d){var A=b[0].width,T=v.width;P.push("scale(".concat((Cc(T)?T/A:1)/A,")"))}return j&&P.push("rotate(".concat(j,", ").concat(N,", ").concat(E,")")),P.length&&(S.transform=P.join(" ")),n.createElement("text",Cm({},gu(S,!0),{x:N,y:E,className:bc("recharts-text",_),textAnchor:h,fill:g.includes("url")?Um:g}),b.map((function(e,t){var r=e.words.join(k?"":" ");return n.createElement("tspan",{x:N,dy:0===t?O:s,key:"".concat(r,"-").concat(t)},r)})))};const qm=Math.sqrt(50),Vm=Math.sqrt(10),Wm=Math.sqrt(2);function Hm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=qm?10:i>=Vm?5:i>=Wm?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Hm(e,t,2*r):[s,l,c]}function Gm(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,o]=n?Hm(t,e,r):Hm(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Zm(e,t,r){return Hm(e=+e,t=+t,r=+r)[2]}function Km(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?Zm(t,e,r):Zm(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function $m(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ym(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qm(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=$m,r=(t,r)=>$m(e(t),r),n=(t,r)=>e(t)-r):(t=e===$m||e===Ym?e:Xm,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function Xm(){return 0}function Jm(e){return null===e?NaN:+e}const ey=Qm($m),ty=ey.right,ry=(ey.left,Qm(Jm).center,ty);function ny(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ay(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function iy(){}var oy=.7,sy=1/oy,ly="\\s*([+-]?\\d+)\\s*",cy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dy=/^#([0-9a-f]{3,8})$/,fy=new RegExp("^rgb\\(".concat(ly,",").concat(ly,",").concat(ly,"\\)$")),hy=new RegExp("^rgb\\(".concat(uy,",").concat(uy,",").concat(uy,"\\)$")),py=new RegExp("^rgba\\(".concat(ly,",").concat(ly,",").concat(ly,",").concat(cy,"\\)$")),my=new RegExp("^rgba\\(".concat(uy,",").concat(uy,",").concat(uy,",").concat(cy,"\\)$")),yy=new RegExp("^hsl\\(".concat(cy,",").concat(uy,",").concat(uy,"\\)$")),gy=new RegExp("^hsla\\(".concat(cy,",").concat(uy,",").concat(uy,",").concat(cy,"\\)$")),vy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function by(){return this.rgb().formatHex()}function xy(){return this.rgb().formatRgb()}function wy(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=dy.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?jy(t):3===r?new Sy(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?_y(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?_y(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=fy.exec(e))?new Sy(t[1],t[2],t[3],1):(t=hy.exec(e))?new Sy(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=py.exec(e))?_y(t[1],t[2],t[3],t[4]):(t=my.exec(e))?_y(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=yy.exec(e))?Ty(t[1],t[2]/100,t[3]/100,1):(t=gy.exec(e))?Ty(t[1],t[2]/100,t[3]/100,t[4]):vy.hasOwnProperty(e)?jy(vy[e]):"transparent"===e?new Sy(NaN,NaN,NaN,0):null}function jy(e){return new Sy(e>>16&255,e>>8&255,255&e,1)}function _y(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sy(e,t,r,n)}function ky(e,t,r,n){return 1===arguments.length?function(e){return e instanceof iy||(e=wy(e)),e?new Sy((e=e.rgb()).r,e.g,e.b,e.opacity):new Sy}(e):new Sy(e,t,r,null==n?1:n)}function Sy(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Oy(){return"#".concat(Ay(this.r)).concat(Ay(this.g)).concat(Ay(this.b))}function Ny(){const e=Ey(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Py(this.r),", ").concat(Py(this.g),", ").concat(Py(this.b)).concat(1===e?")":", ".concat(e,")"))}function Ey(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Py(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ay(e){return((e=Py(e))<16?"0":"")+e.toString(16)}function Ty(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new My(e,t,r,n)}function Cy(e){if(e instanceof My)return new My(e.h,e.s,e.l,e.opacity);if(e instanceof iy||(e=wy(e)),!e)return new My;if(e instanceof My)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(r-n)/s+6*(r<n):r===i?(n-t)/s+2:(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new My(o,s,l,e.opacity)}function My(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Dy(e){return(e=(e||0)%360)<0?e+360:e}function Iy(e){return Math.max(0,Math.min(1,e||0))}function Ry(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function Ly(e,t,r,n,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*r+(1+3*e+3*i-3*o)*n+o*a)/6}ny(iy,wy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:by,formatHex:by,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Cy(this).formatHsl()},formatRgb:xy,toString:xy}),ny(Sy,ky,ay(iy,{brighter(e){return e=null==e?sy:Math.pow(sy,e),new Sy(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?oy:Math.pow(oy,e),new Sy(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sy(Py(this.r),Py(this.g),Py(this.b),Ey(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Oy,formatHex:Oy,formatHex8:function(){return"#".concat(Ay(this.r)).concat(Ay(this.g)).concat(Ay(this.b)).concat(Ay(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Ny,toString:Ny})),ny(My,(function(e,t,r,n){return 1===arguments.length?Cy(e):new My(e,t,r,null==n?1:n)}),ay(iy,{brighter(e){return e=null==e?sy:Math.pow(sy,e),new My(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?oy:Math.pow(oy,e),new My(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Sy(Ry(e>=240?e-240:e+120,a,n),Ry(e,a,n),Ry(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new My(Dy(this.h),Iy(this.s),Iy(this.l),Ey(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ey(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Dy(this.h),", ").concat(100*Iy(this.s),"%, ").concat(100*Iy(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Fy=e=>()=>e;function zy(e,t){return function(r){return e+r*t}}function Uy(e){return 1===(e=+e)?By:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):Fy(isNaN(t)?r:t)}}function By(e,t){var r=t-e;return r?zy(e,r):Fy(isNaN(e)?t:e)}const qy=function e(t){var r=Uy(t);function n(e,t){var n=r((e=ky(e)).r,(t=ky(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),o=By(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function Vy(e){return function(t){var r,n,a=t.length,i=new Array(a),o=new Array(a),s=new Array(a);for(r=0;r<a;++r)n=ky(t[r]),i[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return i=e(i),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=i(e),n.g=o(e),n.b=s(e),n+""}}}Vy((function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],o=n>0?e[n-1]:2*a-i,s=n<t-1?e[n+2]:2*i-a;return Ly((r-n/t)*t,o,a,i,s)}})),Vy((function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],i=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return Ly((r-n/t)*t,a,i,o,s)}}));function Wy(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),o=new Array(n);for(r=0;r<a;++r)i[r]=Xy(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<a;++r)o[r]=i[r](e);return o}}function Hy(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Zy(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=Xy(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var Ky=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$y=new RegExp(Ky.source,"g");function Yy(e,t){var r,n,a,i=Ky.lastIndex=$y.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=Ky.exec(e))&&(n=$y.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:Gy(r,n)})),i=$y.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function Qy(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function Xy(e,t){var r,n=typeof t;return null==t||"boolean"===n?Fy(t):("number"===n?Gy:"string"===n?(r=wy(t))?(t=r,qy):Yy:t instanceof wy?qy:t instanceof Date?Hy:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Qy:Array.isArray(t)?Wy:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Zy:Gy)(e,t)}function Jy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function eg(e){return+e}var tg=[0,1];function rg(e){return e}function ng(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function ag(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=ng(a,n),i=r(o,i)):(n=ng(n,a),i=r(i,o)),function(e){return i(n(e))}}function ig(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ng(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(t){var r=ry(e,t,1,n)-1;return i[r](a[r](t))}}function og(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sg(){var e,t,r,n,a,i,o=tg,s=tg,l=Xy,c=rg;function u(){var e=Math.min(o.length,s.length);return c!==rg&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(o[0],o[e-1])),n=e>2?ig:ag,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(o.map(e),s,l)))(e(c(t)))}return d.invert=function(r){return c(t((i||(i=n(s,o.map(e),Gy)))(r)))},d.domain=function(e){return arguments.length?(o=Array.from(e,eg),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Jy,u()},d.clamp=function(e){return arguments.length?(c=!!e||rg,u()):c!==rg},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function lg(){return sg()(rg,rg)}var cg,ug=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dg(e){if(!(t=ug.exec(e)))throw new Error("invalid format: "+e);var t;return new fg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function fg(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function hg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function pg(e){return(e=hg(Math.abs(e)))?e[1]:NaN}function mg(e,t){var r=hg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}dg.prototype=fg.prototype,fg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const yg={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mg(100*e,t),r:mg,s:function(e,t){var r=hg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(cg=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+hg(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gg(e){return e}var vg,bg,xg,wg=Array.prototype.map,jg=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function _g(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?gg:(t=wg.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?gg:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(wg.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=dg(e)).fill,r=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,m=e.comma,y=e.precision,g=e.trim,v=e.type;"n"===v?(m=!0,v="g"):yg[v]||(void 0===y&&(y=12),g=!0,v="g"),(h||"0"===t&&"="===r)&&(h=!0,t="0",r="=");var b="$"===f?a:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===f?i:/[%p]/.test(v)?l:"",w=yg[v],j=/[defgprs%]/.test(v);function _(e){var a,i,l,f=b,_=x;if("c"===v)_=w(e)+_,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),y),g&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),f=(k?"("===d?d:c:"-"===d||"("===d?"":d)+f,_=("s"===v?jg[8+cg/3]:"")+_+(k&&"("===d?")":""),j)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){_=(46===l?o+e.slice(a+1):e.slice(a))+_,e=e.slice(0,a);break}}m&&!h&&(e=n(e,1/0));var S=f.length+e.length+_.length,O=S<p?new Array(p-S+1).join(t):"";switch(m&&h&&(e=n(O+e,O.length?p-_.length:1/0),O=""),r){case"<":e=f+e+_+O;break;case"=":e=f+O+e+_;break;case"^":e=O.slice(0,S=O.length>>1)+f+e+_+O.slice(S);break;default:e=O+f+e+_}return s(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),_.toString=function(){return e+""},_}return{format:d,formatPrefix:function(e,t){var r=d(((e=dg(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(pg(t)/3))),a=Math.pow(10,-n),i=jg[8+n/3];return function(e){return r(a*e)+i}}}}function kg(e,t,r,n){var a,i=Km(e,t,r);switch((n=dg(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(pg(t)/3)))-pg(Math.abs(e)))}(i,o))||(n.precision=a),xg(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pg(t)-pg(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-pg(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return bg(n)}function Sg(e){var t=e.domain;return e.ticks=function(e){var r=t();return Gm(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return kg(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=Zm(l,c,r))===n)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function Og(){var e=lg();return e.copy=function(){return og(e,Og())},Zp.apply(e,arguments),Sg(e)}function Ng(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,eg),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return Ng(e).unknown(t)},e=arguments.length?Array.from(e,eg):[0,1],Sg(r)}function Eg(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],o=e[a];return o<i&&(r=n,n=a,a=r,r=i,i=o,o=r),e[n]=t.floor(i),e[a]=t.ceil(o),e}function Pg(e){return Math.log(e)}function Ag(e){return Math.exp(e)}function Tg(e){return-Math.log(-e)}function Cg(e){return-Math.exp(-e)}function Mg(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Dg(e){return(t,r)=>-e(-t,r)}function Ig(e){const t=e(Pg,Ag),r=t.domain;let n,a,i=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?Mg:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=Dg(n),a=Dg(a),e(Tg,Cg)):e(Pg,Ag),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(r(e),o()):r()},t.ticks=e=>{const t=r();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=n(o),f=n(s);const h=null==e?10:+e;let p=[];if(!(i%1)&&f-d<h){if(d=Math.floor(d),f=Math.ceil(f),o>0){for(;d<=f;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=f;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<h&&(p=Gm(o,s,h))}else p=Gm(d,f,Math.min(f-d,h)).map(a);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!==typeof r&&(i%1||null!=(r=dg(r)).precision||(r.trim=!0),r=bg(r)),e===1/0)return r;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=o?r(e):""}},t.nice=()=>r(Eg(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function Rg(){const e=Ig(sg()).domain([1,10]);return e.copy=()=>og(e,Rg()).base(e.base()),Zp.apply(e,arguments),e}function Lg(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Fg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zg(e){var t=1,r=e(Lg(t),Fg(t));return r.constant=function(r){return arguments.length?e(Lg(t=+r),Fg(t)):t},Sg(r)}function Ug(){var e=zg(sg());return e.copy=function(){return og(e,Ug()).constant(e.constant())},Zp.apply(e,arguments)}function Bg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qg(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Vg(e){return e<0?-e*e:e*e}function Wg(e){var t=e(rg,rg),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(rg,rg):.5===r?e(qg,Vg):e(Bg(r),Bg(1/r)):r},Sg(t)}function Hg(){var e=Wg(sg());return e.copy=function(){return og(e,Hg()).exponent(e.exponent())},Zp.apply(e,arguments),e}function Gg(){return Hg.apply(null,arguments).exponent(.5)}function Zg(e){return Math.sign(e)*e*e}function Kg(){var e,t=lg(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(Zg(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,eg)).map(Zg)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Kg(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},Zp.apply(a,arguments),Sg(a)}function $g(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function Yg(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function Qg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$m;if(e===$m)return Xg;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function Xg(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Jg(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?Xg:Qg(a);n>r;){if(n-r>600){const i=n-r+1,o=t-r+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);Jg(e,t,Math.max(r,Math.floor(t-o*l/i+c)),Math.min(n,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=r,s=n;for(ev(e,r,t),a(e[n],i)>0&&ev(e,r,n);o<s;){for(ev(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[r],i)?ev(e,r,s):(++s,ev(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function ev(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function tv(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return Yg(e);if(t>=1)return $g(e);var n,a=(n-1)*t,i=Math.floor(a),o=$g(Jg(e,i).subarray(0,i+1));return o+(Yg(e.subarray(i+1))-o)*(a-i)}}function rv(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jm;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e);return o+(+r(e[i+1],i+1,e)-o)*(a-i)}}function nv(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=rv(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:r[ry(n,t)]}return i.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort($m),a()},i.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return n.slice()},i.copy=function(){return nv().domain(t).range(r).unknown(e)},Zp.apply(i,arguments)}function av(){var e,t=0,r=1,n=1,a=[.5],i=[0,1];function o(t){return null!=t&&t<=t?i[ry(a,t,0,n)]:e}function s(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return o}return o.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,s()):[t,r]},o.range=function(e){return arguments.length?(n=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=n?[a[n-1],r]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return av().domain([t,r]).range(i).unknown(e)},Zp.apply(Sg(o),arguments)}function iv(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[ry(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return iv().domain(t).range(r).unknown(e)},Zp.apply(a,arguments)}vg=_g({thousands:",",grouping:[3],currency:["$",""]}),bg=vg.format,xg=vg.formatPrefix;const ov=1e3,sv=6e4,lv=36e5,cv=864e5,uv=6048e5,dv=2592e6,fv=31536e6,hv=new Date,pv=new Date;function mv(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const o=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n)||!(i>0))return o;let s;do{o.push(s=new Date(+r)),t(r,i),e(r)}while(s<r&&r<n);return o},a.filter=r=>mv((t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})),r&&(a.count=(t,n)=>(hv.setTime(+t),pv.setTime(+n),e(hv),e(pv),Math.floor(r(hv,pv))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const yv=mv((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));yv.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?mv((t=>{t.setTime(Math.floor(t/e)*e)}),((t,r)=>{t.setTime(+t+r*e)}),((t,r)=>(r-t)/e)):yv:null);yv.range;const gv=mv((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*ov)}),((e,t)=>(t-e)/ov),(e=>e.getUTCSeconds())),vv=(gv.range,mv((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ov)}),((e,t)=>{e.setTime(+e+t*sv)}),((e,t)=>(t-e)/sv),(e=>e.getMinutes()))),bv=(vv.range,mv((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*sv)}),((e,t)=>(t-e)/sv),(e=>e.getUTCMinutes()))),xv=(bv.range,mv((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ov-e.getMinutes()*sv)}),((e,t)=>{e.setTime(+e+t*lv)}),((e,t)=>(t-e)/lv),(e=>e.getHours()))),wv=(xv.range,mv((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*lv)}),((e,t)=>(t-e)/lv),(e=>e.getUTCHours()))),jv=(wv.range,mv((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sv)/cv),(e=>e.getDate()-1))),_v=(jv.range,mv((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/cv),(e=>e.getUTCDate()-1))),kv=(_v.range,mv((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/cv),(e=>Math.floor(e/cv))));kv.range;function Sv(e){return mv((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sv)/uv))}const Ov=Sv(0),Nv=Sv(1),Ev=Sv(2),Pv=Sv(3),Av=Sv(4),Tv=Sv(5),Cv=Sv(6);Ov.range,Nv.range,Ev.range,Pv.range,Av.range,Tv.range,Cv.range;function Mv(e){return mv((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/uv))}const Dv=Mv(0),Iv=Mv(1),Rv=Mv(2),Lv=Mv(3),Fv=Mv(4),zv=Mv(5),Uv=Mv(6),Bv=(Dv.range,Iv.range,Rv.range,Lv.range,Fv.range,zv.range,Uv.range,mv((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),qv=(Bv.range,mv((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),Vv=(qv.range,mv((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));Vv.every=e=>isFinite(e=Math.floor(e))&&e>0?mv((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,r)=>{t.setFullYear(t.getFullYear()+r*e)})):null;Vv.range;const Wv=mv((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));Wv.every=e=>isFinite(e=Math.floor(e))&&e>0?mv((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null;Wv.range;function Hv(e,t,r,n,a,i){const o=[[gv,1,ov],[gv,5,5e3],[gv,15,15e3],[gv,30,3e4],[i,1,sv],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,lv],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,cv],[n,2,1728e5],[r,1,uv],[t,1,dv],[t,3,7776e6],[e,1,fv]];function s(t,r,n){const a=Math.abs(r-t)/n,i=Qm((e=>{let[,,t]=e;return t})).right(o,a);if(i===o.length)return e.every(Km(t/fv,r/fv,n));if(0===i)return yv.every(Math.max(Km(t,r,n),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:s(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},s]}const[Gv,Zv]=Hv(Wv,qv,Dv,kv,wv,bv),[Kv,$v]=Hv(Vv,Bv,Ov,jv,xv,vv);function Yv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xv(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var Jv,eb,tb,rb={"-":"",_:" ",0:"0"},nb=/^\s*\d+/,ab=/^%/,ib=/[\\^$*+?|[\]().{}]/g;function ob(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function sb(e){return e.replace(ib,"\\$&")}function lb(e){return new RegExp("^(?:"+e.map(sb).join("|")+")","i")}function cb(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function ub(e,t,r){var n=nb.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function db(e,t,r){var n=nb.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function fb(e,t,r){var n=nb.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function hb(e,t,r){var n=nb.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function pb(e,t,r){var n=nb.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function mb(e,t,r){var n=nb.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function yb(e,t,r){var n=nb.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gb(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function vb(e,t,r){var n=nb.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function bb(e,t,r){var n=nb.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function xb(e,t,r){var n=nb.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function wb(e,t,r){var n=nb.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function jb(e,t,r){var n=nb.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _b(e,t,r){var n=nb.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function kb(e,t,r){var n=nb.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Sb(e,t,r){var n=nb.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Ob(e,t,r){var n=nb.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Nb(e,t,r){var n=ab.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Eb(e,t,r){var n=nb.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Pb(e,t,r){var n=nb.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Ab(e,t){return ob(e.getDate(),t,2)}function Tb(e,t){return ob(e.getHours(),t,2)}function Cb(e,t){return ob(e.getHours()%12||12,t,2)}function Mb(e,t){return ob(1+jv.count(Vv(e),e),t,3)}function Db(e,t){return ob(e.getMilliseconds(),t,3)}function Ib(e,t){return Db(e,t)+"000"}function Rb(e,t){return ob(e.getMonth()+1,t,2)}function Lb(e,t){return ob(e.getMinutes(),t,2)}function Fb(e,t){return ob(e.getSeconds(),t,2)}function zb(e){var t=e.getDay();return 0===t?7:t}function Ub(e,t){return ob(Ov.count(Vv(e)-1,e),t,2)}function Bb(e){var t=e.getDay();return t>=4||0===t?Av(e):Av.ceil(e)}function qb(e,t){return e=Bb(e),ob(Av.count(Vv(e),e)+(4===Vv(e).getDay()),t,2)}function Vb(e){return e.getDay()}function Wb(e,t){return ob(Nv.count(Vv(e)-1,e),t,2)}function Hb(e,t){return ob(e.getFullYear()%100,t,2)}function Gb(e,t){return ob((e=Bb(e)).getFullYear()%100,t,2)}function Zb(e,t){return ob(e.getFullYear()%1e4,t,4)}function Kb(e,t){var r=e.getDay();return ob((e=r>=4||0===r?Av(e):Av.ceil(e)).getFullYear()%1e4,t,4)}function $b(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ob(t/60|0,"0",2)+ob(t%60,"0",2)}function Yb(e,t){return ob(e.getUTCDate(),t,2)}function Qb(e,t){return ob(e.getUTCHours(),t,2)}function Xb(e,t){return ob(e.getUTCHours()%12||12,t,2)}function Jb(e,t){return ob(1+_v.count(Wv(e),e),t,3)}function ex(e,t){return ob(e.getUTCMilliseconds(),t,3)}function tx(e,t){return ex(e,t)+"000"}function rx(e,t){return ob(e.getUTCMonth()+1,t,2)}function nx(e,t){return ob(e.getUTCMinutes(),t,2)}function ax(e,t){return ob(e.getUTCSeconds(),t,2)}function ix(e){var t=e.getUTCDay();return 0===t?7:t}function ox(e,t){return ob(Dv.count(Wv(e)-1,e),t,2)}function sx(e){var t=e.getUTCDay();return t>=4||0===t?Fv(e):Fv.ceil(e)}function lx(e,t){return e=sx(e),ob(Fv.count(Wv(e),e)+(4===Wv(e).getUTCDay()),t,2)}function cx(e){return e.getUTCDay()}function ux(e,t){return ob(Iv.count(Wv(e)-1,e),t,2)}function dx(e,t){return ob(e.getUTCFullYear()%100,t,2)}function fx(e,t){return ob((e=sx(e)).getUTCFullYear()%100,t,2)}function hx(e,t){return ob(e.getUTCFullYear()%1e4,t,4)}function px(e,t){var r=e.getUTCDay();return ob((e=r>=4||0===r?Fv(e):Fv.ceil(e)).getUTCFullYear()%1e4,t,4)}function mx(){return"+0000"}function yx(){return"%"}function gx(e){return+e}function vx(e){return Math.floor(+e/1e3)}function bx(e){return new Date(e)}function xx(e){return e instanceof Date?+e:+new Date(+e)}function wx(e,t,r,n,a,i,o,s,l,c){var u=lg(),d=u.invert,f=u.domain,h=c(".%L"),p=c(":%S"),m=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?h:s(e)<e?p:o(e)<e?m:i(e)<e?y:n(e)<e?a(e)<e?g:v:r(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,xx)):f().map(bx)},u.ticks=function(t){var r=f();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var r=f();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?f(Eg(r,e)):u},u.copy=function(){return og(u,wx(e,t,r,n,a,i,o,s,l,c))},u}function jx(){return Zp.apply(wx(Kv,$v,Vv,Bv,Ov,jv,xv,vv,gv,eb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _x(){return Zp.apply(wx(Gv,Zv,Wv,qv,Dv,_v,wv,bv,gv,tb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kx(){var e,t,r,n,a,i=0,o=1,s=rg,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=n(i=+i),t=n(o=+o),r=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Xy),c.rangeRound=u(Jy),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(o),r=e===t?0:1/(t-e),c}}function Sx(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ox(){var e=Sg(kx()(rg));return e.copy=function(){return Sx(e,Ox())},Kp.apply(e,arguments)}function Nx(){var e=Ig(kx()).domain([1,10]);return e.copy=function(){return Sx(e,Nx()).base(e.base())},Kp.apply(e,arguments)}function Ex(){var e=zg(kx());return e.copy=function(){return Sx(e,Ex()).constant(e.constant())},Kp.apply(e,arguments)}function Px(){var e=Wg(kx());return e.copy=function(){return Sx(e,Px()).exponent(e.exponent())},Kp.apply(e,arguments)}function Ax(){return Px.apply(null,arguments).exponent(.5)}function Tx(){var e=[],t=rg;function r(r){if(null!=r&&!isNaN(r=+r))return t((ry(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort($m),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map(((r,n)=>t(n/(e.length-1))))},r.quantiles=function(t){return Array.from({length:t+1},((r,n)=>tv(e,n/t)))},r.copy=function(){return Tx(t).domain(e)},Kp.apply(r,arguments)}function Cx(){var e,t,r,n,a,i,o,s=0,l=.5,c=1,u=1,d=rg,f=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?n:a),d(f?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=Xy);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}(e,[r,n,a]),h):[d(0),d(.5),d(1)]}}return h.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,h):[s,l,c]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=p(Xy),h.rangeRound=p(Jy),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return i=o,e=o(s),t=o(l),r=o(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,h}}function Mx(){var e=Sg(Cx()(rg));return e.copy=function(){return Sx(e,Mx())},Kp.apply(e,arguments)}function Dx(){var e=Ig(Cx()).domain([.1,1,10]);return e.copy=function(){return Sx(e,Dx()).base(e.base())},Kp.apply(e,arguments)}function Ix(){var e=zg(Cx());return e.copy=function(){return Sx(e,Ix()).constant(e.constant())},Kp.apply(e,arguments)}function Rx(){var e=Wg(Cx());return e.copy=function(){return Sx(e,Rx()).exponent(e.exponent())},Kp.apply(e,arguments)}function Lx(){return Rx.apply(null,arguments).exponent(.5)}function Fx(e,t){if((a=e.length)>1)for(var r,n,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(n=o,o=e[t[i]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}!function(e){Jv=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=lb(a),u=cb(a),d=lb(i),f=cb(i),h=lb(o),p=cb(o),m=lb(s),y=cb(s),g=lb(l),v=cb(l),b={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Ab,e:Ab,f:Ib,g:Gb,G:Kb,H:Tb,I:Cb,j:Mb,L:Db,m:Rb,M:Lb,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:gx,s:vx,S:Fb,u:zb,U:Ub,V:qb,w:Vb,W:Wb,x:null,X:null,y:Hb,Y:Zb,Z:$b,"%":yx},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Yb,e:Yb,f:tx,g:fx,G:px,H:Qb,I:Xb,j:Jb,L:ex,m:rx,M:nx,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:gx,s:vx,S:ax,u:ix,U:ox,V:lx,w:cx,W:ux,x:null,X:null,y:dx,Y:hx,Z:mx,"%":yx},w={a:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=f.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return k(e,t,r,n)},d:xb,e:xb,f:Ob,g:yb,G:mb,H:jb,I:jb,j:wb,L:Sb,m:bb,M:_b,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:vb,Q:Eb,s:Pb,S:kb,u:db,U:fb,V:hb,w:ub,W:pb,x:function(e,t,n){return k(e,r,t,n)},X:function(e,t,r){return k(e,n,t,r)},y:yb,Y:mb,Z:gb,"%":Nb};function j(e,t){return function(r){var n,a,i,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=rb[n=e.charAt(++s)])?n=e.charAt(++s):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function _(e,t){return function(r){var n,a,i=Xv(1900,void 0,1);if(k(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=Qv(Xv(i.y,0,1))).getUTCDay(),n=a>4||0===a?Iv.ceil(n):Iv(n),n=_v.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=Yv(Xv(i.y,0,1))).getDay(),n=a>4||0===a?Nv.ceil(n):Nv(n),n=jv.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Qv(Xv(i.y,0,1)).getUTCDay():Yv(Xv(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Qv(i)):Yv(i)}}function k(e,t,r,n){for(var a,i,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=w[a in rb?t.charAt(o++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),x.x=j(r,x),x.X=j(n,x),x.c=j(t,x),{format:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),eb=Jv.format,Jv.parse,tb=Jv.utcFormat,Jv.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function zx(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Ux(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Bx(e,t){return e[t]}function qx(e){const t=[];return t.key=e,t}var Vx=r(539),Wx=r.n(Vx),Hx=r(6745),Gx=r.n(Hx),Zx=r(3538),Kx=r.n(Zx),$x=r(9853),Yx=r.n($x),Qx=r(8210),Xx=r.n(Qx);function Jx(e){return function(e){if(Array.isArray(e))return ew(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ew(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ew(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tw=function(e){return e},rw={"@@functional/placeholder":!0},nw=function(e){return e===rw},aw=function(e){return function t(){return 0===arguments.length||1===arguments.length&&nw(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},iw=function e(t,r){return 1===t?r:aw((function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter((function(e){return e!==rw})).length;return o>=t?r.apply(void 0,a):e(t-o,aw((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=a.map((function(e){return nw(e)?t.shift():e}));return r.apply(void 0,Jx(i).concat(t))})))}))},ow=function(e){return iw(e.length,e)},sw=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},lw=ow((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),cw=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return tw;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce((function(e,t){return t(e)}),a.apply(void 0,arguments))}},uw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},dw=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((function(e,r){return e===t[r]}))?r:(t=a,r=e.apply(void 0,a))}};var fw=ow((function(e,t,r){var n=+e;return n+r*(+t-n)})),hw=ow((function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)})),pw=ow((function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))}));const mw={rangeStep:function(e,t,r){for(var n=new(Xx())(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(Xx())(e).abs().log(10).toNumber())+1},interpolateNumber:fw,uninterpolateNumber:hw,uninterpolateTruncation:pw};function yw(e){return function(e){if(Array.isArray(e))return bw(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||vw(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||vw(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vw(e,t){if(e){if("string"===typeof e)return bw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bw(e,t):void 0}}function bw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xw(e){var t=gw(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function ww(e,t,r){if(e.lte(0))return new(Xx())(0);var n=mw.getDigitCount(e.toNumber()),a=new(Xx())(10).pow(n),i=e.div(a),o=1!==n?.05:.1,s=new(Xx())(Math.ceil(i.div(o).toNumber())).add(r).mul(o).mul(a);return t?s:new(Xx())(Math.ceil(s))}function jw(e,t,r){var n=1,a=new(Xx())(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new(Xx())(10).pow(mw.getDigitCount(e)-1),a=new(Xx())(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new(Xx())(Math.floor(e)))}else 0===e?a=new(Xx())(Math.floor((t-1)/2)):r||(a=new(Xx())(Math.floor(e)));var o=Math.floor((t-1)/2),s=cw(lw((function(e){return a.add(new(Xx())(e-o).mul(n)).toNumber()})),sw);return s(0,t)}function _w(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(Xx())(0),tickMin:new(Xx())(0),tickMax:new(Xx())(0)};var i,o=ww(new(Xx())(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new(Xx())(0):(i=new(Xx())(e).add(t).div(2)).sub(new(Xx())(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new(Xx())(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?_w(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new(Xx())(s).mul(o)),tickMax:i.add(new(Xx())(l).mul(o))})}var kw=dw((function(e){var t=gw(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=gw(xw([r,n]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(yw(sw(0,a-1).map((function(){return 1/0})))):[].concat(yw(sw(0,a-1).map((function(){return-1/0}))),[c]);return r>n?uw(u):u}if(l===c)return jw(l,a,i);var d=_w(l,c,o,i),f=d.step,h=d.tickMin,p=d.tickMax,m=mw.rangeStep(h,p.add(new(Xx())(.1).mul(f)),f);return r>n?uw(m):m})),Sw=(dw((function(e){var t=gw(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=gw(xw([r,n]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,n];if(l===c)return jw(l,a,i);var u=ww(new(Xx())(c).sub(l).div(o-1),i,0),d=cw(lw((function(e){return new(Xx())(l).add(new(Xx())(e).mul(u)).toNumber()})),sw),f=d(0,o).filter((function(e){return e>=l&&e<=c}));return r>n?uw(f):f})),dw((function(e,t){var r=gw(e,2),n=r[0],a=r[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=gw(xw([n,a]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[n,a];if(s===l)return[s];var c=Math.max(t,2),u=ww(new(Xx())(l).sub(s).div(c-1),i,0),d=[].concat(yw(mw.rangeStep(new(Xx())(s),new(Xx())(l).sub(new(Xx())(.99).mul(u)),u)),[l]);return n>a?uw(d):d}))),Ow=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nw(e){return Nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nw(e)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(this,arguments)}function Pw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fw(n.key),n)}}function Mw(e,t,r){return t=Iw(t),function(e,t){if(t&&("object"===Nw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dw()?Reflect.construct(t,r||[],Iw(e).constructor):t.apply(e,r))}function Dw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dw=function(){return!!e})()}function Iw(e){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Iw(e)}function Rw(e,t){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rw(e,t)}function Lw(e,t,r){return(t=Fw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fw(e){var t=function(e,t){if("object"!=Nw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Nw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nw(t)?t:t+""}var zw=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mw(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rw(e,t)}(t,e),r=t,a=[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,a=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=Tw(e,Ow),d=gu(u,!1);"x"===this.props.direction&&"number"!==l.type&&Mu(!1);var f=o.map((function(e){var o=s(e,i),u=o.x,f=o.y,h=o.value,p=o.errorVal;if(!p)return null;var m,y,g=[];if(Array.isArray(p)){var v=Pw(p,2);m=v[0],y=v[1]}else m=y=p;if("vertical"===r){var b=l.scale,x=f+t,w=x+a,j=x-a,_=b(h-m),k=b(h+y);g.push({x1:k,y1:w,x2:k,y2:j}),g.push({x1:_,y1:x,x2:k,y2:x}),g.push({x1:_,y1:w,x2:_,y2:j})}else if("horizontal"===r){var S=c.scale,O=u+t,N=O-a,E=O+a,P=S(h-m),A=S(h+y);g.push({x1:N,y1:A,x2:E,y2:A}),g.push({x1:O,y1:P,x2:O,y2:A}),g.push({x1:N,y1:P,x2:E,y2:P})}return n.createElement(Bu,Ew({className:"recharts-errorBar",key:"bar-".concat(g.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),g.map((function(e){return n.createElement("line",Ew({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return n.createElement(Bu,{className:"recharts-errorBars"},f)}}],a&&Cw(r.prototype,a),i&&Cw(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);function Uw(e){return Uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uw(e)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bw(Object(r),!0).forEach((function(t){Vw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Uw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Uw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Uw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Lw(zw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Lw(zw,"displayName","ErrorBar");var Ww=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,i=hu(t,ah);if(!i)return null;var o,s=ah.defaultProps,l=void 0!==s?qw(qw({},s),i.props):{};return o=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(r||[]).reduce((function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map((function(e){return{type:i.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?qw(qw({},r),t.props):{},a=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||o||"square",color:Jw(t),value:i||a,payload:n}})),qw(qw(qw({},l),ah.getWithHeight(i,n)),{},{payload:o,item:i})};function Hw(e){return Hw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hw(e)}function Gw(e){return function(e){if(Array.isArray(e))return Zw(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Zw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kw(Object(r),!0).forEach((function(t){Yw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Hw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Hw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qw(e,t,r){return Vc()(e)||Vc()(t)?r:Mc(t)?Nc()(e,t,r):Hc()(t)?t(e):r}function Xw(e,t,r,n){var a=Kx()(e,(function(e){return Qw(e,t)}));if("number"===r){var i=a.filter((function(e){return Cc(e)||parseFloat(e)}));return i.length?[Gx()(i),Wx()(i)]:[1/0,-1/0]}return(n?a.filter((function(e){return!Vc()(e)})):a).map((function(e){return Mc(e)||e instanceof Date?e:""}))}var Jw=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?$w($w({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill;switch(n){case"Line":r=i;break;case"Area":case"Radar":r=i&&"none"!==i?i:o;break;default:r=o}return r},ej=function(e,t,r,n,a){var i=fu(t.props.children,zw).filter((function(e){return function(e,t,r){return!!Vc()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)}));if(i&&i.length){var o=i.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var n=Qw(t,r);if(Vc()(n))return e;var a=Array.isArray(n)?[Gx()(n),Wx()(n)]:[n,n],i=o.reduce((function(e,r){var n=Qw(t,r,0),i=a[0]-Math.abs(Array.isArray(n)?n[0]:n),o=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(i,e[0]),Math.max(o,e[1])]}),[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]}),[1/0,-1/0])}return null},tj=function(e,t,r,n,a){var i=t.map((function(t){var i=t.props.dataKey;return"number"===r&&i&&ej(e,t,i,n)||Xw(e,i,r,a)}));if("number"===r)return i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var o={};return i.reduce((function(e,t){for(var r=0,n=t.length;r<n;r++)o[t[r]]||(o[t[r]]=!0,e.push(t[r]));return e}),[])},rj=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},nj=function(e,t,r,n){if(n)return e.map((function(e){return e.coordinate}));var a,i,o=e.map((function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(i=!0),e.coordinate}));return a||o.push(t),i||o.push(r),o},aj=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,s="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===i&&n.bandwidth?n.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*Ac(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}})).filter((function(e){return!Sc()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}})):n.ticks&&!r?n.ticks(e.tickCount).map((function(e){return{coordinate:n(e)+l,value:e,offset:l}})):n.domain().map((function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}}))},ij=new WeakMap,oj=function(e,t){if("function"!==typeof t)return e;ij.has(e)||ij.set(e,new WeakMap);var r=ij.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},sj=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if("auto"===a)return"radial"===o&&"radiusAxis"===s?{scale:rm(),realScaleType:"band"}:"radial"===o&&"angleAxis"===s?{scale:Og(),realScaleType:"linear"}:"category"===i&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:am(),realScaleType:"point"}:"category"===i?{scale:rm(),realScaleType:"band"}:{scale:Og(),realScaleType:"linear"};if(_c()(a)){var l="scale".concat(Td()(a));return{scale:(e[l]||am)(),realScaleType:e[l]?l:"point"}}return Hc()(a)?{scale:a}:{scale:am(),realScaleType:"point"}},lj=1e-4,cj=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-lj,i=Math.max(n[0],n[1])+lj,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}},uj={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var s=Sc()(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,o=e[0].length;i<o;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}Fx(e,t)}},none:Fx,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;a[n][1]+=a[n][0]=-s/2}Fx(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,o=1;o<n;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,f=(d-(u[o-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=f*d}r[o-1][1]+=r[o-1][0]=i,l&&(i-=c/l)}r[o-1][1]+=r[o-1][0]=i,Fx(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Sc()(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},dj=function(e,t,r){var n=t.map((function(e){return e.props.dataKey})),a=uj[r],i=function(){var e=ef([]),t=Ux,r=Fx,n=Bx;function a(a){var i,o,s=Array.from(e.apply(this,arguments),qx),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+n(e,s[i].key,c,a)]).data=e;for(i=0,o=zx(t(s));i<l;++i)s[o[i]].index=i;return r(s,o),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:ef(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:ef(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?Ux:"function"===typeof e?e:ef(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?Fx:e,a):r},a}().keys(n).value((function(e,t){return+Qw(e,t,0)})).order(Ux).offset(a);return i(e)},fj=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,s=r||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===n&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=kw(l,a,o);return e.domain([Gx()(c),Wx()(c)]),{niceTicks:c}}if(a&&"number"===n){var u=e.domain();return{niceTicks:Sw(u,a,o)}}return null};function hj(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Vc()(a[t.dataKey])){var s=zc(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Qw(a,Vc()(o)?t.dataKey:o);return Vc()(l)?null:t.scale(l)}var pj=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return r[o]?r[o].coordinate+n:null;var s=Qw(i,t.dataKey,t.domain[o]);return Vc()(s)?null:t.scale(s)-a/2+n},mj=function(e,t,r){return Object.keys(e).reduce((function(n,a){var i=e[a].stackedData.reduce((function(e,n){var a=function(e){return e.reduce((function(e,t){return[Gx()(t.concat([e[0]]).filter(Cc)),Wx()(t.concat([e[1]]).filter(Cc))]}),[1/0,-1/0])}(n.slice(t,r+1));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]}),[1/0,-1/0]);return[Math.min(i[0],n[0]),Math.max(i[1],n[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},yj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vj=function(e,t,r){if(Hc()(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(Cc(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(yj.test(e[0])){var a=+yj.exec(e[0])[1];n[0]=t[0]-a}else Hc()(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(Cc(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(gj.test(e[1])){var i=+gj.exec(e[1])[1];n[1]=t[1]+i}else Hc()(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},bj=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Tu()(t,(function(e){return e.coordinate})),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},xj=function(e,t,r){return e&&e.length?Yx()(e,Nc()(r,"type.defaultProps.domain"))?t:e:t},wj=function(e,t){var r=e.type.defaultProps?$w($w({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,i=r.unit,o=r.formatter,s=r.tooltipType,l=r.chartType,c=r.hide;return $w($w({},gu(e,!1)),{},{dataKey:n,unit:i,formatter:o,name:a||n,color:Jw(e),value:Qw(t,n),type:s,payload:t,chartType:l,hide:c})};function jj(e){return jj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jj(e)}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_j(Object(r),!0).forEach((function(t){Sj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sj(e,t,r){return t=function(e){var t=function(e,t){if("object"!=jj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oj=["Webkit","Moz","O","ms"];function Nj(e){return Nj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nj(e)}function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ej.apply(this,arguments)}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Aj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pj(Object(r),!0).forEach((function(t){Rj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lj(n.key),n)}}function Cj(e,t,r){return t=Dj(t),function(e,t){if(t&&("object"===Nj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Mj()?Reflect.construct(t,r||[],Dj(e).constructor):t.apply(e,r))}function Mj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Mj=function(){return!!e})()}function Dj(e){return Dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dj(e)}function Ij(e,t){return Ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ij(e,t)}function Rj(e,t,r){return(t=Lj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lj(e){var t=function(e,t){if("object"!=Nj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Nj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nj(t)?t:t+""}var Fj=function(e){return e.changedTouches&&!!e.changedTouches.length},zj=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Rj(r=Cj(this,t,[e]),"handleDrag",(function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)})),Rj(r,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])})),Rj(r,"handleDragEnd",(function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,a=e.startIndex;null===n||void 0===n||n({endIndex:t,startIndex:a})})),r.detachDragEndListener()})),Rj(r,"handleLeaveWrapper",(function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))})),Rj(r,"handleEnterSlideOrTraveller",(function(){r.setState({isTextActive:!0})})),Rj(r,"handleLeaveSlideOrTraveller",(function(){r.setState({isTextActive:!1})})),Rj(r,"handleSlideDragStart",(function(e){var t=Fj(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()})),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ij(e,t)}(t,e),r=t,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var r=e.startX,n=e.endX,a=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(r,n),c=Math.max(r,n),u=t.getIndexInRange(a,l),d=t.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,i=Qw(r[e],a,e);return Hc()(n)?n(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,i=this.props,o=i.x,s=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,f=e.pageX-r;f>0?f=Math.min(f,o+s-l-a,o+s-l-n):f<0&&(f=Math.max(f,o-n,o-a));var h=this.getIndex({startX:n+f,endX:a+f});h.startIndex===c&&h.endIndex===u||!d||d(h),this.setState({startX:n+f,endX:a+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=Fj(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,i=t.startX,o=this.state[n],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,f=s.gap,h=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-r;m>0?m=Math.min(m,l+c-u-o):m<0&&(m=Math.max(m,l-o)),p[n]=o+m;var y=this.getIndex(p),g=y.startIndex,v=y.endIndex;this.setState(Rj(Rj({},n,o+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=h.length-1;return"startX"===n&&(a>i?g%f===0:v%f===0)||a<i&&v===e||"endX"===n&&(a>i?v%f===0:g%f===0)||a>i&&v===e}()&&d(y)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,i=n.startX,o=n.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=i||this.setState(Rj({},t,u),(function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,a=e.width,i=e.height,o=e.fill,s=e.stroke;return n.createElement("rect",{stroke:s,fill:o,x:t,y:r,width:a,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,a=e.width,i=e.height,o=e.data,s=e.children,l=e.padding,c=n.Children.only(s);return c?n.cloneElement(c,{x:t,y:r,width:a,height:i,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,r){var a,i,o=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,f=s.ariaLabel,h=s.data,p=s.startIndex,m=s.endIndex,y=Math.max(e,this.props.x),g=Aj(Aj({},gu(this.props,!1)),{},{x:y,y:l,width:c,height:u}),v=f||"Min value: ".concat(null===(a=h[p])||void 0===a?void 0:a.name,", Max value: ").concat(null===(i=h[m])||void 0===i?void 0:i.name);return n.createElement(Bu,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,g))}},{key:"renderSlide",value:function(e,t){var r=this.props,a=r.y,i=r.height,o=r.stroke,s=r.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return n.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:a,width:c,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,a=e.y,i=e.height,o=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return n.createElement(Bu,{className:"recharts-brush-texts"},n.createElement(Bm,Ej({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:a+i/2},d),this.getTextOfTick(t)),n.createElement(Bm,Ej({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+o+5,y:a+i/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,a=e.children,i=e.x,o=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,f=u.endX,h=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,y=u.isTravellerFocused;if(!t||!t.length||!Cc(i)||!Cc(o)||!Cc(s)||!Cc(l)||s<=0||l<=0)return null;var g=bc("recharts-brush",r),v=1===n.Children.count(a),b=function(e,t){if(!e)return null;var r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),n=Oj.reduce((function(e,n){return kj(kj({},e),{},Sj({},n+r,t))}),{});return n[e]=t,n}("userSelect","none");return n.createElement(Bu,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,f),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(f,"endX"),(h||p||m||y||c)&&this.renderText())}}],i=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,a=e.width,i=e.height,o=e.stroke,s=Math.floor(r+i/2)-1;return n.createElement(n.Fragment,null,n.createElement("rect",{x:t,y:r,width:a,height:i,fill:o,stroke:"none"}),n.createElement("line",{x1:t+1,y1:s,x2:t+a-1,y2:s,fill:"none",stroke:"#fff"}),n.createElement("line",{x1:t+1,y1:s+2,x2:t+a-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return n.isValidElement(e)?n.cloneElement(e,r):Hc()(e)?e(r):t.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,i=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(r!==t.prevData||o!==t.prevUpdateId)return Aj({prevData:r,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=am().domain(Pu()(0,s)).range([a,a+i-o]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+n-i]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:r,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],a&&Tj(r.prototype,a),i&&Tj(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);function Uj(e){return Uj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uj(e)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bj(Object(r),!0).forEach((function(t){Vj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vj(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Uj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Uj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Uj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Hj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Rj(zj,"displayName","Brush"),Rj(zj,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Gj=Math.PI/180,Zj=function(e){return 180*e/Math.PI},Kj=function(e,t,r,n){return{x:e+Math.cos(-Gj*n)*r,y:t+Math.sin(-Gj*n)*r}},$j=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},Yj=function(e,t){var r=e.x,n=e.y,a=t.cx,i=t.cy,o=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-i,2))}({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o};var s=(r-a)/o,l=Math.acos(s);return n>i&&(l=2*Math.PI-l),{radius:o,angle:Zj(l),angleInRadian:l}},Qj=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},Xj=function(e,t){var r=e.x,n=e.y,a=Yj({x:r,y:n},t),i=a.radius,o=a.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}}(t),d=u.startAngle,f=u.endAngle,h=o;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;c=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;c=h>=f&&h<=d}return c?qj(qj({},t),{},{radius:i,angle:Qj(h,t)}):null},Jj=function(e){return(0,n.isValidElement)(e)||Hc()(e)||"boolean"===typeof e?"":e.className};function e_(e){return e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e_(e)}var t_=["offset"];function r_(e){return function(e){if(Array.isArray(e))return n_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return n_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a_(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i_(Object(r),!0).forEach((function(t){s_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s_(e,t,r){return t=function(e){var t=function(e,t){if("object"!=e_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=e_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l_.apply(this,arguments)}var c_=function(e,t,r){var a,i,o=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,f=u.cy,h=u.innerRadius,p=u.outerRadius,m=u.startAngle,y=u.endAngle,g=u.clockWise,v=(h+p)/2,b=function(e,t){return Ac(t-e)*Math.min(Math.abs(t-e),360)}(m,y),x=b>=0?1:-1;"insideStart"===o?(a=m+x*l,i=g):"insideEnd"===o?(a=y-x*l,i=!g):"end"===o&&(a=y+x*l,i=g),i=b<=0?i:!i;var w=Kj(d,f,v,a),j=Kj(d,f,v,a+359*(i?1:-1)),_="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(i?0:1,",\n    ").concat(j.x,",").concat(j.y),k=Vc()(e.id)?Ic("recharts-radial-line-"):e.id;return n.createElement("text",l_({},r,{dominantBaseline:"central",className:bc("recharts-radial-bar-label",c)}),n.createElement("defs",null,n.createElement("path",{id:k,d:_})),n.createElement("textPath",{xlinkHref:"#".concat(k)},t))};function u_(e){var t,r=e.offset,a=o_({offset:void 0===r?5:r},a_(e,t_)),i=a.viewBox,o=a.position,s=a.value,l=a.children,c=a.content,u=a.className,d=void 0===u?"":u,f=a.textBreakAll;if(!i||Vc()(s)&&Vc()(l)&&!(0,n.isValidElement)(c)&&!Hc()(c))return null;if((0,n.isValidElement)(c))return(0,n.cloneElement)(c,a);if(Hc()(c)){if(t=(0,n.createElement)(c,a),(0,n.isValidElement)(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=Vc()(e.children)?t:e.children;return Hc()(r)?r(n):n}(a);var h=function(e){return"cx"in e&&Cc(e.cx)}(i),p=gu(a,!0);if(h&&("insideStart"===o||"insideEnd"===o||"end"===o))return c_(a,t,p);var m=h?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,i=a.cx,o=a.cy,s=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var u=Kj(i,o,l+r,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var f=Kj(i,o,(s+l)/2,c);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,i=t,o=i.x,s=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",p=l>=0?1:-1,m=p*n,y=p>0?"end":"start",g=p>0?"start":"end";if("top"===a)return o_(o_({},{x:o+l/2,y:s-u*n,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===a)return o_(o_({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(r.y+r.height-(s+c),0),width:l}:{});if("left"===a){var v={x:o-m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return o_(o_({},v),r?{width:Math.max(v.x-r.x,0),height:c}:{})}if("right"===a){var b={x:o+l+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return o_(o_({},b),r?{width:Math.max(r.x+r.width-b.x,0),height:c}:{})}var x=r?{width:l,height:c}:{};return"insideLeft"===a?o_({x:o+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideRight"===a?o_({x:o+l-m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},x):"insideTop"===a?o_({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:h},x):"insideBottom"===a?o_({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:f},x):"insideTopLeft"===a?o_({x:o+m,y:s+d,textAnchor:g,verticalAnchor:h},x):"insideTopRight"===a?o_({x:o+l-m,y:s+d,textAnchor:y,verticalAnchor:h},x):"insideBottomLeft"===a?o_({x:o+m,y:s+c-d,textAnchor:g,verticalAnchor:f},x):"insideBottomRight"===a?o_({x:o+l-m,y:s+c-d,textAnchor:y,verticalAnchor:f},x):Zc()(a)&&(Cc(a.x)||Tc(a.x))&&(Cc(a.y)||Tc(a.y))?o_({x:o+Rc(a.x,l),y:s+Rc(a.y,c),textAnchor:"end",verticalAnchor:"end"},x):o_({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(a);return n.createElement(Bm,l_({className:bc("recharts-label",d)},p,m,{breakAll:f}),t)}u_.displayName="Label";var d_=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,f=e.top,h=e.left,p=e.width,m=e.height,y=e.clockWise,g=e.labelViewBox;if(g)return g;if(Cc(p)&&Cc(m)){if(Cc(u)&&Cc(d))return{x:u,y:d,width:p,height:m};if(Cc(f)&&Cc(h))return{x:f,y:h,width:p,height:m}}return Cc(u)&&Cc(d)?{x:u,y:d,width:0,height:0}:Cc(t)&&Cc(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:y}:e.viewBox?e.viewBox:{}};u_.parseViewBox=d_,u_.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=d_(e),o=fu(a,u_).map((function(e,r){return(0,n.cloneElement)(e,{viewBox:t||i,key:"label-".concat(r)})}));if(!r)return o;var s=function(e,t){return e?!0===e?n.createElement(u_,{key:"label-implicit",viewBox:t}):Mc(e)?n.createElement(u_,{key:"label-implicit",viewBox:t,value:e}):(0,n.isValidElement)(e)?e.type===u_?(0,n.cloneElement)(e,{key:"label-implicit",viewBox:t}):n.createElement(u_,{key:"label-implicit",content:e,viewBox:t}):Hc()(e)?n.createElement(u_,{key:"label-implicit",content:e,viewBox:t}):Zc()(e)?n.createElement(u_,l_({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[s].concat(r_(o))};var f_=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},h_=r(1733),p_=r.n(h_),m_=r(7002),y_=r.n(m_),g_=function(e){return null};g_.displayName="Cell";var v_=r(4065),b_=r.n(v_);function x_(e){return x_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x_(e)}var w_=["valueAccessor"],j_=["data","dataKey","clockWise","id","textBreakAll"];function __(e){return function(e){if(Array.isArray(e))return k_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return k_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S_.apply(this,arguments)}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O_(Object(r),!0).forEach((function(t){E_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E_(e,t,r){return t=function(e){var t=function(e,t){if("object"!=x_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=x_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P_(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var A_=function(e){return Array.isArray(e.value)?b_()(e.value):e.value};function T_(e){var t=e.valueAccessor,r=void 0===t?A_:t,a=P_(e,w_),i=a.data,o=a.dataKey,s=a.clockWise,l=a.id,c=a.textBreakAll,u=P_(a,j_);return i&&i.length?n.createElement(Bu,{className:"recharts-label-list"},i.map((function(e,t){var a=Vc()(o)?r(e,t):Qw(e&&e.payload,o),i=Vc()(l)?{}:{id:"".concat(l,"-").concat(t)};return n.createElement(u_,S_({},gu(e,!0),u,i,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:u_.parseViewBox(Vc()(s)?e:N_(N_({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}T_.displayName="LabelList",T_.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=fu(e.children,T_).map((function(e,r){return(0,n.cloneElement)(e,{data:t,key:"labelList-".concat(r)})}));if(!r)return a;var i=function(e,t){return e?!0===e?n.createElement(T_,{key:"labelList-implicit",data:t}):n.isValidElement(e)||Hc()(e)?n.createElement(T_,{key:"labelList-implicit",data:t,content:e}):Zc()(e)?n.createElement(T_,S_({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[i].concat(__(a))};var C_=r(2322),M_=r.n(C_),D_=r(6361),I_=r.n(D_);function R_(e){return R_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R_(e)}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(this,arguments)}function F_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U_(Object(r),!0).forEach((function(t){q_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q_(e,t,r){return t=function(e){var t=function(e,t){if("object"!=R_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=R_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V_=function(e,t,r,n,a){var i,o=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},W_={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},H_=function(e){var t=B_(B_({},W_),e),r=(0,n.useRef)(),a=F_((0,n.useState)(-1),2),i=a[0],o=a[1];(0,n.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,f=t.className,h=t.animationEasing,p=t.animationDuration,m=t.animationBegin,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var g=bc("recharts-trapezoid",f);return y?n.createElement(Ip,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:h,isActive:y},(function(e){var a=e.upperWidth,o=e.lowerWidth,s=e.height,l=e.x,c=e.y;return n.createElement(Ip,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:h},n.createElement("path",L_({},gu(t,!0),{className:g,d:V_(l,c,a,o,s),ref:r})))})):n.createElement("g",null,n.createElement("path",L_({},gu(t,!0),{className:g,d:V_(s,l,c,u,d)})))};function G_(e){return G_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G_(e)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z_.apply(this,arguments)}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K_(Object(r),!0).forEach((function(t){Y_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y_(e,t,r){return t=function(e){var t=function(e,t){if("object"!=G_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=G_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q_=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,i=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+n,u=Math.asin(s/c)/Gj,d=l?a:a+i*u,f=l?a-i*u:a;return{center:Kj(t,r,c,d),circleTangency:Kj(t,r,n,d),lineTangency:Kj(t,r,c*Math.cos(u*Gj),f),theta:u}},X_=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=function(e,t){return Ac(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+o,l=Kj(t,r,a,i),c=Kj(t,r,a,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var d=Kj(t,r,n,i),f=Kj(t,r,n,s);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},J_={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ek=function(e){var t=$_($_({},J_),e),r=t.cx,a=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=t.className;if(o<i||u===d)return null;var h,p=bc("recharts-sector",f),m=o-i,y=Rc(s,m,0,!0);return h=y>0&&Math.abs(u-d)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Ac(c-l),d=Q_({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),f=d.circleTangency,h=d.lineTangency,p=d.theta,m=Q_({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),y=m.circleTangency,g=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):X_({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var x="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(n>0){var w=Q_({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),j=w.circleTangency,_=w.lineTangency,k=w.theta,S=Q_({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),O=S.circleTangency,N=S.lineTangency,E=S.theta,P=s?Math.abs(l-c):Math.abs(l-c)-k-E;if(P<0&&0===i)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(N.x,",").concat(N.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x}({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):X_({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),n.createElement("path",Z_({},gu(t,!0),{className:p,d:h,role:"img"}))},tk=["option","shapeType","propTransformer","activeClassName","isActive"];function rk(e){return rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rk(e)}function nk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ik(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ak(Object(r),!0).forEach((function(t){ok(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ok(e,t,r){return t=function(e){var t=function(e,t){if("object"!=rk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sk(e,t){return ik(ik({},t),e)}function lk(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return n.createElement(Gp,r);case"trapezoid":return n.createElement(H_,r);case"sector":return n.createElement(ek,r);case"symbols":if(function(e){return"symbols"===e}(t))return n.createElement(Cf,r);break;default:return null}}function ck(e){var t,r=e.option,a=e.shapeType,i=e.propTransformer,o=void 0===i?sk:i,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=nk(e,tk);if((0,n.isValidElement)(r))t=(0,n.cloneElement)(r,ik(ik({},u),function(e){return(0,n.isValidElement)(e)?e.props:e}(r)));else if(Hc()(r))t=r(u);else if(M_()(r)&&!I_()(r)){var d=o(r,u);t=n.createElement(lk,{shapeType:a,elementProps:d})}else{var f=u;t=n.createElement(lk,{shapeType:a,elementProps:f})}return c?n.createElement(Bu,{className:l},t):t}function uk(e,t){return null!=t&&"trapezoids"in e.props}function dk(e,t){return null!=t&&"sectors"in e.props}function fk(e,t){return null!=t&&"points"in e.props}function hk(e,t){var r,n,a=e.x===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,i=e.y===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&i}function pk(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function mk(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function yk(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return uk(e,t)?r="trapezoids":dk(e,t)?r="sectors":fk(e,t)&&(r="points"),r}(r,t),i=function(e,t){var r,n;return uk(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:dk(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:fk(e,t)?t.payload:{}}(r,t),o=n.filter((function(e,n){var o=Yx()(i,e),s=r.props[a].filter((function(e){var n=function(e,t){var r;return uk(e,t)?r=hk:dk(e,t)?r=pk:fk(e,t)&&(r=mk),r}(r,t);return n(e,t)})),l=r.props[a].indexOf(s[s.length-1]);return o&&n===l}));return n.indexOf(o[o.length-1])}var gk=["x","y"];function vk(e){return vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vk(e)}function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bk.apply(this,arguments)}function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xk(Object(r),!0).forEach((function(t){jk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=vk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _k(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kk(e,t){var r=e.x,n=e.y,a=_k(e,gk),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),f=parseInt(d,10);return wk(wk(wk(wk(wk({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function Sk(e){return n.createElement(ck,bk({shapeType:"rectangle",propTransformer:kk,activeClassName:"recharts-active-bar"},e))}var Ok,Nk=["value","background"];function Ek(e){return Ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ek(e)}function Pk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ak(){return Ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ak.apply(this,arguments)}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ck(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tk(Object(r),!0).forEach((function(t){Fk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zk(n.key),n)}}function Dk(e,t,r){return t=Rk(t),function(e,t){if(t&&("object"===Ek(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ik()?Reflect.construct(t,r||[],Rk(e).constructor):t.apply(e,r))}function Ik(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ik=function(){return!!e})()}function Rk(e){return Rk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rk(e)}function Lk(e,t){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lk(e,t)}function Fk(e,t,r){return(t=zk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zk(e){var t=function(e,t){if("object"!=Ek(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ek(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ek(t)?t:t+""}var Uk=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Fk(e=Dk(this,t,[].concat(n)),"state",{isAnimationFinished:!1}),Fk(e,"id",Ic("recharts-bar-")),Fk(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),Fk(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lk(e,t)}(t,e),r=t,a=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,a=r.shape,i=r.dataKey,o=r.activeIndex,s=r.activeBar,l=gu(this.props,!1);return e&&e.map((function(e,r){var c=r===o,u=c?s:a,d=Ck(Ck(Ck({},l),e),{},{isActive:c,option:u,index:r,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return n.createElement(Bu,Ak({className:"recharts-bar-rectangle"},ru(t.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),n.createElement(Sk,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,a=t.layout,i=t.isAnimationActive,o=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return n.createElement(Ip,{begin:o,duration:s,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var i=t.t,o=r.map((function(e,t){var r=u&&u[t];if(r){var n=Fc(r.x,e.x),o=Fc(r.y,e.y),s=Fc(r.width,e.width),l=Fc(r.height,e.height);return Ck(Ck({},e),{},{x:n(i),y:o(i),width:s(i),height:l(i)})}if("horizontal"===a){var c=Fc(0,e.height)(i);return Ck(Ck({},e),{},{y:e.y+e.height-c,height:c})}var d=Fc(0,e.width)(i);return Ck(Ck({},e),{},{width:d})}));return n.createElement(Bu,null,e.renderRectanglesStatically(o))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&Yx()(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,a=t.dataKey,i=t.activeIndex,o=gu(this.props.background,!1);return r.map((function(t,r){t.value;var s=t.background,l=Pk(t,Nk);if(!s)return null;var c=Ck(Ck(Ck(Ck(Ck({},l),{},{fill:"#eee"},s),o),ru(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return n.createElement(Sk,Ak({key:"background-bar-".concat(r),option:e.props.background,isActive:r===i},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.data,i=r.xAxis,o=r.yAxis,s=r.layout,l=fu(r.children,zw);if(!l)return null;var c="vertical"===s?a[0].height/2:a[0].width/2,u=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Qw(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return n.createElement(Bu,d,l.map((function(e){return n.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:a,xAxis:i,yAxis:o,layout:s,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,a=e.className,i=e.xAxis,o=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,f=e.background,h=e.id;if(t||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=bc("recharts-bar",a),y=i&&i.allowDataOverflow,g=o&&o.allowDataOverflow,v=y||g,b=Vc()(h)?this.id:h;return n.createElement(Bu,{className:m},y||g?n.createElement("defs",null,n.createElement("clipPath",{id:"clipPath-".concat(b)},n.createElement("rect",{x:y?s:s-c/2,y:g?l:l-u/2,width:y?c:2*c,height:g?u:2*u}))):null,n.createElement(Bu,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!d||p)&&T_.renderCallByParent(this.props,r))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&Mk(r.prototype,a),i&&Mk(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);function Bk(e){return Bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bk(e)}function qk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gk(n.key),n)}}function Vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vk(Object(r),!0).forEach((function(t){Hk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hk(e,t,r){return(t=Gk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gk(e){var t=function(e,t){if("object"!=Bk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Bk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bk(t)?t:t+""}Ok=Uk,Fk(Uk,"displayName","Bar"),Fk(Uk,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Fk(Uk,"getComposedData",(function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,h=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!h)return null;var p=t.layout,m=r.type.defaultProps,y=void 0!==m?Ck(Ck({},m),r.props):r.props,g=y.dataKey,v=y.children,b=y.minPointSize,x="horizontal"===p?o:i,w=c?x.scale.domain():null,j=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:x}),_=fu(v,g_),k=d.map((function(e,t){var n,d,f,m,y,v;c?n=function(e,t){if(!t||2!==t.length||!Cc(t[0])||!Cc(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Cc(e[0])||e[0]<r)&&(a[0]=r),(!Cc(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[u+t],w):(n=Qw(e,g),Array.isArray(n)||(n=[j,n]));var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"===typeof e)return e;var a="number"===typeof r;return a?e(r,n):(a||Mu(!1),t)}}(b,Ok.defaultProps.minPointSize)(n[1],t);if("horizontal"===p){var k,S=[o.scale(n[0]),o.scale(n[1])],O=S[0],N=S[1];d=pj({axis:i,ticks:s,bandSize:a,offset:h.offset,entry:e,index:t}),f=null!==(k=null!==N&&void 0!==N?N:O)&&void 0!==k?k:void 0,m=h.size;var E=O-N;if(y=Number.isNaN(E)?0:E,v={x:d,y:o.y,width:m,height:o.height},Math.abs(x)>0&&Math.abs(y)<Math.abs(x)){var P=Ac(y||x)*(Math.abs(x)-Math.abs(y));f-=P,y+=P}}else{var A=[i.scale(n[0]),i.scale(n[1])],T=A[0],C=A[1];if(d=T,f=pj({axis:o,ticks:l,bandSize:a,offset:h.offset,entry:e,index:t}),m=C-T,y=h.size,v={x:i.x,y:f,width:i.width,height:y},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=Ac(m||x)*(Math.abs(x)-Math.abs(m))}return Ck(Ck(Ck({},e),{},{x:d,y:f,width:m,height:y,value:c?n:n[1],payload:e,background:v},_&&_[t]&&_[t].props),{},{tooltipPayload:[wj(r,e)],tooltipPosition:{x:d+m/2,y:f+y/2}})}));return Ck({data:k,layout:p},f)}));var Zk=function(e,t,r,n,a){var i=e.width,o=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},d=!!hu(l,Uk);return c.reduce((function(i,o){var l,c,f,h,p,m=t[o],y=m.orientation,g=m.domain,v=m.padding,b=void 0===v?{}:v,x=m.mirror,w=m.reversed,j="".concat(y).concat(x?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var _=g[1]-g[0],k=1/0,S=m.categoricalDomain.sort(Uc);if(S.forEach((function(e,t){t>0&&(k=Math.min((e||0)-(S[t-1]||0),k))})),Number.isFinite(k)){var O=k/_,N="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(l=O*N/2),"no-gap"===m.padding){var E=Rc(e.barCategoryGap,O*N),P=O*N/2;l=P-E-(P-E)/N*E}}}c="xAxis"===n?[r.left+(b.left||0)+(l||0),r.left+r.width-(b.right||0)-(l||0)]:"yAxis"===n?"horizontal"===s?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(l||0),r.top+r.height-(b.bottom||0)-(l||0)]:m.range,w&&(c=[c[1],c[0]]);var A=sj(m,a,d),T=A.scale,C=A.realScaleType;T.domain(g).range(c),cj(T);var M=fj(T,Wk(Wk({},m),{},{realScaleType:C}));"xAxis"===n?(p="top"===y&&!x||"bottom"===y&&x,f=r.left,h=u[j]-p*m.height):"yAxis"===n&&(p="left"===y&&!x||"right"===y&&x,f=u[j]-p*m.width,h=r.top);var D=Wk(Wk(Wk({},m),M),{},{realScaleType:C,x:f,y:h,scale:T,width:"xAxis"===n?r.width:m.width,height:"yAxis"===n?r.height:m.height});return D.bandSize=bj(D,M),m.hide||"xAxis"!==n?m.hide||(u[j]+=(p?-1:1)*D.width):u[j]+=(p?-1:1)*D.height,Wk(Wk({},i),{},Hk({},o,D))}),{})},Kk=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},$k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&qk(t.prototype,r),n&&qk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();Hk($k,"EPS",1e-4);var Yk=function(e){var t=Object.keys(e).reduce((function(t,r){return Wk(Wk({},t),{},Hk({},r,$k.create(e[r])))}),{});return Wk(Wk({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return p_()(e,(function(e,r){return t[r].apply(e,{bandAware:n,position:a})}))},isInRange:function(e){return y_()(e,(function(e,r){return t[r].isInRange(e)}))}})};function Qk(){return Qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qk.apply(this,arguments)}function Xk(e){return Xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xk(e)}function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jk(Object(r),!0).forEach((function(t){oS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sS(n.key),n)}}function rS(e,t,r){return t=aS(t),function(e,t){if(t&&("object"===Xk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nS()?Reflect.construct(t,r||[],aS(e).constructor):t.apply(e,r))}function nS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nS=function(){return!!e})()}function aS(e){return aS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aS(e)}function iS(e,t){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iS(e,t)}function oS(e,t,r){return(t=sS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sS(e){var t=function(e,t){if("object"!=Xk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Xk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xk(t)?t:t+""}var lS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rS(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}(t,e),r=t,a=[{key:"render",value:function(){var e=this.props,r=e.x,a=e.y,i=e.r,o=e.alwaysShow,s=e.clipPathId,l=Mc(r),c=Mc(a);if(Bc(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,i=Yk({x:n.scale,y:a.scale}),o=i.apply({x:t,y:r},{bandAware:!0});return f_(e,"discard")&&!i.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,f=u.y,h=this.props,p=h.shape,m=h.className,y=eS(eS({clipPath:f_(this.props,"hidden")?"url(#".concat(s,")"):void 0},gu(this.props,!0)),{},{cx:d,cy:f});return n.createElement(Bu,{className:bc("recharts-reference-dot",m)},t.renderDot(p,y),u_.renderCallByParent(this.props,{x:d-i,y:f-i,width:2*i,height:2*i}))}}],a&&tS(r.prototype,a),i&&tS(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);oS(lS,"displayName","ReferenceDot"),oS(lS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),oS(lS,"renderDot",(function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):Hc()(e)?e(t):n.createElement(oh,Qk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var cS=r(4597),uS=r.n(cS),dS=r(8990),fS=r.n(dS),hS=r(5797),pS=r.n(hS)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var mS=(0,n.createContext)(void 0),yS=(0,n.createContext)(void 0),gS=(0,n.createContext)(void 0),vS=(0,n.createContext)({}),bS=(0,n.createContext)(void 0),xS=(0,n.createContext)(0),wS=(0,n.createContext)(0),jS=function(e){var t=e.state,r=t.xAxisMap,a=t.yAxisMap,i=t.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=pS(i);return n.createElement(mS.Provider,{value:r},n.createElement(yS.Provider,{value:a},n.createElement(vS.Provider,{value:i},n.createElement(gS.Provider,{value:u},n.createElement(bS.Provider,{value:o},n.createElement(xS.Provider,{value:c},n.createElement(wS.Provider,{value:l},s)))))))};var _S=function(e){var t=(0,n.useContext)(mS);null==t&&Mu(!1);var r=t[e];return null==r&&Mu(!1),r},kS=function(e){var t=(0,n.useContext)(yS);null==t&&Mu(!1);var r=t[e];return null==r&&Mu(!1),r},SS=function(){return(0,n.useContext)(wS)},OS=function(){return(0,n.useContext)(xS)};function NS(e){return NS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NS(e)}function ES(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RS(n.key),n)}}function PS(e,t,r){return t=TS(t),function(e,t){if(t&&("object"===NS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,AS()?Reflect.construct(t,r||[],TS(e).constructor):t.apply(e,r))}function AS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(AS=function(){return!!e})()}function TS(e){return TS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TS(e)}function CS(e,t){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CS(e,t)}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function DS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MS(Object(r),!0).forEach((function(t){IS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function IS(e,t,r){return(t=RS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RS(e){var t=function(e,t){if("object"!=NS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=NS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NS(t)?t:t+""}function LS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return FS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zS.apply(this,arguments)}function US(e){var t=e.x,r=e.y,a=e.segment,i=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,n.useContext)(bS),d=_S(i),f=kS(o),h=(0,n.useContext)(gS);if(!u||!h)return null;Bc(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,r,n,a,i,o,s,l){var c=a.x,u=a.y,d=a.width,f=a.height;if(r){var h=l.y,p=e.y.apply(h,{position:i});if(f_(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var y=l.x,g=e.x.apply(y,{position:i});if(f_(l,"discard")&&!e.x.isInRange(g))return null;var v=[{x:g,y:u+f},{x:g,y:u}];return"top"===o?v.reverse():v}if(n){var b=l.segment.map((function(t){return e.apply(t,{position:i})}));return f_(l,"discard")&&uS()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(Yk({x:d.scale,y:f.scale}),Mc(t),Mc(r),a&&2===a.length,h,e.position,d.orientation,f.orientation,e);if(!p)return null;var m=LS(p,2),y=m[0],g=y.x,v=y.y,b=m[1],x=b.x,w=b.y,j=DS(DS({clipPath:f_(e,"hidden")?"url(#".concat(u,")"):void 0},gu(e,!0)),{},{x1:g,y1:v,x2:x,y2:w});return n.createElement(Bu,{className:bc("recharts-reference-line",l)},function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):Hc()(e)?e(t):n.createElement("line",zS({},t,{className:"recharts-reference-line-line"}))}(s,j),u_.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return Kk({x:t,y:r},{x:n,y:a})}({x1:g,y1:v,x2:x,y2:w})))}var BS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),PS(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CS(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){return n.createElement(US,this.props)}}])&&ES(r.prototype,a),i&&ES(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);function qS(){return qS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qS.apply(this,arguments)}function VS(e){return VS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VS(e)}function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function HS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WS(Object(r),!0).forEach((function(t){QS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function GS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XS(n.key),n)}}function ZS(e,t,r){return t=$S(t),function(e,t){if(t&&("object"===VS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KS()?Reflect.construct(t,r||[],$S(e).constructor):t.apply(e,r))}function KS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KS=function(){return!!e})()}function $S(e){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$S(e)}function YS(e,t){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},YS(e,t)}function QS(e,t,r){return(t=XS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XS(e){var t=function(e,t){if("object"!=VS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=VS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VS(t)?t:t+""}IS(BS,"displayName","ReferenceLine"),IS(BS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var JS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ZS(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YS(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){var e=this.props,r=e.x1,a=e.x2,i=e.y1,o=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;Bc(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Mc(r),d=Mc(a),f=Mc(i),h=Mc(o),p=this.props.shape;if(!u&&!d&&!f&&!h&&!p)return null;var m=function(e,t,r,n,a){var i=a.x1,o=a.x2,s=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=Yk({x:c.scale,y:u.scale}),f={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},h={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!f_(a,"discard")||d.isInRange(f)&&d.isInRange(h)?Kk(f,h):null}(u,d,f,h,this.props);if(!m&&!p)return null;var y=f_(this.props,"hidden")?"url(#".concat(c,")"):void 0;return n.createElement(Bu,{className:bc("recharts-reference-area",s)},t.renderRect(p,HS(HS({clipPath:y},gu(this.props,!0)),m)),u_.renderCallByParent(this.props,m))}}])&&GS(r.prototype,a),i&&GS(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);function eO(e){return function(e){if(Array.isArray(e))return tO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return tO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}QS(JS,"displayName","ReferenceArea"),QS(JS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),QS(JS,"renderRect",(function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):Hc()(e)?e(t):n.createElement(Gp,qS({},t,{className:"recharts-reference-area-rect"}))}));var rO=function(e,t,r,n,a){var i=fu(e,BS),o=fu(e,lS),s=[].concat(eO(i),eO(o)),l=fu(e,JS),c="".concat(n,"Id"),u=n[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[c]===r&&f_(t.props,"extendDomain")&&Cc(t.props[u])){var n=t.props[u];return[Math.min(e[0],n),Math.max(e[1],n)]}return e}),d)),l.length){var f="".concat(u,"1"),h="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===r&&f_(t.props,"extendDomain")&&Cc(t.props[f])&&Cc(t.props[h])){var n=t.props[f],a=t.props[h];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e}),d)}return a&&a.length&&(d=a.reduce((function(e,t){return Cc(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},nO=r(7283),aO=new(r.n(nO)()),iO="recharts.syncMouseEvents";function oO(e){return oO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oO(e)}function sO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cO(n.key),n)}}function lO(e,t,r){return(t=cO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cO(e){var t=function(e,t){if("object"!=oO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=oO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oO(t)?t:t+""}var uO=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lO(this,"activeIndex",0),lO(this,"coordinateList",[]),lO(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,i=void 0===a?null:a,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==n&&void 0!==n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,i=r.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+o+s,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&sO(e.prototype,t),r&&sO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function dO(){}function fO(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function hO(e){this._context=e}function pO(e){this._context=e}function mO(e){this._context=e}hO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fO(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fO(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},pO.prototype={areaStart:dO,areaEnd:dO,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fO(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},mO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fO(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class yO{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function gO(e){this._context=e}function vO(e){this._context=e}function bO(e){return new vO(e)}function xO(e){return e<0?-1:1}function wO(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(xO(i)+xO(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function jO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function _O(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function kO(e){this._context=e}function SO(e){this._context=new OO(e)}function OO(e){this._context=e}function NO(e){this._context=e}function EO(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function PO(e,t){this._context=e,this._t=t}function AO(e){return e[0]}function TO(e){return e[1]}function CO(e,t){var r=ef(!0),n=null,a=bO,i=null,o=jf(s);function s(s){var l,c,u,d=(s=zx(s)).length,f=!1;for(null==n&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&r(c=s[l],l,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?AO:ef(e),t="function"===typeof t?t:void 0===t?TO:ef(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:ef(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:ef(+e),s):t},s.defined=function(e){return arguments.length?(r="function"===typeof e?e:ef(!!e),s):r},s.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),s):a},s.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),s):n},s}function MO(e,t,r){var n=null,a=ef(!0),i=null,o=bO,s=null,l=jf(c);function c(c){var u,d,f,h,p,m=(c=zx(c)).length,y=!1,g=new Array(m),v=new Array(m);for(null==i&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&a(h=c[u],u,c))===y)if(y=!y)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=d;--f)s.point(g[f],v[f]);s.lineEnd(),s.areaEnd()}y&&(g[u]=+e(h,u,c),v[u]=+t(h,u,c),s.point(n?+n(h,u,c):g[u],r?+r(h,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return CO().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?AO:ef(+e),t="function"===typeof t?t:ef(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?TO:ef(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:ef(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:ef(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:ef(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:ef(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:ef(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:ef(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:ef(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}function DO(e){return DO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DO(e)}function IO(){return IO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IO.apply(this,arguments)}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function LO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RO(Object(r),!0).forEach((function(t){FO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function FO(e,t,r){return t=function(e){var t=function(e,t){if("object"!=DO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=DO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}gO.prototype={areaStart:dO,areaEnd:dO,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},vO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},kO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_O(this,this._t0,jO(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,_O(this,jO(this,r=wO(this,e,t)),r);break;default:_O(this,this._t0,r=wO(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(SO.prototype=Object.create(kO.prototype)).point=function(e,t){kO.prototype.point.call(this,t,e)},OO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},NO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=EO(e),a=EO(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},PO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var zO={curveBasisClosed:function(e){return new pO(e)},curveBasisOpen:function(e){return new mO(e)},curveBasis:function(e){return new hO(e)},curveBumpX:function(e){return new yO(e,!0)},curveBumpY:function(e){return new yO(e,!1)},curveLinearClosed:function(e){return new gO(e)},curveLinear:bO,curveMonotoneX:function(e){return new kO(e)},curveMonotoneY:function(e){return new SO(e)},curveNatural:function(e){return new NO(e)},curveStep:function(e){return new PO(e,.5)},curveStepAfter:function(e){return new PO(e,1)},curveStepBefore:function(e){return new PO(e,0)}},UO=function(e){return e.x===+e.x&&e.y===+e.y},BO=function(e){return e.x},qO=function(e){return e.y},VO=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,i=void 0===a?[]:a,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(Hc()(e))return e;var r="curve".concat(Td()(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?zO[r]||bO:zO["".concat(r).concat("vertical"===t?"Y":"X")]}(n,s),d=c?i.filter((function(e){return UO(e)})):i;if(Array.isArray(o)){var f=c?o.filter((function(e){return UO(e)})):o,h=d.map((function(e,t){return LO(LO({},e),{},{base:f[t]})}));return t="vertical"===s?MO().y(qO).x1(BO).x0((function(e){return e.base.x})):MO().x(BO).y1(qO).y0((function(e){return e.base.y})),t.defined(UO).curve(u),t(h)}return(t="vertical"===s&&Cc(o)?MO().y(qO).x1(BO).x0(o):Cc(o)?MO().x(BO).y1(qO).y0(o):CO().x(BO).y(qO)).defined(UO).curve(u),t(d)},WO=function(e){var t=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?VO(e):a;return n.createElement("path",IO({},gu(e,!1),tu(e),{className:bc("recharts-curve",t),d:o,ref:i}))};function HO(e){return HO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HO(e)}var GO=["x","y","top","left","width","height","className"];function ZO(){return ZO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZO.apply(this,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $O(e,t,r){return t=function(e){var t=function(e,t){if("object"!=HO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=HO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var QO=function(e,t,r,n,a,i){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r)},XO=function(e){var t=e.x,r=void 0===t?0:t,a=e.y,i=void 0===a?0:a,o=e.top,s=void 0===o?0:o,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,f=e.height,h=void 0===f?0:f,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KO(Object(r),!0).forEach((function(t){$O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({x:r,y:i,top:s,left:c,width:d,height:h},YO(e,GO));return Cc(r)&&Cc(i)&&Cc(d)&&Cc(h)&&Cc(s)&&Cc(c)?n.createElement("path",ZO({},gu(m,!0),{className:bc("recharts-cross",p),d:QO(r,i,d,h,s,c)})):null};function JO(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle;return{points:[Kj(t,r,n,a),Kj(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function eN(e,t,r){var n,a,i,o;if("horizontal"===e)i=n=t.x,a=r.top,o=r.top+r.height;else if("vertical"===e)o=a=t.y,n=r.left,i=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return JO(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,f=Kj(s,l,c,d),h=Kj(s,l,u,d);n=f.x,a=f.y,i=h.x,o=h.y}return[{x:n,y:a},{x:i,y:o}]}function tN(e){return tN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tN(e)}function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rN(Object(r),!0).forEach((function(t){aN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function aN(e,t,r){return t=function(e){var t=function(e,t){if("object"!=tN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=tN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iN(e){var t,r,a,i=e.element,o=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,m=null!==(t=i.props.cursor)&&void 0!==t?t:null===(r=i.type.defaultProps)||void 0===r?void 0:r.cursor;if(!i||!m||!s||!l||"ScatterChart"!==p&&"axis"!==o)return null;var y=WO;if("ScatterChart"===p)a=l,y=XO;else if("BarChart"===p)a=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(h,l,u,f),y=Gp;else if("radial"===h){var g=JO(l),v=g.cx,b=g.cy,x=g.radius;a={cx:v,cy:b,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:x,outerRadius:x},y=ek}else a={points:eN(h,l,u)},y=WO;var w=nN(nN(nN(nN({stroke:"#ccc",pointerEvents:"none"},u),a),gu(m,!1)),{},{payload:c,payloadIndex:d,className:bc("recharts-tooltip-cursor",m.className)});return(0,n.isValidElement)(m)?(0,n.cloneElement)(m,w):(0,n.createElement)(y,w)}var oN=["item"],sN=["children","className","width","height","style","compact","title","desc"];function lN(e){return lN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lN(e)}function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cN.apply(this,arguments)}function uN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||vN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_N(n.key),n)}}function hN(e,t,r){return t=mN(t),function(e,t){if(t&&("object"===lN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pN()?Reflect.construct(t,r||[],mN(e).constructor):t.apply(e,r))}function pN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pN=function(){return!!e})()}function mN(e){return mN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mN(e)}function yN(e,t){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yN(e,t)}function gN(e){return function(e){if(Array.isArray(e))return bN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vN(e,t){if(e){if("string"===typeof e)return bN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bN(e,t):void 0}}function bN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xN(Object(r),!0).forEach((function(t){jN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jN(e,t,r){return(t=_N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _N(e){var t=function(e,t){if("object"!=lN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lN(t)?t:t+""}var kN={xAxis:["bottom","top"],yAxis:["left","right"]},SN={width:"100%",height:"100%"},ON={x:0,y:0};function NN(e){return e}var EN=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,i=(null!==r&&void 0!==r?r:[]).reduce((function(e,t){var r=t.props.data;return r&&r.length?[].concat(gN(e),gN(r)):e}),[]);return i.length>0?i:e&&e.length&&Cc(n)&&Cc(a)?e.slice(n,a+1):[]};function PN(e){return"number"===e?[0,"auto"]:void 0}var AN=function(e,t,r,n){var a=e.graphicalItems,i=e.tooltipAxis,o=EN(t,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce((function(a,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=zc(void 0===u?o:u,i.dataKey,n):c=u&&u[r]||o[r];return c?[].concat(gN(a),[wj(s,c)]):a}),[])},TN=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(Ac(u-c)!==Ac(d-u)){var h=[];if(Ac(d-u)===Ac(s[1]-s[0])){f=d;var p=u+s[1]-s[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{f=c;var m=d+s[1]-s[0];h[0]=Math.min(u,(m+u)/2),h[1]=Math.max(u,(m+u)/2)}var y=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>y[0]&&e<=y[1]||e>=h[0]&&e<=h[1]){i=n[l].index;break}}else{var g=Math.min(c,d),v=Math.max(c,d);if(e>(g+u)/2&&e<=(v+u)/2){i=n[l].index;break}}}else for(var b=0;b<o;b++)if(0===b&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<o-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===o-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){i=r[b].index;break}return i}(i,o,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=AN(e,t,c,u),f=function(e,t,r,n){var a=t.find((function(e){return e&&e.index===r}));if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,o=n.radius;return wN(wN(wN({},n),Kj(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,l=n.angle;return wN(wN(wN({},n),Kj(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return ON}(r,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:f}}return null},CN=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,f=rj(c,a);return r.reduce((function(t,r){var h,p=void 0!==r.type.defaultProps?wN(wN({},r.type.defaultProps),r.props):r.props,m=p.type,y=p.dataKey,g=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,x=p.ticks,w=p.includeHidden,j=p[i];if(t[j])return t;var _,k,S,O=EN(e.data,{graphicalItems:n.filter((function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===j})),dataStartIndex:s,dataEndIndex:l}),N=O.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(n&&a&&Cc(n)&&Cc(a))return!0}return!1})(p.domain,g,m)&&(_=vj(p.domain,null,g),!f||"number"!==m&&"auto"===b||(S=Xw(O,y,"category")));var E=PN(m);if(!_||0===_.length){var P,A=null!==(P=p.domain)&&void 0!==P?P:E;if(y){if(_=Xw(O,y,m),"category"===m&&f){var T=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(_);v&&T?(k=_,_=Pu()(0,N)):v||(_=xj(A,_,r).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(gN(e),[t])}),[]))}else if("category"===m)_=v?_.filter((function(e){return""!==e&&!Vc()(e)})):xj(A,_,r).reduce((function(e,t){return e.indexOf(t)>=0||""===t||Vc()(t)?e:[].concat(gN(e),[t])}),[]);else if("number"===m){var C=function(e,t,r,n,a){var i=t.map((function(t){return ej(e,t,r,a,n)})).filter((function(e){return!Vc()(e)}));return i&&i.length?i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(O,n.filter((function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===j&&(w||!a)})),y,a,c);C&&(_=C)}!f||"number"!==m&&"auto"===b||(S=Xw(O,y,"category"))}else _=f?Pu()(0,N):o&&o[j]&&o[j].hasStack&&"number"===m?"expand"===d?[0,1]:mj(o[j].stackGroups,s,l):tj(O,n.filter((function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!r)})),m,c,!0);if("number"===m)_=rO(u,_,j,a,x),A&&(_=vj(A,_,g));else if("category"===m&&A){var M=A;_.every((function(e){return M.indexOf(e)>=0}))&&(_=M)}}return wN(wN({},t),{},jN({},j,wN(wN({},p),{},{axisType:a,domain:_,categoricalDomain:S,duplicateDomain:k,originalDomain:null!==(h=p.domain)&&void 0!==h?h:E,isCategorical:f,layout:c})))}),{})},MN=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(n,"Id"),d=fu(c,a),f={};return d&&d.length?f=CN(e,{axes:d,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(f=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=EN(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:l}),f=d.length,h=rj(c,a),p=-1;return r.reduce((function(e,t){var m,y=(void 0!==t.type.defaultProps?wN(wN({},t.type.defaultProps),t.props):t.props)[i],g=PN("number");return e[y]?e:(p++,h?m=Pu()(0,f):o&&o[y]&&o[y].hasStack?(m=mj(o[y].stackGroups,s,l),m=rO(u,m,y,a)):(m=vj(g,tj(d,r.filter((function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===y&&!a})),"number",c),n.defaultProps.allowDataOverflow),m=rO(u,m,y,a)),wN(wN({},e),{},jN({},y,wN(wN({axisType:a},n.defaultProps),{},{hide:!0,orientation:Nc()(kN,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:g,isCategorical:h,layout:c}))))}),{})}(e,{Axis:a,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),f},DN=function(e){var t=e.children,r=e.defaultShowTooltip,n=hu(t,zj),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(i=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},IN=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},RN=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,i=e.yAxisMap,o=void 0===i?{}:i,s=r.width,l=r.height,c=r.children,u=r.margin||{},d=hu(c,zj),f=hu(c,ah),h=Object.keys(o).reduce((function(e,t){var r=o[t],n=r.orientation;return r.mirror||r.hide?e:wN(wN({},e),{},jN({},n,e[n]+r.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(a).reduce((function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:wN(wN({},e),{},jN({},n,Nc()(e,"".concat(n))+r.height))}),{top:u.top||0,bottom:u.bottom||0}),m=wN(wN({},p),h),y=m.bottom;d&&(m.bottom+=d.props.height||zj.defaultProps.height),f&&t&&(m=function(e,t,r,n){var a=r.children,i=r.width,o=r.margin,s=i-(o.left||0)-(o.right||0),l=Ww({children:a,legendWidth:s});if(l){var c=n||{},u=c.width,d=c.height,f=l.align,h=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===h)&&"center"!==f&&Cc(e[f]))return $w($w({},e),{},Yw({},f,e[f]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===f)&&"middle"!==h&&Cc(e[h]))return $w($w({},e),{},Yw({},h,e[h]+(d||0)))}return e}(m,0,r,t));var g=s-m.left-m.right,v=l-m.top-m.bottom;return wN(wN({brushBottom:y},m),{},{width:Math.max(g,0),height:Math.max(v,0)})},LN=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},FN=function(e){var t=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=void 0===a?"axis":a,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,i=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,f=e.barCategoryGap,h=e.maxBarSize,p=IN(u),m=p.numericAxisName,y=p.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some((function(e){var t=lu(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(r),v=[];return r.forEach((function(r,p){var b=EN(e.data,{graphicalItems:[r],dataStartIndex:o,dataEndIndex:s}),x=void 0!==r.type.defaultProps?wN(wN({},r.type.defaultProps),r.props):r.props,w=x.dataKey,j=x.maxBarSize,_=x["".concat(m,"Id")],k=x["".concat(y,"Id")],S=l.reduce((function(e,r){var n=t["".concat(r.axisType,"Map")],a=x["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||Mu(!1);var i=n[a];return wN(wN({},e),{},jN(jN({},r.axisType,i),"".concat(r.axisType,"Ticks"),aj(i)))}),{}),O=S[y],N=S["".concat(y,"Ticks")],E=n&&n[_]&&n[_].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?$w($w({},e.type.defaultProps),e.props):e.props).stackId;if(Mc(n)){var a=t[n];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(r,n[_].stackGroups),P=lu(r.type).indexOf("Bar")>=0,A=bj(O,N),T=[],C=g&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var i={},o=Object.keys(a),s=0,l=o.length;s<l;s++)for(var c=a[o[s]].stackGroups,u=Object.keys(c),d=0,f=u.length;d<f;d++){var h=c[u[d]],p=h.items,m=h.cateAxisId,y=p.filter((function(e){return lu(e.type).indexOf("Bar")>=0}));if(y&&y.length){var g=y[0].type.defaultProps,v=void 0!==g?$w($w({},g),y[0].props):y[0].props,b=v.barSize,x=v[m];i[x]||(i[x]=[]);var w=Vc()(b)?t:b;i[x].push({item:y[0],stackList:y.slice(1),barSize:Vc()(w)?void 0:Rc(w,r,0)})}}return i}({barSize:c,stackGroups:n,totalSize:LN(S,y)});if(P){var M,D,I=Vc()(j)?h:j,R=null!==(M=null!==(D=bj(O,N,!0))&&void 0!==D?D:I)&&void 0!==M?M:0;T=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,o=e.maxBarSize,s=i.length;if(s<1)return null;var l,c=Rc(t,n,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,f=n/s,h=i.reduce((function(e,t){return e+t.barSize||0}),0);(h+=(s-1)*c)>=n&&(h-=(s-1)*c,c=0),h>=n&&f>0&&(d=!0,h=s*(f*=.9));var p={offset:((n-h)/2|0)-c,size:0};l=i.reduce((function(e,t){var r={item:t.item,position:{offset:p.offset+p.size+c,size:d?f:t.barSize}},n=[].concat(Gw(e),[r]);return p=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:p})})),n}),u)}else{var m=Rc(r,n,0,!0);n-2*m-(s-1)*c<=0&&(c=0);var y=(n-2*m-(s-1)*c)/s;y>1&&(y>>=0);var g=o===+o?Math.min(y,o):y;l=i.reduce((function(e,t,r){var n=[].concat(Gw(e),[{item:t.item,position:{offset:m+(y+c)*r+(y-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:n[n.length-1].position})})),n}),u)}return l}({barGap:d,barCategoryGap:f,bandSize:R!==A?R:A,sizeList:C[k],maxBarSize:I}),R!==A&&(T=T.map((function(e){return wN(wN({},e),{},{position:wN(wN({},e.position),{},{offset:e.position.offset-R/2})})})))}var L,F,z=r&&r.type&&r.type.getComposedData;z&&v.push({props:wN(wN({},z(wN(wN({},S),{},{displayedData:b,props:e,dataKey:w,item:r,bandSize:A,barPosition:T,offset:a,stackedData:E,layout:u,dataStartIndex:o,dataEndIndex:s}))),{},jN(jN(jN({key:r.key||"item-".concat(p)},m,S[m]),y,S[y]),"animationId",i)),childIndex:(L=r,F=e.children,du(F).indexOf(L)),item:r})})),v},h=function(e,n){var a=e.props,i=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!pu({props:a}))return null;var c=a.children,d=a.layout,h=a.stackOffset,p=a.data,m=a.reverseStackOrder,y=IN(d),g=y.numericAxisName,v=y.cateAxisName,b=fu(c,r),x=function(e,t,r,n,a,i){if(!e)return null;var o=(i?t.reverse():t).reduce((function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?$w($w({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(i.hide)return e;var s=i[r],l=e[s]||{hasStack:!1,stackGroups:{}};if(Mc(o)){var c=l.stackGroups[o]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[Ic("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return $w($w({},e),{},Yw({},s,l))}),{});return Object.keys(o).reduce((function(t,i){var s=o[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,i){var o=s.stackGroups[i];return $w($w({},t),{},Yw({},i,{numericAxisId:r,cateAxisId:n,items:o.items,stackedData:dj(e,o.items,a)}))}),{})),$w($w({},t),{},Yw({},i,s))}),{})}(p,b,"".concat(g,"Id"),"".concat(v,"Id"),h,m),w=l.reduce((function(e,t){var r="".concat(t.axisType,"Map");return wN(wN({},e),{},jN({},r,MN(a,wN(wN({},t),{},{graphicalItems:b,stackGroups:t.axisType===g&&x,dataStartIndex:i,dataEndIndex:o}))))}),{}),j=RN(wN(wN({},w),{},{props:a,graphicalItems:b}),null===n||void 0===n?void 0:n.legendBBox);Object.keys(w).forEach((function(e){w[e]=u(a,w[e],j,e.replace("Map",""),t)}));var _=function(e){var t=Lc(e),r=aj(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Tu()(r,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:bj(t,r)}}(w["".concat(v,"Map")]),k=f(a,wN(wN({},w),{},{dataStartIndex:i,dataEndIndex:o,updateId:s,graphicalItems:b,stackGroups:x,offset:j}));return wN(wN({formattedGraphicalItems:k,graphicalItems:b,offset:j,stackGroups:x},_),w)},p=function(e){function r(e){var a,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),jN(o=hN(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jN(o,"accessibilityManager",new uO),jN(o,"handleLegendBBoxUpdate",(function(e){if(e){var t=o.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;o.setState(wN({legendBBox:e},h({props:o.props,dataStartIndex:r,dataEndIndex:n,updateId:a},wN(wN({},o.state),{},{legendBBox:e}))))}})),jN(o,"handleReceiveSyncEvent",(function(e,t,r){if(o.props.syncId===e){if(r===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}})),jN(o,"handleBrushChange",(function(e){var t=e.startIndex,r=e.endIndex;if(t!==o.state.dataStartIndex||r!==o.state.dataEndIndex){var n=o.state.updateId;o.setState((function(){return wN({dataStartIndex:t,dataEndIndex:r},h({props:o.props,dataStartIndex:t,dataEndIndex:r,updateId:n},o.state))})),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}})),jN(o,"handleMouseEnter",(function(e){var t=o.getMouseInfo(e);if(t){var r=wN(wN({},t),{},{isTooltipActive:!0});o.setState(r),o.triggerSyncEvent(r);var n=o.props.onMouseEnter;Hc()(n)&&n(r,e)}})),jN(o,"triggeredAfterMouseMove",(function(e){var t=o.getMouseInfo(e),r=t?wN(wN({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(r),o.triggerSyncEvent(r);var n=o.props.onMouseMove;Hc()(n)&&n(r,e)})),jN(o,"handleItemMouseEnter",(function(e){o.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),jN(o,"handleItemMouseLeave",(function(){o.setState((function(){return{isTooltipActive:!1}}))})),jN(o,"handleMouseMove",(function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)})),jN(o,"handleMouseLeave",(function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var r=o.props.onMouseLeave;Hc()(r)&&r(t,e)})),jN(o,"handleOuterEvent",(function(e){var t,r=function(e){var t=e&&e.type;return t&&su[t]?su[t]:null}(e),n=Nc()(o.props,"".concat(r));r&&Hc()(n)&&n(null!==(t=/.*touch.*/i.test(r)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)})),jN(o,"handleClick",(function(e){var t=o.getMouseInfo(e);if(t){var r=wN(wN({},t),{},{isTooltipActive:!0});o.setState(r),o.triggerSyncEvent(r);var n=o.props.onClick;Hc()(n)&&n(r,e)}})),jN(o,"handleMouseDown",(function(e){var t=o.props.onMouseDown;Hc()(t)&&t(o.getMouseInfo(e),e)})),jN(o,"handleMouseUp",(function(e){var t=o.props.onMouseUp;Hc()(t)&&t(o.getMouseInfo(e),e)})),jN(o,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),jN(o,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])})),jN(o,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])})),jN(o,"handleDoubleClick",(function(e){var t=o.props.onDoubleClick;Hc()(t)&&t(o.getMouseInfo(e),e)})),jN(o,"handleContextMenu",(function(e){var t=o.props.onContextMenu;Hc()(t)&&t(o.getMouseInfo(e),e)})),jN(o,"triggerSyncEvent",(function(e){void 0!==o.props.syncId&&aO.emit(iO,o.props.syncId,e,o.eventEmitterSymbol)})),jN(o,"applySyncEvent",(function(e){var t=o.props,r=t.layout,n=t.syncMethod,a=o.state.updateId,i=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(wN({dataStartIndex:i,dataEndIndex:s},h({props:o.props,dataStartIndex:i,dataEndIndex:s,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,f=d.offset,p=d.tooltipTicks;if(!f)return;if("function"===typeof n)u=n(p,e);else if("value"===n){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var y=wN(wN({},f),{},{x:f.left,y:f.top}),g=Math.min(l,y.x+y.width),v=Math.min(c,y.y+y.height),b=p[u]&&p[u].value,x=AN(o.state,o.props.data,u),w=p[u]?{x:"horizontal"===r?p[u].coordinate:g,y:"horizontal"===r?v:p[u].coordinate}:ON;o.setState(wN(wN({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else o.setState(e)})),jN(o,"renderCursor",(function(e){var r,a=o.state,i=a.isTooltipActive,s=a.activeCoordinate,l=a.activePayload,c=a.offset,u=a.activeTooltipIndex,d=a.tooltipAxisBandSize,f=o.getTooltipEventType(),h=null!==(r=e.props.active)&&void 0!==r?r:i,p=o.props.layout,m=e.key||"_recharts-cursor";return n.createElement(iN,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:h,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:f})})),jN(o,"renderPolarAxis",(function(e,t,r){var a=Nc()(e,"type.axisType"),i=Nc()(o.state,"".concat(a,"Map")),s=e.type.defaultProps,l=void 0!==s?wN(wN({},s),e.props):e.props,c=i&&i[l["".concat(a,"Id")]];return(0,n.cloneElement)(e,wN(wN({},c),{},{className:bc(a,c.className),key:e.key||"".concat(t,"-").concat(r),ticks:aj(c,!0)}))})),jN(o,"renderPolarGrid",(function(e){var t=e.props,r=t.radialLines,a=t.polarAngles,i=t.polarRadius,s=o.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=Lc(l),d=Lc(c),f=d.cx,h=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,n.cloneElement)(e,{polarAngles:Array.isArray(a)?a:aj(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(i)?i:aj(u,!0).map((function(e){return e.coordinate})),cx:f,cy:h,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:r})})),jN(o,"renderLegend",(function(){var e=o.state.formattedGraphicalItems,t=o.props,r=t.children,a=t.width,i=t.height,s=o.props.margin||{},l=a-(s.left||0)-(s.right||0),u=Ww({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,f=dN(u,oN);return(0,n.cloneElement)(d,wN(wN({},f),{},{chartWidth:a,chartHeight:i,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))})),jN(o,"renderTooltip",(function(){var e,t=o.props,r=t.children,a=t.accessibilityLayer,i=hu(r,Pd);if(!i)return null;var s=o.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,f=s.offset,h=null!==(e=i.props.active)&&void 0!==e?e:l;return(0,n.cloneElement)(i,{viewBox:wN(wN({},f),{},{x:f.left,y:f.top}),active:h,label:d,payload:h?u:[],coordinate:c,accessibilityLayer:a})})),jN(o,"renderBrush",(function(e){var t=o.props,r=t.margin,a=t.data,i=o.state,s=i.offset,l=i.dataStartIndex,c=i.dataEndIndex,u=i.updateId;return(0,n.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:oj(o.handleBrushChange,e.props.onChange),data:a,x:Cc(e.props.x)?e.props.x:s.left,y:Cc(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:Cc(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),jN(o,"renderReferenceElement",(function(e,t,r){if(!e)return null;var a=o.clipPathId,i=o.state,s=i.xAxisMap,l=i.yAxisMap,c=i.offset,u=e.type.defaultProps||{},d=e.props,f=d.xAxisId,h=void 0===f?u.xAxisId:f,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,n.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:s[h],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})})),jN(o,"renderActivePoints",(function(e){var t=e.item,n=e.activePoint,a=e.basePoint,i=e.childIndex,o=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?wN(wN({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=wN(wN({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:Jw(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},gu(u,!1)),tu(u));return s.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),a?s.push(r.renderActiveDot(u,wN(wN({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):o&&s.push(null),s})),jN(o,"renderGraphicChild",(function(e,t,r){var a=o.filterFormatItem(e,t,r);if(!a)return null;var i=o.getTooltipEventType(),s=o.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,f=hu(o.props.children,Pd),h=a.props,p=h.points,m=h.isRange,y=h.baseLine,g=void 0!==a.item.type.defaultProps?wN(wN({},a.item.type.defaultProps),a.item.props):a.item.props,v=g.activeDot,b=g.hide,x=g.activeBar,w=g.activeShape,j=Boolean(!b&&l&&f&&(v||x||w)),_={};"axis"!==i&&f&&"click"===f.props.trigger?_={onClick:oj(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(_={onMouseLeave:oj(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:oj(o.handleItemMouseEnter,e.props.onMouseEnter)});var k=(0,n.cloneElement)(e,wN(wN({},a.props),_));if(j){if(!(u>=0)){var S,O=(null!==(S=o.getItemByXY(o.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:k}).graphicalItem,N=O.item,E=void 0===N?e:N,P=O.childIndex,A=wN(wN(wN({},a.props),_),{},{activeIndex:P});return[(0,n.cloneElement)(E,A),null,null]}var T,C;if(c.dataKey&&!c.allowDuplicatedCategory){var M="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());T=zc(p,M,d),C=m&&y&&zc(y,M,d)}else T=null===p||void 0===p?void 0:p[u],C=m&&y&&y[u];if(w||x){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,n.cloneElement)(e,wN(wN(wN({},a.props),_),{},{activeIndex:D})),null,null]}if(!Vc()(T))return[k].concat(gN(o.renderActivePoints({item:a,activePoint:T,basePoint:C,childIndex:u,isRange:m})))}return m?[k,null,null]:[k,null]})),jN(o,"renderCustomized",(function(e,t,r){return(0,n.cloneElement)(e,wN(wN({key:"recharts-customized-".concat(r)},o.props),o.state))})),jN(o,"renderMap",{CartesianGrid:{handler:NN,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:NN},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:NN},YAxis:{handler:NN},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:Ic("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=wc()(o.triggeredAfterMouseMove,null!==(i=e.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yN(e,t)}(r,e),a=r,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,i=hu(t,Pd);if(i){var o=i.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=AN(this.state,r,o,s),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+n)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},f=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));f&&(d=wN(wN({},d),f.props.points[o].tooltipPosition),l=f.props.points[o].tooltipPayload);var h={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(h),this.renderCursor(i),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}}),null):null;var r,n}},{key:"componentDidUpdate",value:function(e){vu([hu(e.children,Pd)],[hu(this.props.children,Pd)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=hu(this.props.children,Pd);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=n.width/r.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),f=TN(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var h=Lc(c).scale,p=Lc(u).scale,m=h&&h.invert?h.invert(i.chartX):null,y=p&&p.invert?p.invert(i.chartY):null;return wN(wN({},i),{},{xValue:m,yValue:y},f)}return f?wN(wN({},i),f):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,i=t/r;if("horizontal"===n||"vertical"===n){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&i>=o.top&&i<=o.top+o.height?{x:a,y:i}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=Lc(l);return Xj({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=hu(e,Pd),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),wN(wN({},tu(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){aO.on(iO,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){aO.removeListener(iO,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,i=n.length;a<i;a++){var o=n[a];if(o.item===e||o.props.key===e.key||t===lu(o.item.type)&&r===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,a=t.top,i=t.height,o=t.width;return n.createElement("defs",null,n.createElement("clipPath",{id:e},n.createElement("rect",{x:r,y:a,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=uN(t,2),n=r[0],a=r[1];return wN(wN({},e),{},jN({},n,a.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=uN(t,2),n=r[0],a=r[1];return wN(wN({},e),{},jN({},n,a.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,i=r.length;a<i;a++){var o=r[a],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?wN(wN({},l.type.defaultProps),l.props):l.props,u=lu(l.type);if("Bar"===u){var d=(s.data||[]).find((function(t){return Wp(e,t)}));if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var f=(s.data||[]).find((function(t){return Xj(e,t)}));if(f)return{graphicalItem:o,payload:f}}else if(uk(o,n)||dk(o,n)||fk(o,n)){var h=yk({graphicalItem:o,activeTooltipItem:n,itemData:c.data}),p=void 0===c.activeIndex?h:c.activeIndex;return{graphicalItem:wN(wN({},o),{},{childIndex:p}),payload:fk(o,n)?c.data[h]:o.props.data[h]}}}return null}},{key:"render",value:function(){var e=this;if(!pu(this))return null;var t,r,a=this.props,i=a.children,o=a.className,s=a.width,l=a.height,c=a.style,u=a.compact,d=a.title,f=a.desc,h=dN(a,sN),p=gu(h,!1);if(u)return n.createElement(jS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},n.createElement(Lu,cN({},p,{width:s,height:l,title:d,desc:f}),this.renderClipPath(),xu(i,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(r=this.props.role)&&void 0!==r?r:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return n.createElement(jS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},n.createElement("div",cN({className:bc("recharts-wrapper",o),style:wN({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),n.createElement(Lu,cN({},p,{width:s,height:l,title:d,desc:f,style:SN}),this.renderClipPath(),xu(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&fN(a.prototype,o),l&&fN(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,o,l}(n.Component);jN(p,"displayName",t),jN(p,"defaultProps",wN({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),jN(p,"getDerivedStateFromProps",(function(e,t){var r=e.dataKey,n=e.data,a=e.children,i=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var f=DN(e);return wN(wN(wN({},f),{},{updateId:0},h(wN(wN({props:e},f),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!$c(c,t.prevMargin)){var p=DN(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},y=wN(wN({},TN(t,n,s)),{},{updateId:t.updateId+1}),g=wN(wN(wN({},p),m),y);return wN(wN(wN({},g),h(wN({props:e},g),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!vu(a,t.prevChildren)){var v,b,x,w,j=hu(a,zj),_=j&&null!==(v=null===(b=j.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,k=j&&null!==(x=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,S=_!==u||k!==d,O=!Vc()(n)&&!S?t.updateId:t.updateId+1;return wN(wN({updateId:O},h(wN(wN({props:e},t),{},{updateId:O,dataStartIndex:_,dataEndIndex:k}),t)),{},{prevChildren:a,dataStartIndex:_,dataEndIndex:k})}return null})),jN(p,"renderActiveDot",(function(e,t,r){var a;return a=(0,n.isValidElement)(e)?(0,n.cloneElement)(e,t):Hc()(e)?e(t):n.createElement(oh,t),n.createElement(Bu,{className:"recharts-active-dot",key:r},a)}));var m=(0,n.forwardRef)((function(e,t){return n.createElement(p,cN({},e,{ref:t}))}));return m.displayName=p.displayName,m},zN=["type","layout","connectNulls","ref"],UN=["key"];function BN(e){return BN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BN(e)}function qN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VN(){return VN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VN.apply(this,arguments)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function HN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WN(Object(r),!0).forEach((function(t){JN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function GN(e){return function(e){if(Array.isArray(e))return ZN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ZN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eE(n.key),n)}}function $N(e,t,r){return t=QN(t),function(e,t){if(t&&("object"===BN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YN()?Reflect.construct(t,r||[],QN(e).constructor):t.apply(e,r))}function YN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YN=function(){return!!e})()}function QN(e){return QN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QN(e)}function XN(e,t){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XN(e,t)}function JN(e,t,r){return(t=eE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eE(e){var t=function(e,t){if("object"!=BN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=BN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BN(t)?t:t+""}var tE=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return JN(e=$N(this,t,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),JN(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),JN(e,"getStrokeDasharray",(function(r,n,a){var i=a.reduce((function(e,t){return e+t}));if(!i)return e.generateSimpleStrokeDasharray(n,r);for(var o=Math.floor(r/i),s=r%i,l=n-r,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>s){c=[].concat(GN(a.slice(0,u)),[s-d]);break}var f=c.length%2===0?[0,l]:[l];return[].concat(GN(t.repeat(a,o)),GN(c),f).map((function(e){return"".concat(e,"px")})).join(", ")})),JN(e,"id",Ic("recharts-line-")),JN(e,"pathRef",(function(t){e.mainCurve=t})),JN(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),JN(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XN(e,t)}(t,e),r=t,a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.points,i=r.xAxis,o=r.yAxis,s=r.layout,l=fu(r.children,zw);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Qw(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return n.createElement(Bu,u,l.map((function(e){return n.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:i,yAxis:o,layout:s,dataPointFormatter:c})})))}},{key:"renderDots",value:function(e,r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,s=i.points,l=i.dataKey,c=gu(this.props,!1),u=gu(o,!0),d=s.map((function(e,r){var n=HN(HN(HN({key:"dot-".concat(r),r:3},c),u),{},{index:r,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return t.renderDotItem(o,n)})),f={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return n.createElement(Bu,VN({className:"recharts-line-dots",key:"dots"},f),d)}},{key:"renderCurveStatically",value:function(e,t,r,a){var i=this.props,o=i.type,s=i.layout,l=i.connectNulls,c=(i.ref,qN(i,zN)),u=HN(HN(HN({},gu(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},a),{},{type:o,layout:s,connectNulls:l});return n.createElement(WO,VN({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,a=this.props,i=a.points,o=a.strokeDasharray,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=a.animateNewValues,h=a.width,p=a.height,m=this.state,y=m.prevPoints,g=m.totalLength;return n.createElement(Ip,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(n){var a=n.t;if(y){var s=y.length/i.length,l=i.map((function(e,t){var r=Math.floor(t*s);if(y[r]){var n=y[r],i=Fc(n.x,e.x),o=Fc(n.y,e.y);return HN(HN({},e),{},{x:i(a),y:o(a)})}if(f){var l=Fc(2*h,e.x),c=Fc(p/2,e.y);return HN(HN({},e),{},{x:l(a),y:c(a)})}return HN(HN({},e),{},{x:e.x,y:e.y})}));return r.renderCurveStatically(l,e,t)}var c,u=Fc(0,g)(a);if(o){var d="".concat(o).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=r.getStrokeDasharray(u,g,d)}else c=r.generateSimpleStrokeDasharray(g,u);return r.renderCurveStatically(i,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,i=this.state,o=i.prevPoints,s=i.totalLength;return a&&n&&n.length&&(!o&&s>0||!Yx()(o,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,a=t.dot,i=t.points,o=t.className,s=t.xAxis,l=t.yAxis,c=t.top,u=t.left,d=t.width,f=t.height,h=t.isAnimationActive,p=t.id;if(r||!i||!i.length)return null;var m=this.state.isAnimationFinished,y=1===i.length,g=bc("recharts-line",o),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,x=v||b,w=Vc()(p)?this.id:p,j=null!==(e=gu(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},_=j.r,k=void 0===_?3:_,S=j.strokeWidth,O=void 0===S?2:S,N=(function(e){return e&&"object"===ou(e)&&"clipDot"in e}(a)?a:{}).clipDot,E=void 0===N||N,P=2*k+O;return n.createElement(Bu,{className:g},v||b?n.createElement("defs",null,n.createElement("clipPath",{id:"clipPath-".concat(w)},n.createElement("rect",{x:v?u:u-d/2,y:b?c:c-f/2,width:v?d:2*d,height:b?f:2*f})),!E&&n.createElement("clipPath",{id:"clipPath-dots-".concat(w)},n.createElement("rect",{x:u-P/2,y:c-P/2,width:d+P,height:f+P}))):null,!y&&this.renderCurve(x,w),this.renderErrorBar(x,w),(y||a)&&this.renderDots(x,E,w),(!h||m)&&T_.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!==0?[].concat(GN(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(GN(n),GN(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(n.isValidElement(e))r=n.cloneElement(e,t);else if(Hc()(e))r=e(t);else{var a=t.key,i=qN(t,UN),o=bc("recharts-line-dot","boolean"!==typeof e?e.className:"");r=n.createElement(oh,VN({key:a},i,{className:o}))}return r}}],a&&KN(r.prototype,a),i&&KN(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);function rE(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function nE(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),o=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},r)}function aE(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function iE(e){return iE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iE(e)}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oE(Object(r),!0).forEach((function(t){lE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lE(e,t,r){return t=function(e){var t=function(e,t){if("object"!=iE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=iE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cE(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Cc(l)||pd.isSsr)return function(e,t){return rE(e,t+1)}(a,"number"===typeof l&&Cc(l)?l:0);var f=[],h="top"===s||"bottom"===s?"width":"height",p=u&&"width"===h?fm(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(e,n){var a=Hc()(c)?c(e.value,n):e.value;return"width"===h?nE(fm(a,{fontSize:t,letterSpacing:r}),p,d):fm(a,{fontSize:t,letterSpacing:r})[h]},y=a.length>=2?Ac(a[1].coordinate-a[0].coordinate):1,g=function(e,t,r){var n="width"===r,a=e.x,i=e.y,o=e.width,s=e.height;return 1===t?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}(i,y,h);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var i,o=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:rE(n,u)};var i,o=c,f=function(){return void 0===i&&(i=r(t,o)),i},h=t.coordinate,p=0===c||aE(e,h,f,d,l);p||(c=0,d=s,u+=1),p&&(d=h+e*(f()/2+a),c+=u)};u<=o.length;)if(i=f())return i.v;return[]}(y,g,m,a,o):(f="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var u=n[s-1],d=r(u,s-1),f=e*(u.coordinate+e*d/2-c);o[s-1]=u=sE(sE({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),aE(e,u.tickCoord,(function(){return d}),l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=sE(sE({},u),{},{isShow:!0}))}for(var h=i?s-1:s,p=function(t){var n,i=o[t],s=function(){return void 0===n&&(n=r(i,t)),n};if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=sE(sE({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=sE(sE({},i),{},{tickCoord:i.coordinate});aE(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=sE(sE({},i),{},{isShow:!0}))},m=0;m<h;m++)p(m);return o}(y,g,m,a,o,"preserveStartEnd"===l):function(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(t){var n,c=i[t],u=function(){return void 0===n&&(n=r(c,t)),n};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=sE(sE({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=sE(sE({},c),{},{tickCoord:c.coordinate});aE(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=sE(sE({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(y,g,m,a,o),f.filter((function(e){return e.isShow})))}JN(tE,"displayName","Line"),JN(tE,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),JN(tE,"getComposedData",(function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map((function(e,t){var l=Qw(e,o);return"horizontal"===u?{x:hj({axis:r,ticks:a,bandSize:s,entry:e,index:t}),y:Vc()(l)?null:n.scale(l),value:l,payload:e}:{x:Vc()(l)?null:r.scale(l),y:hj({axis:n,ticks:i,bandSize:s,entry:e,index:t}),value:l,payload:e}}));return HN({points:d,layout:u},c)}));var uE=["viewBox"],dE=["viewBox"],fE=["ticks"];function hE(e){return hE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hE(e)}function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pE.apply(this,arguments)}function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mE(Object(r),!0).forEach((function(t){_E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gE(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kE(n.key),n)}}function bE(e,t,r){return t=wE(t),function(e,t){if(t&&("object"===hE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xE()?Reflect.construct(t,r||[],wE(e).constructor):t.apply(e,r))}function xE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xE=function(){return!!e})()}function wE(e){return wE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wE(e)}function jE(e,t){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jE(e,t)}function _E(e,t,r){return(t=kE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kE(e){var t=function(e,t){if("object"!=hE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=hE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hE(t)?t:t+""}var SE=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=bE(this,t,[e])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jE(e,t)}(t,e),r=t,a=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=gE(e,uE),a=this.props,i=a.viewBox,o=gE(a,dE);return!$c(r,i)||!$c(n,o)||!$c(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,i,o,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,f=s.orientation,h=s.tickSize,p=s.mirror,m=s.tickMargin,y=p?-1:1,g=e.tickSize||h,v=Cc(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=r=e.coordinate,o=(n=(a=c+ +!p*d)-y*g)-y*m,i=v;break;case"left":n=a=e.coordinate,i=(t=(r=l+ +!p*u)-y*g)-y*m,o=v;break;case"right":n=a=e.coordinate,i=(t=(r=l+ +p*u)+y*g)+y*m,o=v;break;default:t=r=e.coordinate,o=(n=(a=c+ +p*d)+y*g)+y*m,i=v}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:i,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,a=e.width,i=e.height,o=e.orientation,s=e.mirror,l=e.axisLine,c=yE(yE(yE({},gu(this.props,!1)),gu(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var u=+("top"===o&&!s||"bottom"===o&&s);c=yE(yE({},c),{},{x1:t,y1:r+u*i,x2:t+a,y2:r+u*i})}else{var d=+("left"===o&&!s||"right"===o&&s);c=yE(yE({},c),{},{x1:t+d*a,y1:r,x2:t+d*a,y2:r+i})}return n.createElement("line",pE({},c,{className:bc("recharts-cartesian-axis-line",Nc()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,a){var i=this,o=this.props,s=o.tickLine,l=o.stroke,c=o.tick,u=o.tickFormatter,d=o.unit,f=cE(yE(yE({},this.props),{},{ticks:e}),r,a),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=gu(this.props,!1),y=gu(c,!1),g=yE(yE({},m),{},{fill:"none"},gu(s,!1)),v=f.map((function(e,r){var a=i.getTickLineCoord(e),o=a.line,v=a.tick,b=yE(yE(yE(yE({textAnchor:h,verticalAnchor:p},m),{},{stroke:"none",fill:l},y),v),{},{index:r,payload:e,visibleTicksCount:f.length,tickFormatter:u});return n.createElement(Bu,pE({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},ru(i.props,e,r)),s&&n.createElement("line",pE({},g,o,{className:bc("recharts-cartesian-axis-tick-line",Nc()(s,"className"))})),c&&t.renderTickItem(c,b,"".concat(Hc()(u)?u(e.value,r):e.value).concat(d||"")))}));return n.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,a=t.width,i=t.height,o=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=gE(l,fE),d=c;return Hc()(o)&&(d=c&&c.length>0?o(this.props):o(u)),a<=0||i<=0||!d||!d.length?null:n.createElement(Bu,{className:bc("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),u_.renderCallByParent(this.props))}}],i=[{key:"renderTickItem",value:function(e,t,r){return n.isValidElement(e)?n.cloneElement(e,t):Hc()(e)?e(t):n.createElement(Bm,pE({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],a&&vE(r.prototype,a),i&&vE(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);function OE(e){return OE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OE(e)}function NE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ME(n.key),n)}}function EE(e,t,r){return t=AE(t),function(e,t){if(t&&("object"===OE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PE()?Reflect.construct(t,r||[],AE(e).constructor):t.apply(e,r))}function PE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(PE=function(){return!!e})()}function AE(e){return AE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},AE(e)}function TE(e,t){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TE(e,t)}function CE(e,t,r){return(t=ME(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ME(e){var t=function(e,t){if("object"!=OE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=OE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OE(t)?t:t+""}function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DE.apply(this,arguments)}function IE(e){var t=e.xAxisId,r=SS(),a=OS(),i=_S(t);return null==i?null:n.createElement(SE,DE({},i,{className:bc("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return aj(e,!0)}}))}_E(SE,"displayName","CartesianAxis"),_E(SE,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var RE=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),EE(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TE(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){return n.createElement(IE,this.props)}}])&&NE(r.prototype,a),i&&NE(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);function LE(e){return LE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LE(e)}function FE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WE(n.key),n)}}function zE(e,t,r){return t=BE(t),function(e,t){if(t&&("object"===LE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UE()?Reflect.construct(t,r||[],BE(e).constructor):t.apply(e,r))}function UE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(UE=function(){return!!e})()}function BE(e){return BE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BE(e)}function qE(e,t){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qE(e,t)}function VE(e,t,r){return(t=WE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WE(e){var t=function(e,t){if("object"!=LE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=LE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LE(t)?t:t+""}function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HE.apply(this,arguments)}CE(RE,"displayName","XAxis"),CE(RE,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var GE=function(e){var t=e.yAxisId,r=SS(),a=OS(),i=kS(t);return null==i?null:n.createElement(SE,HE({},i,{className:bc("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return aj(e,!0)}}))},ZE=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zE(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qE(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){return n.createElement(GE,this.props)}}])&&FE(r.prototype,a),i&&FE(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);VE(ZE,"displayName","YAxis"),VE(ZE,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var KE=FN({chartName:"LineChart",GraphicalChild:tE,axisComponents:[{axisType:"xAxis",AxisComp:RE},{axisType:"yAxis",AxisComp:ZE}],formatAxisMap:Zk}),$E=["x1","y1","x2","y2","key"],YE=["offset"];function QE(e){return QE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QE(e)}function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function JE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XE(Object(r),!0).forEach((function(t){eP(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eP(e,t,r){return t=function(e){var t=function(e,t){if("object"!=QE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=QE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tP(){return tP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tP.apply(this,arguments)}function rP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var nP=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,l=e.ry;return n.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function aP(e,t){var r;if(n.isValidElement(e))r=n.cloneElement(e,t);else if(Hc()(e))r=e(t);else{var a=t.x1,i=t.y1,o=t.x2,s=t.y2,l=t.key,c=rP(t,$E),u=gu(c,!1),d=(u.offset,rP(u,YE));r=n.createElement("line",tP({},d,{x1:a,y1:i,x2:o,y2:s,fill:"none",key:l}))}return r}function iP(e){var t=e.x,r=e.width,a=e.horizontal,i=void 0===a||a,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map((function(n,a){var o=JE(JE({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(a),index:a});return aP(i,o)}));return n.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function oP(e){var t=e.y,r=e.height,a=e.vertical,i=void 0===a||a,o=e.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map((function(n,a){var o=JE(JE({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(a),index:a});return aP(i,o)}));return n.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function sP(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==u[0]&&u.unshift(0);var d=u.map((function(e,l){var c=!u[l+1]?i+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return n.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return n.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function lP(e){var t=e.vertical,r=void 0===t||t,a=e.verticalFill,i=e.fillOpacity,o=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!a||!a.length)return null;var d=u.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==d[0]&&d.unshift(0);var f=d.map((function(e,t){var r=!d[t+1]?o+l-e:d[t+1]-e;if(r<=0)return null;var u=t%a.length;return n.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:r,height:c,stroke:"none",fill:a[u],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return n.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var cP=function(e,t){var r=e.xAxis,n=e.width,a=e.height,i=e.offset;return nj(cE(JE(JE(JE({},SE.defaultProps),r),{},{ticks:aj(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},uP=function(e,t){var r=e.yAxis,n=e.width,a=e.height,i=e.offset;return nj(cE(JE(JE(JE({},SE.defaultProps),r),{},{ticks:aj(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},dP={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function fP(e){var t,r,a,i,o,s,l=SS(),c=OS(),u=(0,n.useContext)(vS),d=JE(JE({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:dP.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:dP.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:dP.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:dP.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:dP.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:dP.verticalFill,x:Cc(e.x)?e.x:u.left,y:Cc(e.y)?e.y:u.top,width:Cc(e.width)?e.width:u.width,height:Cc(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,y=d.syncWithTicks,g=d.horizontalValues,v=d.verticalValues,b=function(){var e=(0,n.useContext)(mS);return Lc(e)}(),x=function(){var e=(0,n.useContext)(yS);return fS()(e,(function(e){return y_()(e.domain,Number.isFinite)}))||Lc(e)}();if(!Cc(p)||p<=0||!Cc(m)||m<=0||!Cc(f)||f!==+f||!Cc(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||cP,j=d.horizontalCoordinatesGenerator||uP,_=d.horizontalPoints,k=d.verticalPoints;if((!_||!_.length)&&Hc()(j)){var S=g&&g.length,O=j({yAxis:x?JE(JE({},x),{},{ticks:S?g:x.ticks}):void 0,width:l,height:c,offset:u},!!S||y);Bc(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(QE(O),"]")),Array.isArray(O)&&(_=O)}if((!k||!k.length)&&Hc()(w)){var N=v&&v.length,E=w({xAxis:b?JE(JE({},b),{},{ticks:N?v:b.ticks}):void 0,width:l,height:c,offset:u},!!N||y);Bc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(QE(E),"]")),Array.isArray(E)&&(k=E)}return n.createElement("g",{className:"recharts-cartesian-grid"},n.createElement(nP,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),n.createElement(iP,tP({},d,{offset:u,horizontalPoints:_,xAxis:b,yAxis:x})),n.createElement(oP,tP({},d,{offset:u,verticalPoints:k,xAxis:b,yAxis:x})),n.createElement(sP,tP({},d,{horizontalPoints:_})),n.createElement(lP,tP({},d,{verticalPoints:k})))}fP.displayName="CartesianGrid";var hP=FN({chartName:"BarChart",GraphicalChild:Uk,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:RE},{axisType:"yAxis",AxisComp:ZE}],formatAxisMap:Zk});const pP=()=>{const{user:e,isRole:t}=za(),[r,a]=(0,n.useState)({totalPupils:0,totalTeachers:0,todayAttendance:0,averageGrade:0}),[i,o]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[c,u]=(0,n.useState)([]),[d,f]=(0,n.useState)([]),[h,p]=(0,n.useState)([]),[m,y]=(0,n.useState)([]);(0,n.useEffect)((()=>{g(),t("admin")&&(b(),x())}),[]);const g=async()=>{try{const{count:e}=await Ra.from("pupils").select("*",{count:"exact",head:!0}).eq("archived",!1),{count:t}=await Ra.from("users").select("*",{count:"exact",head:!0}).eq("role","teacher").neq("archived",!0),r=(new Date).toISOString().split("T")[0],{count:n}=await Ra.from("attendance").select("*",{count:"exact",head:!0}).eq("date",r).eq("status","present"),{data:i}=await Ra.from("grades").select("final_grade"),o=null!==i&&void 0!==i&&i.length?i.reduce(((e,t)=>e+t.final_grade),0)/i.length:0;a({totalPupils:e||0,totalTeachers:t||0,todayAttendance:n||0,averageGrade:o}),await v(),w(),j(),_()}catch(e){console.error("Error fetching dashboard data:",e)}},v=async()=>{try{const e=(new Date).getFullYear(),t=Array.from({length:5},((t,r)=>e-4+r)),r=[];for(const n of t){const{data:e}=await Ra.from("pupils").select("gender, grade_level, is_4ps_beneficiary, enrollment_date").gte("enrollment_date","".concat(n,"-06-01")).lt("enrollment_date","".concat(n+1,"-06-01"));if(e){const t=e.length,a=e.filter((e=>"male"===e.gender)).length,i=e.filter((e=>"female"===e.gender)).length,o=e.filter((e=>e.is_4ps_beneficiary)).length,s=[1,2,3,4,5,6].map((t=>({grade:t,count:e.filter((e=>e.grade_level===t)).length})));r.push({year:"SY ".concat(n,"-").concat(n+1),total:t,male:a,female:i,fourPs:o,gradeDistribution:s})}}o(r)}catch(e){console.error("Error fetching enrollment trends:",e)}},b=async()=>{try{const{data:e,error:t}=await Ra.from("user_registrations").select("*").eq("status","pending").order("created_at",{ascending:!1});if(t)throw t;if(p(e||[]),e&&e.length>0){const t=e[0],r=new Date(Date.now()-36e5).toISOString();t.created_at>r&&y((e=>[{id:"reg-".concat(t.id),title:"New User Registration",message:"".concat(t.full_name," has registered as a ").concat(t.role),type:"registration",created_at:t.created_at},...e]))}}catch(e){console.error("Error fetching pending registrations:",e)}},x=async()=>{try{const{data:t}=await Ra.from("notifications").select("*").eq("recipient_id",null===e||void 0===e?void 0:e.id).eq("read",!1).order("created_at",{ascending:!1}).limit(5);y((e=>[...e,...t||[]]))}catch(t){console.error("Error fetching notifications:",t)}},w=async()=>{try{const{data:e}=await Ra.from("grades").select("final_grade");if(e){const t={"Outstanding (90-100)":0,"Very Satisfactory (85-89)":0,"Satisfactory (80-84)":0,"Fairly Satisfactory (75-79)":0,"Did Not Meet Expectations (Below 75)":0};e.forEach((e=>{let{final_grade:r}=e;r>=90?t["Outstanding (90-100)"]++:r>=85?t["Very Satisfactory (85-89)"]++:r>=80?t["Satisfactory (80-84)"]++:r>=75?t["Fairly Satisfactory (75-79)"]++:t["Did Not Meet Expectations (Below 75)"]++}));const r=Object.entries(t).map((e=>{let[t,r]=e;return{grade:t,count:r}}));l(r)}}catch(e){console.error("Error fetching grade distribution:",e)}},j=async()=>{try{const e=Array.from({length:7},((e,t)=>{const r=new Date;return r.setDate(r.getDate()-t),r.toISOString().split("T")[0]})).reverse(),t=e.map((async e=>{const{count:t}=await Ra.from("attendance").select("*",{count:"exact",head:!0}).eq("date",e).eq("status","present"),{count:r}=await Ra.from("attendance").select("*",{count:"exact",head:!0}).eq("date",e);return{date:new Date(e).toLocaleDateString("en-US",{weekday:"short"}),present:t||0,absent:(r||0)-(t||0),attendanceRate:r?(t||0)/r*100:0}})),r=await Promise.all(t);u(r)}catch(e){console.error("Error fetching attendance data:",e)}},_=async()=>{try{const{data:e}=await Ra.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(5);f(e||[])}catch(e){console.error("Error fetching recent activities:",e)}};return(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg p-6 text-white",children:(0,La.jsxs)("div",{className:"flex justify-between items-center",children:[(0,La.jsxs)("div",{children:[(0,La.jsxs)("h1",{className:"text-2xl font-bold",children:["Welcome back, ",null===e||void 0===e?void 0:e.full_name,"!"]}),(0,La.jsx)("p",{className:"text-primary-100 mt-1",children:"Here's what's happening at Anonang-Naguilian Community School today."})]}),t("admin")&&m.length>0&&(0,La.jsx)("div",{className:"flex items-center gap-4",children:(0,La.jsxs)("div",{className:"bg-white/20 rounded-lg p-3",children:[(0,La.jsx)(mc,{className:"w-6 h-6"}),(0,La.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:m.length})]})})]})}),t("admin")&&m.length>0&&(0,La.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,La.jsx)("h3",{className:"font-medium text-yellow-800 mb-2",children:"Recent Notifications"}),(0,La.jsx)("div",{className:"space-y-2",children:m.slice(0,3).map((e=>(0,La.jsxs)("div",{className:"text-sm text-yellow-700",children:[(0,La.jsxs)("strong",{children:[e.title,":"]})," ",e.message]},e.id)))}),h.length>0&&(0,La.jsx)("div",{className:"mt-3",children:(0,La.jsxs)("a",{href:"/users",className:"text-yellow-800 font-medium hover:underline",children:["Review ",h.length," pending registration(s) \u2192"]})})]}),(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center justify-between",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Total Pupils"}),(0,La.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.totalPupils})]}),(0,La.jsx)(Za,{className:"w-10 h-10 text-primary-600"})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center justify-between",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Total Teachers"}),(0,La.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.totalTeachers})]}),(0,La.jsx)(Za,{className:"w-10 h-10 text-secondary-600"})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center justify-between",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Today's Attendance"}),(0,La.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.todayAttendance})]}),(0,La.jsx)($a,{className:"w-10 h-10 text-success-600"})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center justify-between",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Average Grade"}),(0,La.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[r.averageGrade.toFixed(1),"%"]})]}),(0,La.jsx)(yc,{className:"w-10 h-10 text-warning-600"})]})})]}),(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"5-Year Enrollment Trends"}),(0,La.jsx)("div",{className:"h-80",children:(0,La.jsx)(Nu,{width:"100%",height:"100%",children:(0,La.jsxs)(KE,{data:i,children:[(0,La.jsx)(fP,{strokeDasharray:"3 3"}),(0,La.jsx)(RE,{dataKey:"year"}),(0,La.jsx)(ZE,{}),(0,La.jsx)(Pd,{}),(0,La.jsx)(tE,{type:"monotone",dataKey:"total",stroke:"#3b82f6",strokeWidth:3,name:"Total Enrollment"}),(0,La.jsx)(tE,{type:"monotone",dataKey:"male",stroke:"#10b981",strokeWidth:2,name:"Male"}),(0,La.jsx)(tE,{type:"monotone",dataKey:"female",stroke:"#f59e0b",strokeWidth:2,name:"Female"}),(0,La.jsx)(tE,{type:"monotone",dataKey:"fourPs",stroke:"#8b5cf6",strokeWidth:2,name:"4P's Beneficiaries"})]})})})]}),(0,La.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grade Distribution"}),(0,La.jsx)("div",{className:"h-64",children:(0,La.jsx)(Nu,{width:"100%",height:"100%",children:(0,La.jsxs)(hP,{data:s,children:[(0,La.jsx)(fP,{strokeDasharray:"3 3"}),(0,La.jsx)(RE,{dataKey:"grade",angle:-45,textAnchor:"end",height:100}),(0,La.jsx)(ZE,{}),(0,La.jsx)(Pd,{}),(0,La.jsx)(Uk,{dataKey:"count",fill:"#3b82f6"})]})})})]}),(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Weekly Attendance Rate"}),(0,La.jsx)("div",{className:"h-64",children:(0,La.jsx)(Nu,{width:"100%",height:"100%",children:(0,La.jsxs)(KE,{data:c,children:[(0,La.jsx)(fP,{strokeDasharray:"3 3"}),(0,La.jsx)(RE,{dataKey:"date"}),(0,La.jsx)(ZE,{}),(0,La.jsx)(Pd,{formatter:e=>["".concat(e,"%"),"Attendance Rate"]}),(0,La.jsx)(tE,{type:"monotone",dataKey:"attendanceRate",stroke:"#10b981",strokeWidth:3})]})})})]})]}),t("admin")&&(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activities"}),(0,La.jsx)("div",{className:"space-y-4",children:d.map((e=>(0,La.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,La.jsx)(gc,{className:"w-5 h-5 text-gray-400 mt-0.5"}),(0,La.jsxs)("div",{className:"flex-1",children:[(0,La.jsx)("p",{className:"text-sm text-gray-900",children:e.action}),(0,La.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleString()})]})]},e.id)))})]})]})},mP=Ha("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),yP=Ha("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),gP=Ha("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),vP=Ha("ArchiveRestore",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]]),bP=Ha("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),xP=Ha("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),wP=Ha("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),jP=Ha("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),_P=Ha("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]),kP=Ha("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),SP=Ha("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),OP=tc.object({email:tc.string().email("Invalid email address"),password:tc.string().min(6,"Password must be at least 6 characters").optional(),full_name:tc.string().min(2,"Full name is required"),role:tc.enum(["admin","teacher","parent"])}),NP=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[s,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[d,f]=(0,n.useState)(!1),[h,p]=(0,n.useState)("users"),[m,y]=(0,n.useState)(!1),[g,v]=(0,n.useState)(null),[b,x]=(0,n.useState)(null),[w,j]=(0,n.useState)(null),[_,k]=(0,n.useState)(!1),[S,O]=(0,n.useState)(1),[N,E]=(0,n.useState)(""),{register:P,handleSubmit:A,reset:T,formState:{errors:C}}=ko({resolver:Co(OP)});(0,n.useEffect)((()=>{M(),D()}),[]),(0,n.useEffect)((()=>{I()}),[e,s,c,h]);const M=async()=>{try{k(!0);const{data:e,error:r}=await Ra.from("users").select("*").order("created_at",{ascending:!1});if(r)throw r;t(e||[])}catch(e){console.error("Error fetching users:",e),Yt.error("Failed to load users")}finally{k(!1)}},D=async()=>{try{const{data:e,error:t}=await Ra.from("user_registrations").select("*").in("status",["pending","under_review"]).order("created_at",{ascending:!1});if(t)throw t;o(e||[])}catch(e){console.error("Error fetching pending registrations:",e)}},I=()=>{let t=e;"archived"===h?t=t.filter((e=>!0===e.archived)):"users"===h&&(t=t.filter((e=>!0!==e.archived))),s&&(t=t.filter((e=>e.full_name.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase())))),c&&(t=t.filter((e=>e.role===c))),a(t),O(1)},R=async function(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=r?"archive":"restore",a=e.find((e=>e.id===t));if(window.confirm("Are you sure you want to ".concat(n," ").concat(null===a||void 0===a?void 0:a.full_name,"?")))try{k(!0);const{data:{user:e}}=await Ra.auth.getUser();if(!e)return void Yt.error("You must be logged in to perform this action");const{data:a,error:o}=await Ra.rpc("archive_user",{target_user_id:t,should_archive:r,admin_user_id:e.id});if(o)throw console.error("Error calling archive function:",o),o;if(!a.success)throw new Error(a.error||"Failed to ".concat(n," user"));if(r)try{const{error:e}=await Ra.auth.admin.updateUserById(t,{ban_duration:"indefinite"});e&&console.warn("Could not disable auth user:",e)}catch(i){console.warn("Auth user disable failed:",i)}else try{const{error:e}=await Ra.auth.admin.updateUserById(t,{ban_duration:"none"});e&&console.warn("Could not enable auth user:",e)}catch(i){console.warn("Auth user enable failed:",i)}Yt.success(a.message),M()}catch(o){console.error("Error ".concat(n,"ing user:"),o),Yt.error(o.message||"Failed to ".concat(n," user"))}finally{k(!1)}},L=e=>{v(e),T({email:e.email,full_name:e.full_name,role:e.role}),y(!0)},F=()=>{y(!1),v(null),x(null),j(null),E(""),T()},z=e=>{switch(e){case"admin":return"bg-purple-100 text-purple-800";case"teacher":return"bg-blue-100 text-blue-800";case"parent":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},U=Math.ceil(r.length/10),B=10*(S-1),q=B+10,V=r.slice(B,q);return(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsxs)("div",{className:"flex justify-between items-center",children:[(0,La.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,La.jsx)("div",{className:"flex gap-3",children:(0,La.jsxs)("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[(0,La.jsx)(cc,{className:"w-4 h-4"}),"Add User"]})})]}),(0,La.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,La.jsx)("div",{className:"border-b border-gray-200",children:(0,La.jsxs)("nav",{className:"-mb-px flex space-x-8 px-6",children:[(0,La.jsxs)("button",{onClick:()=>p("users"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("users"===h?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Active Users (",e.filter((e=>!e.archived)).length,")"]}),(0,La.jsxs)("button",{onClick:()=>p("archived"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("archived"===h?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Archived Users (",e.filter((e=>e.archived)).length,")"]}),(0,La.jsxs)("button",{onClick:()=>p("pending"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("pending"===h?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," relative"),children:["Pending Registrations (",i.length,")",i.length>0&&(0,La.jsx)(mc,{className:"w-4 h-4 inline-block ml-1 text-orange-500"})]})]})}),("users"===h||"archived"===h)&&(0,La.jsxs)("div",{className:"p-6",children:[(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)(mP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,La.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Search by name or email...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),(0,La.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,La.jsx)("option",{value:"",children:"All Roles"}),(0,La.jsx)("option",{value:"admin",children:"Admin"}),(0,La.jsx)("option",{value:"teacher",children:"Teacher"}),(0,La.jsx)("option",{value:"parent",children:"Parent"})]})]}),(0,La.jsx)("div",{className:"flex items-end",children:(0,La.jsxs)("button",{onClick:M,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 flex items-center justify-center gap-2",children:[(0,La.jsx)(yP,{className:"w-4 h-4"}),"Refresh"]})})]}),_?(0,La.jsx)("div",{className:"text-center py-8",children:(0,La.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):(0,La.jsxs)(La.Fragment,{children:[(0,La.jsx)("div",{className:"overflow-x-auto",children:(0,La.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,La.jsx)("thead",{className:"bg-gray-50",children:(0,La.jsxs)("tr",{children:[(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,La.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map((t=>(0,La.jsxs)("tr",{className:t.archived?"bg-gray-50":"",children:[(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,La.jsxs)("div",{className:"flex items-center",children:[(0,La.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:t.profile_picture?(0,La.jsx)("img",{src:t.profile_picture,alt:t.full_name,className:"h-10 w-10 rounded-full object-cover"}):(0,La.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,La.jsx)("span",{className:"text-blue-600 font-medium",children:t.full_name.charAt(0).toUpperCase()})})}),(0,La.jsxs)("div",{className:"ml-4",children:[(0,La.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.full_name}),t.phone_number&&(0,La.jsx)("div",{className:"text-sm text-gray-500",children:t.phone_number})]})]})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.email}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,La.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(z(t.role)),children:t.role})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,La.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(t.archived?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:t.archived?"Archived":"Active"})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString()}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,La.jsxs)("div",{className:"flex gap-2",children:[(0,La.jsx)("button",{onClick:()=>(e=>{j(e)})(t),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:(0,La.jsx)(nc,{className:"w-4 h-4"})}),(0,La.jsx)("button",{onClick:()=>L(t),className:"text-indigo-600 hover:text-indigo-900",title:"Edit User",children:(0,La.jsx)(gP,{className:"w-4 h-4"})}),t.archived?(0,La.jsxs)(La.Fragment,{children:[(0,La.jsx)("button",{onClick:()=>R(t.id,!1),className:"text-green-600 hover:text-green-900",title:"Restore User",children:(0,La.jsx)(vP,{className:"w-4 h-4"})}),(0,La.jsx)("button",{onClick:()=>(async t=>{const r=e.find((e=>e.id===t));if(window.confirm("Are you sure you want to permanently delete ".concat(null===r||void 0===r?void 0:r.full_name,"? This action cannot be undone.")))try{k(!0);const{data:{user:e}}=await Ra.auth.getUser();if(!e)return void Yt.error("You must be logged in to perform this action");const{data:r,error:a}=await Ra.rpc("delete_user_permanently",{target_user_id:t,admin_user_id:e.id});if(a)throw console.error("Error calling delete function:",a),a;if(!r.success)throw new Error(r.error||"Failed to delete user");try{const{error:e}=await Ra.auth.admin.deleteUser(t);e&&console.warn("Could not delete auth user:",e)}catch(n){console.warn("Auth user deletion failed:",n)}Yt.success(r.message),M()}catch(a){console.error("Error deleting user:",a),Yt.error(a.message||"Failed to delete user")}finally{k(!1)}})(t.id),className:"text-red-600 hover:text-red-900",title:"Delete Permanently",children:(0,La.jsx)(bP,{className:"w-4 h-4"})})]}):(0,La.jsx)("button",{onClick:()=>R(t.id,!0),className:"text-orange-600 hover:text-orange-900",title:"Archive User",children:(0,La.jsx)(xP,{className:"w-4 h-4"})})]})})]},t.id)))})]})}),(0,La.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,La.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",B+1," to ",Math.min(q,r.length)," of"," ",r.length," results"]}),(0,La.jsxs)("div",{className:"flex items-center gap-2",children:[(0,La.jsx)("button",{onClick:()=>O((e=>Math.max(e-1,1))),disabled:1===S,className:"px-3 py-1 rounded-md bg-gray-100 text-gray-700 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,La.jsx)(wP,{className:"w-4 h-4"})}),(0,La.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",S," of ",U]}),(0,La.jsx)("button",{onClick:()=>O((e=>Math.min(e+1,U))),disabled:S===U,className:"px-3 py-1 rounded-md bg-gray-100 text-gray-700 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,La.jsx)(jP,{className:"w-4 h-4"})})]})]})]})]}),"pending"===h&&(0,La.jsx)("div",{className:"p-6",children:0===i.length?(0,La.jsxs)("div",{className:"text-center py-12",children:[(0,La.jsx)(mc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,La.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Pending Registrations"}),(0,La.jsx)("p",{className:"text-gray-500",children:"All registration requests have been processed."})]}):(0,La.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((e=>(0,La.jsxs)("div",{className:"bg-white border rounded-lg p-6 shadow-sm",children:[(0,La.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,La.jsxs)("div",{className:"flex items-center space-x-3",children:[e.profile_picture?(0,La.jsx)("img",{src:e.profile_picture,alt:e.full_name,className:"w-12 h-12 rounded-full object-cover"}):(0,La.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center",children:(0,La.jsx)("span",{className:"text-gray-600 font-medium",children:e.full_name.charAt(0).toUpperCase()})}),(0,La.jsxs)("div",{children:[(0,La.jsx)("h4",{className:"font-medium text-gray-900",children:e.full_name}),(0,La.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]})]}),(0,La.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.status})]}),(0,La.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,La.jsxs)("p",{className:"text-sm",children:[(0,La.jsx)("span",{className:"font-medium",children:"Role:"})," ",e.role]}),(0,La.jsxs)("p",{className:"text-sm",children:[(0,La.jsx)("span",{className:"font-medium",children:"Phone:"})," ",e.phone_number||"Not provided"]}),(0,La.jsxs)("p",{className:"text-sm",children:[(0,La.jsx)("span",{className:"font-medium",children:"Applied:"})," ",new Date(e.created_at).toLocaleDateString()]}),e.reason_for_application&&(0,La.jsxs)("p",{className:"text-sm",children:[(0,La.jsx)("span",{className:"font-medium",children:"Reason:"})," ",e.reason_for_application]})]}),(0,La.jsxs)("div",{className:"flex gap-2",children:[(0,La.jsxs)("button",{onClick:()=>x(e),className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-md text-sm hover:bg-blue-700 flex items-center justify-center gap-1",children:[(0,La.jsx)(nc,{className:"w-4 h-4"}),"Review"]}),e.valid_id_document&&(0,La.jsx)("button",{onClick:()=>window.open(e.valid_id_document,"_blank"),className:"px-3 py-2 border border-gray-300 rounded-md text-sm hover:bg-gray-50 flex items-center justify-center",title:"View ID Document",children:(0,La.jsx)(_P,{className:"w-4 h-4"})})]})]},e.id)))})})]}),m&&(0,La.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,La.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,La.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:F}),(0,La.jsxs)("div",{className:"relative bg-white rounded-lg max-w-md w-full p-6",children:[(0,La.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:g?"Edit User":"Add New User"}),(0,La.jsxs)("div",{className:"space-y-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,La.jsx)("input",Re(Re({},P("full_name")),{},{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full name"})),C.full_name&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.full_name.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,La.jsx)("input",Re(Re({},P("email")),{},{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email",disabled:!!g})),C.email&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.email.message})]}),!g&&(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,La.jsx)("input",Re(Re({},P("password")),{},{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password"})),C.password&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.password.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),(0,La.jsxs)("select",Re(Re({},P("role")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,La.jsx)("option",{value:"parent",children:"Parent"}),(0,La.jsx)("option",{value:"teacher",children:"Teacher"}),(0,La.jsx)("option",{value:"admin",children:"Admin"})]})),C.role&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.role.message})]}),(0,La.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,La.jsx)("button",{type:"button",onClick:F,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),(0,La.jsxs)("button",{type:"button",onClick:A((async e=>{try{if(k(!0),g){const t={full_name:e.full_name,role:e.role,updated_at:(new Date).toISOString()},{error:r}=await Ra.from("users").update(t).eq("id",g.id);if(r)throw r;const{data:{user:n}}=await Ra.auth.getUser();n&&await Ra.from("audit_logs").insert({user_id:n.id,action:"update_user",entity_type:"users",entity_id:g.id,old_values:g,new_values:Re(Re({},g),t)}),Yt.success("User updated successfully")}else{const{data:{user:t}}=await Ra.auth.getUser();if(!t)return void Yt.error("You must be logged in to create users");const{data:r,error:n}=await Ra.auth.signUp({email:e.email,password:e.password,options:{data:{full_name:e.full_name,role:e.role}}});if(n)throw n;if(r.user){const{data:n,error:a}=await Ra.rpc("create_user_by_admin",{user_email:e.email,user_password:e.password,user_full_name:e.full_name,user_role:e.role,admin_user_id:t.id});if(a)throw console.error("Error calling create user function:",a),a;if(!n.success)throw new Error(n.error||"Failed to create user profile");await Ra.from("users").update({id:r.user.id}).eq("id",n.user_id),Yt.success("User created successfully")}}M(),F()}catch(t){console.error("Error saving user:",t),Yt.error(t.message||"Failed to save user")}finally{k(!1)}})),disabled:_,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50",children:[_?"Saving...":g?"Update":"Create"," User"]})]})]})]})]})}),w&&(0,La.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,La.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,La.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:F}),(0,La.jsxs)("div",{className:"relative bg-white rounded-lg max-w-2xl w-full p-6",children:[(0,La.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:["User Details - ",w.full_name]}),(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,La.jsx)("p",{className:"text-sm text-gray-900",children:w.full_name})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,La.jsx)("p",{className:"text-sm text-gray-900",children:w.email})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,La.jsx)("p",{className:"text-sm text-gray-900 capitalize",children:w.role})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,La.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(w.archived?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:w.archived?"Archived":"Active"})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,La.jsx)("p",{className:"text-sm text-gray-900",children:w.phone_number||"Not provided"})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Created"}),(0,La.jsx)("p",{className:"text-sm text-gray-900",children:new Date(w.created_at).toLocaleDateString()})]})]}),w.address&&(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,La.jsx)("p",{className:"text-sm text-gray-900",children:w.address})]}),w.profile_picture&&(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),(0,La.jsx)("img",{src:w.profile_picture,alt:"Profile",className:"w-32 h-32 rounded-lg object-cover"})]}),(0,La.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,La.jsx)("button",{onClick:F,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Close"}),(0,La.jsx)("button",{onClick:()=>{j(null),L(w)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Edit User"})]})]})]})]})}),b&&(0,La.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,La.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,La.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:F}),(0,La.jsxs)("div",{className:"relative bg-white rounded-lg max-w-2xl w-full p-6",children:[(0,La.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:["Registration Review - ",b.full_name]}),(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,La.jsx)("p",{className:"text-sm text-gray-900",children:b.full_name})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,La.jsx)("p",{className:"text-sm text-gray-900",children:b.email})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,La.jsx)("p",{className:"text-sm text-gray-900 capitalize",children:b.role})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,La.jsx)("p",{className:"text-sm text-gray-900",children:b.phone_number||"Not provided"})]})]}),b.address&&(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,La.jsx)("p",{className:"text-sm text-gray-900",children:b.address})]}),b.reason_for_application&&(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Reason for Application"}),(0,La.jsx)("p",{className:"text-sm text-gray-900",children:b.reason_for_application})]}),b.profile_picture&&(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),(0,La.jsx)("img",{src:b.profile_picture,alt:"Profile",className:"w-32 h-32 rounded-lg object-cover"})]}),b.valid_id_document&&(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid ID Document"}),(0,La.jsx)("img",{src:b.valid_id_document,alt:"Valid ID",className:"w-64 h-40 rounded-lg object-cover cursor-pointer",onClick:()=>window.open(b.valid_id_document,"_blank")})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason (if rejecting)"}),(0,La.jsx)("textarea",{value:N,onChange:e=>E(e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter reason for rejection..."})]}),(0,La.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,La.jsx)("button",{onClick:F,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),(0,La.jsxs)("button",{onClick:()=>(async(e,t)=>{if(t.trim())try{k(!0);const{data:{user:r}}=await Ra.auth.getUser();if(!r)return void Yt.error("You must be logged in to reject registrations");const{data:n,error:a}=await Ra.rpc("reject_user_registration",{registration_id:e,rejection_reason:t,admin_user_id:r.id});if(a)throw console.error("Error calling reject function:",a),a;if(!n.success)throw new Error(n.error||"Failed to reject registration");Yt.success("Registration rejected successfully"),D(),x(null),E("")}catch(r){console.error("Error rejecting registration:",r),Yt.error(r.message||"Failed to reject registration")}finally{k(!1)}else Yt.error("Please provide a reason for rejection")})(b.id,N),disabled:_,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md flex items-center gap-2 disabled:opacity-50",children:[(0,La.jsx)(kP,{className:"w-4 h-4"}),"Reject"]}),(0,La.jsxs)("button",{onClick:()=>(async e=>{try{k(!0);const{data:{user:t}}=await Ra.auth.getUser();if(!t)return void Yt.error("You must be logged in to approve registrations");console.log("Attempting to approve registration:",e.id);const{data:r,error:n}=await Ra.rpc("debug_registration_status",{registration_id:e.id});n?console.error("Debug error:",n):console.log("Registration debug info:",r);const{data:a,error:i}=await Ra.rpc("approve_user_registration",{registration_id:e.id,admin_user_id:t.id});if(i)throw console.error("Error calling approve function:",i),i;if(!a.success)throw console.error("Approval failed:",a.error),new Error(a.error||"Failed to approve registration");const o=a.registration_data;if(a.already_exists)return Yt.success("Registration approved! Please check email for confirmation.",{duration:8e3,icon:"\ud83d\udce7"}),alert("Registration for ".concat(o.full_name," has been approved!\n\nEmail: ").concat(o.email,"\n\n\ud83d\udce7 Please confirm your email in Google Mail App to complete the setup.\n\nAfter email confirmation, you can login with your chosen password.")),M(),D(),void x(null);const{data:s,error:l}=await Ra.auth.signUp({email:o.email,password:o.password,options:{data:{full_name:o.full_name,role:o.role}}});if(l)throw console.error("Auth user creation error:",l),await Ra.from("user_registrations").update({status:"pending"}).eq("id",e.id),new Error("Failed to create user account: "+l.message);if(!s.user)throw new Error("Failed to create user account");const{data:c,error:u}=await Ra.rpc("create_user_profile_after_auth",{auth_user_id:s.user.id,user_email:o.email,user_full_name:o.full_name,user_role:o.role,user_phone:o.phone_number,user_address:o.address,user_profile_picture:o.profile_picture});if(u)throw console.error("Profile creation error:",u),new Error("Failed to create user profile: "+u.message);if(!c.success)throw new Error(c.error||"Failed to create user profile");Yt.success("Registration approved! Please check email for confirmation.",{duration:8e3,icon:"\ud83d\udce7"}),alert("User ".concat(o.full_name," has been approved successfully!\n\nEmail: ").concat(o.email,"\n\n\ud83d\udce7 Please confirm your email in Google Mail App to complete the setup.\n\nAfter email confirmation, you can login with your chosen password.")),M(),D(),x(null)}catch(t){console.error("Error approving registration:",t),t.message.includes("already processed")?(Yt.error("This registration has already been processed. Please refresh the page."),D()):t.message.includes("does not exist")?(Yt.error("Registration not found. Please refresh the page."),D()):t.message.includes("duplicate key")||t.message.includes("already exists")?(Yt.success("Registration approved! Please check email for confirmation.",{duration:8e3,icon:"\ud83d\udce7"}),alert("Registration approved!\n\n\ud83d\udce7 Please confirm your email in Google Mail App to complete the setup.\n\nAfter email confirmation, you can login with your chosen password."),M(),D()):Yt.error(t.message||"Failed to approve registration")}finally{k(!1)}})(b),disabled:_,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md flex items-center gap-2 disabled:opacity-50",children:[(0,La.jsx)(SP,{className:"w-4 h-4"}),"Approve"]})]})]})]})]})})]})},EP=Ha("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),PP=Ha("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),AP=Ha("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),TP=Ha("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),CP=Ha("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),MP=Ha("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),DP=tc.object({pupil_id:tc.string().min(1,"Pupil ID is required"),first_name:tc.string().min(2,"First name is required"),last_name:tc.string().min(2,"Last name is required"),middle_name:tc.string().optional().nullable(),grade_level:tc.number().min(1).max(6),section:tc.string().min(1,"Section is required"),parent_id:tc.string().optional().nullable(),gender:tc.enum(["male","female"]),birth_date:tc.string().min(1,"Birth date is required"),address:tc.string().optional().nullable(),is_4ps_beneficiary:tc.boolean().default(!1)}),IP=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[s,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(null),[d,f]=(0,n.useState)(""),[h,p]=(0,n.useState)(!1),[m,y]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1),[b,x]=(0,n.useState)(null),[w,j]=(0,n.useState)(!1),[_,k]=(0,n.useState)(null),[S,O]=(0,n.useState)(""),[N,E]=(0,n.useState)(new Set),[P,A]=(0,n.useState)(null),[T,C]=(0,n.useState)(null),[M,D]=(0,n.useState)(""),{register:I,handleSubmit:R,reset:L,setValue:F,formState:{errors:z}}=ko({resolver:Co(DP)});(0,n.useEffect)((()=>{U(),B()}),[]),(0,n.useEffect)((()=>{q()}),[e,s,c,d,h]);const U=async()=>{try{j(!0);const{data:e,error:r}=await Ra.from("pupils").select("\n          *,\n          parent:users!parent_id (\n            id,\n            full_name,\n            email\n          )\n        ").order("grade_level",{ascending:!0}).order("section",{ascending:!0}).order("last_name",{ascending:!0});if(r)throw r;t(e||[])}catch(e){console.error("Error fetching pupils:",e),Yt.error("Failed to load pupils")}finally{j(!1)}},B=async()=>{try{const{data:e,error:t}=await Ra.from("users").select("id, full_name, email").eq("role","parent").neq("archived",!0).order("full_name");if(t)throw t;o(e||[])}catch(e){console.error("Error fetching parents:",e)}},q=()=>{let t=e;t=h?t.filter((e=>!0===e.archived)):t.filter((e=>!0!==e.archived)),s&&(t=t.filter((e=>"".concat(e.first_name," ").concat(e.last_name).toLowerCase().includes(s.toLowerCase())||e.pupil_id.toLowerCase().includes(s.toLowerCase())))),c&&(t=t.filter((e=>e.grade_level===c))),d&&(t=t.filter((e=>e.section.toLowerCase().includes(d.toLowerCase())))),a(t)},V=async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=t?"archive":"restore";if(window.confirm("Are you sure you want to ".concat(r," this pupil?")))try{j(!0);const{error:r}=await Ra.from("pupils").update({archived:t,updated_at:(new Date).toISOString()}).eq("id",e);if(r)throw r;await Ra.from("audit_logs").insert({user_id:"current_user_id",action:t?"archive_pupil":"restore_pupil",entity_type:"pupils",entity_id:e,old_values:{archived:!t},new_values:{archived:t}}),Yt.success("Pupil ".concat(t?"archived":"restored"," successfully")),U()}catch(n){console.error("Error ".concat(r,"ing pupil:"),n),Yt.error(n.message||"Failed to ".concat(r," pupil"))}finally{j(!1)}},W=()=>{y(!1),v(!1),x(null),k(null),O(""),E(new Set),A(null),C(null),D(""),L()},H=P?r.filter((e=>e.grade_level===P&&!e.archived)):[];return(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsxs)("div",{className:"flex justify-between items-center",children:[(0,La.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Pupil Management"}),(0,La.jsxs)("div",{className:"flex gap-3",children:[(0,La.jsxs)("button",{onClick:()=>v(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[(0,La.jsx)(EP,{className:"w-4 h-4"}),"Promote Pupils"]}),(0,La.jsxs)("button",{onClick:async()=>{try{const e=r.map((e=>{var t,r;return[e.pupil_id,e.last_name,e.first_name,e.middle_name||"",e.grade_level,e.section,e.gender,e.birth_date,e.is_4ps_beneficiary?"Yes":"No",(null===(t=e.parent)||void 0===t?void 0:t.full_name)||"",(null===(r=e.parent)||void 0===r?void 0:r.email)||""].join(",")})).join("\n"),t=new Blob(["Pupil ID,Last Name,First Name,Middle Name,Grade Level,Section,Gender,Birth Date,4Ps Beneficiary,Parent Name,Parent Email\n"+e],{type:"text/csv"}),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="pupils_Grade".concat(c||"All","_").concat((new Date).toISOString().split("T")[0],".csv"),a.click()}catch(e){console.error("Error exporting pupils:",e),Yt.error("Failed to export pupils")}},className:"btn-secondary",children:[(0,La.jsx)(PP,{className:"w-4 h-4 mr-2"}),"Export"]}),(0,La.jsxs)("button",{onClick:()=>y(!0),className:"btn-primary",children:[(0,La.jsx)(cc,{className:"w-4 h-4 mr-2"}),"Add Pupil"]})]})]}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)(mP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,La.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Search by name or ID...",className:"input-field pl-10"})]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),(0,La.jsxs)("select",{value:c||"",onChange:e=>u(e.target.value?parseInt(e.target.value):null),className:"input-field",children:[(0,La.jsx)("option",{value:"",children:"All Grades"}),[1,2,3,4,5,6].map((e=>(0,La.jsxs)("option",{value:e,children:["Grade ",e]},e)))]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),(0,La.jsx)("input",{type:"text",value:d,onChange:e=>f(e.target.value),placeholder:"Enter section",className:"input-field"})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,La.jsxs)("select",{value:h?"archived":"active",onChange:e=>p("archived"===e.target.value),className:"input-field",children:[(0,La.jsx)("option",{value:"active",children:"Active Pupils"}),(0,La.jsx)("option",{value:"archived",children:"Archived Pupils"})]})]}),(0,La.jsx)("div",{className:"flex items-end",children:(0,La.jsxs)("div",{className:"w-full",children:[(0,La.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Total: ",r.length]}),(0,La.jsxs)("div",{className:"text-xs text-gray-500",children:["4P's: ",r.filter((e=>e.is_4ps_beneficiary)).length]})]})})]})}),(0,La.jsx)("div",{className:"card",children:w?(0,La.jsx)("div",{className:"text-center py-8",children:(0,La.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"})}):(0,La.jsx)("div",{className:"overflow-x-auto",children:(0,La.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,La.jsx)("thead",{className:"bg-gray-50",children:(0,La.jsxs)("tr",{children:[(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pupil ID"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade & Section"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gender"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"4P's"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,La.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((e=>(0,La.jsxs)("tr",{className:e.archived?"bg-gray-50":"",children:[(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.pupil_id}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,La.jsxs)("div",{className:"flex items-center",children:[(0,La.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:e.profile_picture?(0,La.jsx)("img",{src:e.profile_picture,alt:"".concat(e.first_name," ").concat(e.last_name),className:"h-10 w-10 rounded-full object-cover"}):(0,La.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:(0,La.jsx)(AP,{className:"w-5 h-5 text-primary-600"})})}),(0,La.jsxs)("div",{className:"ml-4",children:[(0,La.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.middle_name?e.middle_name.charAt(0)+". ":"",e.last_name]}),(0,La.jsxs)("div",{className:"text-sm text-gray-500",children:["Born: ",new Date(e.birth_date).toLocaleDateString()]})]})]})}),(0,La.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Grade ",e.grade_level," - ",e.section]}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:e.gender}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.is_4ps_beneficiary?(0,La.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"Yes"}):(0,La.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"No"})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.parent?(0,La.jsxs)("div",{children:[(0,La.jsx)("div",{children:e.parent.full_name}),(0,La.jsx)("div",{className:"text-xs text-gray-400",children:e.parent.email})]}):"No parent assigned"}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,La.jsxs)("div",{className:"flex gap-2",children:[(0,La.jsx)("button",{onClick:()=>(e=>{x(e),O(e.profile_picture||""),L({pupil_id:e.pupil_id,first_name:e.first_name,last_name:e.last_name,middle_name:e.middle_name||void 0,grade_level:e.grade_level,section:e.section,parent_id:e.parent_id||void 0,gender:e.gender,birth_date:e.birth_date,address:e.address||void 0,is_4ps_beneficiary:e.is_4ps_beneficiary}),y(!0)})(e),className:"text-primary-600 hover:text-primary-900",title:"Edit Pupil",children:(0,La.jsx)(gP,{className:"w-4 h-4"})}),e.archived?(0,La.jsx)("button",{onClick:()=>V(e.id,!1),className:"text-green-600 hover:text-green-900",title:"Restore Pupil",children:(0,La.jsx)(vP,{className:"w-4 h-4"})}):(0,La.jsx)("button",{onClick:()=>V(e.id,!0),className:"text-orange-600 hover:text-orange-900",title:"Archive Pupil",children:(0,La.jsx)(xP,{className:"w-4 h-4"})})]})})]},e.id)))})]})})}),m&&(0,La.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,La.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,La.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:W}),(0,La.jsxs)("div",{className:"relative bg-white rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,La.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:b?"Edit Pupil":"Add New Pupil"}),(0,La.jsxs)("div",{className:"space-y-4",children:[(0,La.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200",children:S?(0,La.jsx)("img",{src:S,alt:"Profile preview",className:"w-full h-full object-cover"}):(0,La.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,La.jsx)(AP,{className:"w-12 h-12"})})}),(0,La.jsxs)("label",{className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700",children:[(0,La.jsx)(TP,{className:"w-4 h-4"}),(0,La.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){k(r);const e=new FileReader;e.onloadend=()=>{O(e.result)},e.readAsDataURL(r)}},className:"hidden"})]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Upload pupil's photo"}),(0,La.jsx)("p",{className:"text-xs text-gray-500",children:"Recommended: 300x300px, max 2MB"})]})]}),(0,La.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pupil ID (LRN)"}),(0,La.jsx)("input",Re(Re({},I("pupil_id")),{},{type:"text",className:"input-field",placeholder:"Enter pupil ID/LRN"})),z.pupil_id&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:z.pupil_id.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),(0,La.jsxs)("select",Re(Re({},I("gender")),{},{className:"input-field",children:[(0,La.jsx)("option",{value:"male",children:"Male"}),(0,La.jsx)("option",{value:"female",children:"Female"})]}))]})]}),(0,La.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,La.jsx)("input",Re(Re({},I("first_name")),{},{type:"text",className:"input-field",placeholder:"First name"})),z.first_name&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:z.first_name.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Middle Name"}),(0,La.jsx)("input",Re(Re({},I("middle_name")),{},{type:"text",className:"input-field",placeholder:"Middle name"}))]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,La.jsx)("input",Re(Re({},I("last_name")),{},{type:"text",className:"input-field",placeholder:"Last name"})),z.last_name&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:z.last_name.message})]})]}),(0,La.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),(0,La.jsx)("select",Re(Re({},I("grade_level",{valueAsNumber:!0})),{},{className:"input-field",children:[1,2,3,4,5,6].map((e=>(0,La.jsxs)("option",{value:e,children:["Grade ",e]},e)))}))]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),(0,La.jsx)("input",Re(Re({},I("section")),{},{type:"text",className:"input-field",placeholder:"Section"})),z.section&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:z.section.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Birth Date"}),(0,La.jsx)("input",Re(Re({},I("birth_date")),{},{type:"date",className:"input-field"})),z.birth_date&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:z.birth_date.message})]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,La.jsx)("textarea",Re(Re({},I("address")),{},{rows:2,className:"input-field",placeholder:"Complete address"}))]}),(0,La.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parent (Optional)"}),(0,La.jsxs)("select",Re(Re({},I("parent_id")),{},{className:"input-field",defaultValue:"",children:[(0,La.jsx)("option",{value:"",children:"No parent assigned"}),i.map((e=>(0,La.jsxs)("option",{value:e.id,children:[e.full_name," (",e.email,")"]},e.id)))]}))]}),(0,La.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,La.jsx)("input",Re(Re({},I("is_4ps_beneficiary")),{},{type:"checkbox",id:"is_4ps_beneficiary",className:"w-4 h-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500"})),(0,La.jsx)("label",{htmlFor:"is_4ps_beneficiary",className:"text-sm font-medium text-gray-700",children:"4P's Beneficiary"})]})]}),(0,La.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,La.jsx)("button",{type:"button",onClick:W,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),(0,La.jsxs)("button",{type:"button",onClick:R((async e=>{try{j(!0);const t={pupil_id:e.pupil_id,first_name:e.first_name,last_name:e.last_name,middle_name:e.middle_name||null,grade_level:e.grade_level,section:e.section,parent_id:e.parent_id||null,gender:e.gender,birth_date:e.birth_date,address:e.address||null,is_4ps_beneficiary:e.is_4ps_beneficiary,updated_at:(new Date).toISOString()};let r=null===b||void 0===b?void 0:b.id;if(b){const{error:e}=await Ra.from("pupils").update(t).eq("id",b.id);if(e)throw e;Yt.success("Pupil updated successfully")}else{const{data:e,error:n}=await Ra.from("pupils").insert(Re(Re({},t),{},{enrollment_date:(new Date).toISOString(),created_at:(new Date).toISOString()})).select().single();if(n)throw n;r=e.id,Yt.success("Pupil created successfully")}if(_&&r){const e=await(async e=>{if(!_)return null;try{const t=_.name.split(".").pop(),r="".concat(e,"-").concat(Date.now(),".").concat(t),n="pupil-pictures/".concat(r),{error:a}=await Ra.storage.from("pupil-images").upload(n,_);if(a)throw a;const{data:{publicUrl:i}}=Ra.storage.from("pupil-images").getPublicUrl(n);return i}catch(t){return console.error("Error uploading profile picture:",t),null}})(r);e&&await Ra.from("pupils").update({profile_picture:e}).eq("id",r)}await Ra.from("audit_logs").insert({user_id:"current_user_id",action:b?"update_pupil":"create_pupil",entity_type:"pupils",entity_id:r,old_values:b||null,new_values:t}),U(),W()}catch(t){console.error("Error saving pupil:",t),Yt.error(t.message||"Failed to save pupil")}finally{j(!1)}})),disabled:w,className:"btn-primary",children:[w?"Saving...":b?"Update":"Create"," Pupil"]})]})]})]})]})}),g&&(0,La.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,La.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,La.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:W}),(0,La.jsxs)("div",{className:"relative bg-white rounded-lg max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,La.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Promote Pupils to Next Grade Level"}),(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Step 1: Select Grade Level to Promote From"}),(0,La.jsx)("div",{className:"grid grid-cols-6 gap-3",children:[1,2,3,4,5,6].map((t=>(0,La.jsxs)("button",{onClick:()=>(e=>{A(e),E(new Set);const t=r.filter((t=>t.grade_level===e&&!t.archived));E(new Set(t.map((e=>e.id))))})(t),className:"p-3 rounded-lg border text-center ".concat(P===t?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[(0,La.jsxs)("div",{className:"font-medium",children:["Grade ",t]}),(0,La.jsxs)("div",{className:"text-sm text-gray-500",children:[e.filter((e=>e.grade_level===t&&!e.archived)).length," pupils"]})]},t)))})]}),P&&(0,La.jsxs)("div",{children:[(0,La.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Step 2: Select Destination"}),(0,La.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promote to Grade Level"}),(0,La.jsxs)("select",{value:T||"",onChange:e=>C(e.target.value?parseInt(e.target.value):null),className:"input-field",children:[(0,La.jsx)("option",{value:"",children:"Select grade"}),[P+1,P+2].filter((e=>e<=7)).map((e=>(0,La.jsx)("option",{value:e,children:e<=6?"Grade ".concat(e):"Graduated"},e)))]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),(0,La.jsx)("input",{type:"text",value:M,onChange:e=>D(e.target.value),className:"input-field",placeholder:"Enter section name"})]})]})]}),P&&H.length>0&&(0,La.jsxs)("div",{children:[(0,La.jsxs)("h3",{className:"text-md font-medium text-gray-900 mb-3",children:["Step 3: Select Pupils to Promote (",N.size," selected)"]}),(0,La.jsx)("div",{className:"max-h-64 overflow-y-auto border rounded-lg",children:(0,La.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,La.jsx)("thead",{className:"bg-gray-50",children:(0,La.jsxs)("tr",{children:[(0,La.jsx)("th",{className:"px-4 py-2 text-left",children:(0,La.jsxs)("button",{onClick:()=>{N.size===H.length?E(new Set):E(new Set(H.map((e=>e.id))))},className:"flex items-center space-x-2",children:[N.size===H.length?(0,La.jsx)(CP,{className:"w-4 h-4 text-blue-600"}):(0,La.jsx)(MP,{className:"w-4 h-4 text-gray-400"}),(0,La.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Select All"})]})}),(0,La.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Pupil ID"}),(0,La.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),(0,La.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Section"})]})}),(0,La.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map((e=>(0,La.jsxs)("tr",{children:[(0,La.jsx)("td",{className:"px-4 py-2",children:(0,La.jsx)("button",{onClick:()=>(e=>{const t=new Set(N);t.has(e)?t.delete(e):t.add(e),E(t)})(e.id),className:"flex items-center",children:N.has(e.id)?(0,La.jsx)(CP,{className:"w-4 h-4 text-blue-600"}):(0,La.jsx)(MP,{className:"w-4 h-4 text-gray-400"})})}),(0,La.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.pupil_id}),(0,La.jsxs)("td",{className:"px-4 py-2 text-sm text-gray-900",children:[e.first_name," ",e.last_name]}),(0,La.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:e.section})]},e.id)))})]})})]}),(0,La.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,La.jsx)("button",{type:"button",onClick:W,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),(0,La.jsxs)("button",{type:"button",onClick:async()=>{if(T&&M&&0!==N.size)try{j(!0);const e=Array.from(N),{error:t}=await Ra.from("pupils").update({grade_level:T,section:M,updated_at:(new Date).toISOString()}).in("id",e);if(t)throw t;for(const r of e)await Ra.from("audit_logs").insert({user_id:"current_user_id",action:"promote_pupil",entity_type:"pupils",entity_id:r,old_values:{grade_level:P},new_values:{grade_level:T,section:M}});Yt.success("Successfully promoted ".concat(e.length," pupils to Grade ").concat(T," - ").concat(M)),U(),W()}catch(e){console.error("Error promoting pupils:",e),Yt.error(e.message||"Failed to promote pupils")}finally{j(!1)}else Yt.error("Please select destination grade, section, and pupils to promote")},disabled:w||!T||!M||0===N.size,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,La.jsx)(EP,{className:"w-4 h-4"}),w?"Promoting...":"Promote ".concat(N.size," Pupils")]})]})]})]})]})})]})},RP=Ha("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),LP=Ha("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),FP=e=>e.toISOString().split("T")[0],zP=tc.object({grades:tc.array(tc.object({pupil_id:tc.string(),final_grade:tc.number().min(60).max(100,"Grade must be between 60-100")}))}),UP=()=>{var e;const{user:t,isRole:r}=za(),[a,i]=(0,n.useState)([]),[o,s]=(0,n.useState)([]),[l,c]=(0,n.useState)([]),[u,d]=(0,n.useState)(null),[f,h]=(0,n.useState)(""),[p,m]=(0,n.useState)("1"),[y,g]=(0,n.useState)(""),[v,b]=(0,n.useState)(""),[x,w]=(0,n.useState)(!1),[j,_]=(0,n.useState)({}),[k,S]=(0,n.useState)([]),[O,N]=(0,n.useState)("entry"),[E,P]=(0,n.useState)(!1),{register:A,handleSubmit:T,reset:C,setValue:M,watch:D,formState:{errors:I}}=ko({resolver:Co(zP)});(0,n.useEffect)((()=>{R()}),[u,f,p,y]),(0,n.useEffect)((()=>{"averages"===O&&L()}),[O,o,a]);const R=async()=>{try{w(!0);let e=Ra.from("pupils").select("*").eq("archived",!1);if(u&&(e=e.eq("grade_level",u)),f&&(e=e.eq("section",f)),r("teacher")){const{data:r}=await Ra.from("teacher_assignments").select("grade_level, section").eq("teacher_id",null===t||void 0===t?void 0:t.id);if(r&&r.length>0){const t=r.map((e=>"and(grade_level.eq.".concat(e.grade_level,",section.eq.").concat(e.section,")"))).join(",");e=e.or(t)}}const{data:n,error:a}=await e.order("last_name");if(a)throw a;s(n||[]);let o=Ra.from("subjects").select("*");if(u&&(o=o.eq("grade_level",u)),r("teacher")){const{data:e}=await Ra.from("teacher_subjects").select("subject_id").eq("teacher_id",null===t||void 0===t?void 0:t.id);if(e&&e.length>0){const t=e.map((e=>e.subject_id));o=o.in("id",t)}}const{data:l,error:d}=await o;if(d)throw d;if(c(l||[]),n&&n.length>0&&y&&p){const e=n.map((e=>e.id)),{data:t,error:r}=await Ra.from("grades").select("\n            *,\n            pupils!inner (\n              pupil_id,\n              first_name,\n              last_name,\n              middle_name,\n              grade_level,\n              section,\n              profile_picture\n            ),\n            subjects!inner (\n              name,\n              code\n            )\n          ").eq("quarter",p).eq("subject_id",y).in("pupil_id",e);if(r)throw r;if(i(t||[]),"entry"===O){const e={};null===t||void 0===t||t.forEach((t=>{e[t.pupil_id]=t.final_grade})),_(e)}}else i([]),_({})}catch(e){console.error("Error fetching data:",e),Yt.error(e.message||"Failed to load data")}finally{w(!1)}},L=async()=>{if(o.length)try{const e=[];for(const t of o){const r=[1,2,3,4],n={};for(const e of r){const{data:r}=await Ra.from("grades").select("final_grade").eq("pupil_id",t.id).eq("quarter",e);if(r&&r.length>0){const t=r.reduce(((e,t)=>e+t.final_grade),0)/r.length;n["q".concat(e,"_avg")]=Math.round(100*t)/100}else n["q".concat(e,"_avg")]=null}const a=Object.values(n).filter((e=>null!==e)),i=a.length>0?a.reduce(((e,t)=>e+t),0)/a.length:null;e.push({pupil_id:t.id,pupil_name:"".concat(t.last_name,", ").concat(t.first_name," ").concat(t.middle_name?t.middle_name.charAt(0)+".":"").trim(),q1_avg:n.q1_avg,q2_avg:n.q2_avg,q3_avg:n.q3_avg,q4_avg:n.q4_avg,final_avg:i?Math.round(100*i)/100:null})}S(e)}catch(e){console.error("Error calculating averages:",e)}},F=o.filter((e=>{if(v){return"".concat(e.first_name," ").concat(e.last_name).toLowerCase().includes(v.toLowerCase())||e.pupil_id.toLowerCase().includes(v.toLowerCase())}return!0})),z=e=>e>=90?"text-green-600":e>=85?"text-blue-600":e>=80?"text-yellow-600":e>=75?"text-orange-600":"text-red-600",U=e=>e>=90?"Outstanding":e>=85?"Very Satisfactory":e>=80?"Satisfactory":e>=75?"Fairly Satisfactory":"Did Not Meet Expectations";return(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsxs)("div",{className:"flex justify-between items-center",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Grade Management"}),(0,La.jsx)("p",{className:"text-gray-600",children:"Manage pupil grades and academic performance"})]}),(0,La.jsx)("div",{className:"flex gap-3",children:(0,La.jsxs)("button",{onClick:async()=>{try{if("averages"===O){const e="Pupil Name,Q1 Average,Q2 Average,Q3 Average,Q4 Average,Final Average\n",t=k.map((e=>'"'.concat(e.pupil_name,'",').concat(e.q1_avg||"",",").concat(e.q2_avg||"",",").concat(e.q3_avg||"",",").concat(e.q4_avg||"",",").concat(e.final_avg||""))).join("\n"),r=new Blob([e+t],{type:"text/csv"}),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="class_averages_Grade".concat(u,"_").concat(f,"_").concat(FP(new Date),".csv"),a.click()}else{const e=["Pupil ID,Pupil Name,Subject,Quarter,Final Grade,Remarks\n",...a.map((e=>[e.pupils.pupil_id,'"'.concat(e.pupils.first_name," ").concat(e.pupils.last_name,'"'),e.subjects.name,e.quarter,e.final_grade,'"'.concat(e.remarks||"",'"')])).map((e=>e.join(",")))].join("\n"),t=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="grades_Q".concat(p,"_Grade").concat(u||"All","_").concat(FP(new Date),".csv"),n.click()}}catch(e){console.error("Error exporting grades:",e),Yt.error("Failed to export grades")}},className:"btn-secondary",children:[(0,La.jsx)(PP,{className:"w-4 h-4 mr-2"}),"Export"]})})]}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[(0,La.jsx)("button",{onClick:()=>N("entry"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("entry"===O?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Grade Entry"}),(0,La.jsx)("button",{onClick:()=>N("view"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("view"===O?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"View Grades"}),(0,La.jsx)("button",{onClick:()=>N("averages"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("averages"===O?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Class Averages"})]})}),(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),(0,La.jsxs)("select",{value:u||"",onChange:e=>d(e.target.value?parseInt(e.target.value):null),className:"input-field",children:[(0,La.jsx)("option",{value:"",children:"All Grades"}),[1,2,3,4,5,6].map((e=>(0,La.jsxs)("option",{value:e,children:["Grade ",e]},e)))]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),(0,La.jsx)("input",{type:"text",value:f,onChange:e=>h(e.target.value),placeholder:"Enter section",className:"input-field"})]}),"averages"!==O&&(0,La.jsxs)(La.Fragment,{children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quarter"}),(0,La.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"input-field",children:[(0,La.jsx)("option",{value:"1",children:"1st Quarter"}),(0,La.jsx)("option",{value:"2",children:"2nd Quarter"}),(0,La.jsx)("option",{value:"3",children:"3rd Quarter"}),(0,La.jsx)("option",{value:"4",children:"4th Quarter"})]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),(0,La.jsxs)("select",{value:y,onChange:e=>g(e.target.value),className:"input-field",children:[(0,La.jsx)("option",{value:"",children:"Select Subject"}),l.map((e=>(0,La.jsxs)("option",{value:e.id,children:[e.name," (",e.code,")"]},e.id)))]})]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)(mP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,La.jsx)("input",{type:"text",value:v,onChange:e=>b(e.target.value),placeholder:"Search pupil...",className:"input-field pl-10"})]})]})]})]}),"entry"===O&&(0,La.jsxs)("div",{className:"card",children:[(0,La.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,La.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Class Grade Entry - ",null===(e=l.find((e=>e.id===y)))||void 0===e?void 0:e.name," (Q",p,")"]}),y&&p&&!E&&(0,La.jsxs)("button",{onClick:()=>P(!0),className:"btn-primary",children:[(0,La.jsx)(gP,{className:"w-4 h-4 mr-2"}),"Edit Class Grades"]}),E&&(0,La.jsxs)("div",{className:"flex gap-2",children:[(0,La.jsx)("button",{onClick:()=>{P(!1),R()},className:"btn-secondary",children:"Cancel"}),(0,La.jsxs)("button",{onClick:async()=>{if(y&&p)try{w(!0);const e=Object.entries(j).filter((e=>{let[t,r]=e;return r>0}));for(const[r,n]of e){const e={pupil_id:r,subject_id:y,quarter:parseInt(p),final_grade:n,teacher_id:null===t||void 0===t?void 0:t.id,updated_at:(new Date).toISOString()},{data:a,error:i}=await Ra.from("grades").select("id, final_grade").eq("pupil_id",r).eq("subject_id",y).eq("quarter",parseInt(p)).single();if(i&&"PGRST116"!==i.code)throw i;if(a){const{error:r}=await Ra.from("grades").update(e).eq("id",a.id);if(r)throw r;await Ra.from("audit_logs").insert({user_id:null===t||void 0===t?void 0:t.id,action:"update_grade",entity_type:"grades",entity_id:a.id,old_values:{final_grade:a.final_grade},new_values:{final_grade:n}})}else{const{data:r,error:n}=await Ra.from("grades").insert(e).select().single();if(n)throw n;await Ra.from("audit_logs").insert({user_id:null===t||void 0===t?void 0:t.id,action:"create_grade",entity_type:"grades",entity_id:r.id,new_values:e})}}Yt.success("Class grades saved successfully"),P(!1),R()}catch(e){console.error("Error saving grades:",e),Yt.error(e.message||"Failed to save grades")}finally{w(!1)}else Yt.error("Please select subject and quarter")},disabled:x,className:"btn-primary",children:[(0,La.jsx)(RP,{className:"w-4 h-4 mr-2"}),x?"Saving...":"Save All Grades"]})]})]}),y&&p?x?(0,La.jsx)("div",{className:"text-center py-8",children:(0,La.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"})}):0===F.length?(0,La.jsxs)("div",{className:"text-center py-8",children:[(0,La.jsx)(Za,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,La.jsx)("p",{className:"text-gray-500",children:"No pupils found for the selected criteria"})]}):(0,La.jsx)("div",{className:"overflow-x-auto",children:(0,La.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,La.jsx)("thead",{className:"bg-gray-50",children:(0,La.jsxs)("tr",{children:[(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pupil"}),(0,La.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Final Grade"}),(0,La.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,La.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map((e=>{const t=j[e.id]||"";return(0,La.jsxs)("tr",{children:[(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,La.jsxs)("div",{className:"flex items-center",children:[(0,La.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:e.profile_picture?(0,La.jsx)("img",{src:e.profile_picture,alt:"".concat(e.first_name," ").concat(e.last_name),className:"h-10 w-10 rounded-full object-cover"}):(0,La.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:(0,La.jsxs)("span",{className:"text-gray-600 font-medium",children:[e.first_name.charAt(0),e.last_name.charAt(0)]})})}),(0,La.jsxs)("div",{className:"ml-4",children:[(0,La.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.middle_name?e.middle_name.charAt(0)+". ":"",e.last_name]}),(0,La.jsxs)("p",{className:"text-xs text-gray-500",children:[e.pupil_id," \u2022 Grade ",e.grade_level,"-",e.section]})]})]})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:E?(0,La.jsx)("input",{type:"number",min:"60",max:"100",step:"0.01",value:t,onChange:t=>{return r=e.id,n=parseFloat(t.target.value)||0,void _((e=>Re(Re({},e),{},{[r]:n})));var r,n},className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"}):(0,La.jsx)("span",{className:"text-lg font-bold ".concat(t?z(t):"text-gray-400"),children:t||"No Grade"})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:t?(0,La.jsx)("span",{className:"text-sm font-medium ".concat(z(t)),children:U(t)}):(0,La.jsx)("span",{className:"text-sm text-gray-400",children:"Not Graded"})})]},e.id)}))})]})}):(0,La.jsxs)("div",{className:"text-center py-8",children:[(0,La.jsx)(Ka,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,La.jsx)("p",{className:"text-gray-500",children:"Please select a subject and quarter to enter grades"})]})]}),"view"===O&&(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grade Records"}),x?(0,La.jsx)("div",{className:"text-center py-8",children:(0,La.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"})}):0===a.length?(0,La.jsxs)("div",{className:"text-center py-8",children:[(0,La.jsx)(Ka,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,La.jsx)("p",{className:"text-gray-500",children:"No grades found for the selected criteria"})]}):(0,La.jsx)("div",{className:"overflow-x-auto",children:(0,La.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,La.jsx)("thead",{className:"bg-gray-50",children:(0,La.jsxs)("tr",{children:[(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pupil"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),(0,La.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quarter"}),(0,La.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Final Grade"}),(0,La.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,La.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((e=>(0,La.jsxs)("tr",{children:[(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,La.jsxs)("div",{className:"flex items-center",children:[(0,La.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:e.pupils.profile_picture?(0,La.jsx)("img",{src:e.pupils.profile_picture,alt:"".concat(e.pupils.first_name," ").concat(e.pupils.last_name),className:"h-10 w-10 rounded-full object-cover"}):(0,La.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:(0,La.jsxs)("span",{className:"text-gray-600 font-medium",children:[e.pupils.first_name.charAt(0),e.pupils.last_name.charAt(0)]})})}),(0,La.jsxs)("div",{className:"ml-4",children:[(0,La.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.pupils.first_name," ",e.pupils.middle_name?e.pupils.middle_name.charAt(0)+". ":"",e.pupils.last_name]}),(0,La.jsxs)("p",{className:"text-xs text-gray-500",children:[e.pupils.pupil_id," \u2022 Grade ",e.pupils.grade_level,"-",e.pupils.section]})]})]})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.subjects.name}),(0,La.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:["Q",e.quarter]}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,La.jsx)("span",{className:"text-lg font-bold ".concat(z(e.final_grade)),children:e.final_grade.toFixed(2)})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,La.jsx)("span",{className:"text-sm font-medium ".concat(z(e.final_grade)),children:U(e.final_grade)})})]},e.id)))})]})})]}),"averages"===O&&(0,La.jsxs)("div",{className:"card",children:[(0,La.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Class Averages - Grade ",u," ",f&&"Section ".concat(f)]}),x?(0,La.jsx)("div",{className:"text-center py-8",children:(0,La.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"})}):0===k.length?(0,La.jsxs)("div",{className:"text-center py-8",children:[(0,La.jsx)(LP,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,La.jsx)("p",{className:"text-gray-500",children:"No grades available to calculate averages"})]}):(0,La.jsx)("div",{className:"overflow-x-auto",children:(0,La.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,La.jsx)("thead",{className:"bg-gray-50",children:(0,La.jsxs)("tr",{children:[(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pupil Name"}),(0,La.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Q1 Average"}),(0,La.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Q2 Average"}),(0,La.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Q3 Average"}),(0,La.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Q4 Average"}),(0,La.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Final Average"})]})}),(0,La.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map((e=>(0,La.jsxs)("tr",{children:[(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.pupil_name}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.q1_avg?(0,La.jsx)("span",{className:"text-sm font-medium ".concat(z(e.q1_avg)),children:e.q1_avg.toFixed(2)}):(0,La.jsx)("span",{className:"text-sm text-gray-400",children:"-"})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.q2_avg?(0,La.jsx)("span",{className:"text-sm font-medium ".concat(z(e.q2_avg)),children:e.q2_avg.toFixed(2)}):(0,La.jsx)("span",{className:"text-sm text-gray-400",children:"-"})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.q3_avg?(0,La.jsx)("span",{className:"text-sm font-medium ".concat(z(e.q3_avg)),children:e.q3_avg.toFixed(2)}):(0,La.jsx)("span",{className:"text-sm text-gray-400",children:"-"})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.q4_avg?(0,La.jsx)("span",{className:"text-sm font-medium ".concat(z(e.q4_avg)),children:e.q4_avg.toFixed(2)}):(0,La.jsx)("span",{className:"text-sm text-gray-400",children:"-"})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.final_avg?(0,La.jsx)("span",{className:"text-lg font-bold ".concat(z(e.final_avg)),children:e.final_avg.toFixed(2)}):(0,La.jsx)("span",{className:"text-sm text-gray-400",children:"-"})})]},e.pupil_id)))})]})})]})]})},BP=Ha("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),qP=Ha("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),VP=()=>{const{user:e,isRole:t}=za(),[r,a]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[c,u]=(0,n.useState)(new Date),[d,f]=(0,n.useState)(null),[h,p]=(0,n.useState)(""),[m,y]=(0,n.useState)(""),[g,v]=(0,n.useState)(!1),[b,x]=(0,n.useState)({isOpen:!1,pupilId:"",pupilName:"",excuseReason:""}),w=e=>e.toISOString().split("T")[0];(0,n.useEffect)((()=>{j()}),[c,d,h,m]);const j=async()=>{try{v(!0);const r=w(c);let n=Ra.from("pupils").select("*").eq("archived",!1);if(e&&t("parent"))n=n.eq("parent_id",e.id);else if(d&&(n=n.eq("grade_level",d)),h&&(n=n.eq("section",h)),t("teacher")){const{data:t}=await Ra.from("teacher_assignments").select("grade_level, section").eq("teacher_id",null===e||void 0===e?void 0:e.id);if(t&&t.length>0){const e=t.map((e=>"and(grade_level.eq.".concat(e.grade_level,",section.eq.").concat(e.section,")"))).join(",");n=n.or(e)}}const{data:i,error:s}=await n.order("last_name");if(s)throw s;a(i||[]);let u=Ra.from("subjects").select("*");if(d&&(u=u.eq("grade_level",d)),t("teacher")){const{data:t}=await Ra.from("teacher_subjects").select("subject_id").eq("teacher_id",null===e||void 0===e?void 0:e.id);if(t&&t.length>0){const e=t.map((e=>e.subject_id));u=u.in("id",e)}}const{data:f,error:p}=await u.order("name");if(p)throw p;if(l(f||[]),i&&i.length>0&&m){const e=i.map((e=>e.id)),{data:t,error:n}=await Ra.from("attendance").select("\n            *,\n            pupils!inner (\n              pupil_id,\n              first_name,\n              last_name,\n              middle_name,\n              grade_level,\n              section,\n              profile_picture,\n              parent_id\n            ),\n            subjects!inner (\n              name,\n              code\n            )\n          ").eq("date",r).eq("subject_id",m).in("pupil_id",e);if(n)throw n;o(t||[])}else o([])}catch(r){console.error("Error fetching data:",r),Yt.error(r.message||"Failed to load attendance data")}finally{v(!1)}},_=async(r,n,a,i)=>{if(e&&!t("parent"))if(m)try{var o;const t=a||(new Date).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),l=s.find((e=>e.id===m));let u=n;"present"===n&&null!==l&&void 0!==l&&l.start_time&&((e,t)=>{if(!e||!t)return!1;const r=new Date("2000-01-01T".concat(e)),n=new Date("2000-01-01T".concat(t));return r>new Date(n.getTime()+9e5)})(t,l.start_time)&&(u="late");const d={pupil_id:r,subject_id:m,date:w(c),time_in:"present"===n||"late"===n?t:null,status:u,remarks:i,teacher_id:null===e||void 0===e?void 0:e.id,updated_at:(new Date).toISOString()},{data:f,error:h}=await Ra.from("attendance").upsert(d,{onConflict:"pupil_id,subject_id,date"}).select();if(h)throw h;await Ra.from("audit_logs").insert({user_id:null===e||void 0===e?void 0:e.id,action:"mark_attendance",entity_type:"attendance",entity_id:(null===f||void 0===f||null===(o=f[0])||void 0===o?void 0:o.id)||"",new_values:d}),Yt.success("Attendance marked as ".concat(u)),j(),"absent"===u&&await k(r)}catch(l){console.error("Error marking attendance:",l),Yt.error(l.message||"Failed to mark attendance")}else Yt.error("Please select a subject first");else Yt.error("You do not have permission to mark attendance")},k=async t=>{try{const n=r.find((e=>e.id===t));if(null!==n&&void 0!==n&&n.parent_id){const t=s.find((e=>e.id===m));await Ra.from("notifications").insert({recipient_id:n.parent_id,type:"attendance_alert",title:"Attendance Alert",message:"Your child ".concat(n.first_name," ").concat(n.last_name," was marked absent in ").concat((null===t||void 0===t?void 0:t.name)||"class"," today (").concat(w(c),")."),sender_id:null===e||void 0===e?void 0:e.id,created_at:(new Date).toISOString()})}}catch(n){console.error("Error sending notification:",n)}},S=e=>{switch(e){case"present":return"text-green-600";case"absent":return"text-red-600";case"late":return"text-yellow-600";case"excused":return"text-blue-600";default:return"text-gray-600"}},O=e=>{switch(e){case"present":return(0,La.jsx)(SP,{className:"w-5 h-5"});case"absent":return(0,La.jsx)(kP,{className:"w-5 h-5"});case"late":return(0,La.jsx)(BP,{className:"w-5 h-5"});case"excused":return(0,La.jsx)(gc,{className:"w-5 h-5"});default:return null}},N=e&&t("parent")&&0===r.length,E=s.find((e=>e.id===m));return(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsxs)("div",{className:"flex justify-between items-center",children:[(0,La.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:t("parent")?"Child Attendance":"Attendance Management"}),(0,La.jsx)("div",{className:"flex gap-3",children:(0,La.jsxs)("button",{onClick:async()=>{try{const n=new Date(c.getFullYear(),c.getMonth(),1),a=new Date(c.getFullYear(),c.getMonth()+1,0);let i=[];if(e&&t("parent"))i=r.map((e=>e.id));else{const{data:e}=await Ra.from("pupils").select("id").eq("archived",!1);i=(null===e||void 0===e?void 0:e.map((e=>e.id)))||[]}if(0===i.length)return void Yt.error("No pupils found to export");const{data:o}=await Ra.from("attendance").select("\n          *,\n          pupils (\n            pupil_id,\n            first_name,\n            last_name,\n            middle_name,\n            grade_level,\n            section\n          ),\n          subjects (\n            name,\n            code\n          )\n        ").gte("date",w(n)).lte("date",w(a)).in("pupil_id",i).order("date"),s=["Date,Pupil ID,Name,Grade,Section,Subject,Time In,Status,Excuse Reason,Remarks",...(null===o||void 0===o?void 0:o.map((e=>{const t="".concat(e.pupils.first_name," ").concat(e.pupils.middle_name?e.pupils.middle_name.charAt(0)+". ":"").concat(e.pupils.last_name);return[e.date,e.pupils.pupil_id,'"'.concat(t,'"'),e.pupils.grade_level,e.pupils.section,e.subjects.name,e.time_in||"",e.status,'"'.concat(e.excuse_reason||"",'"'),'"'.concat(e.remarks||"",'"')].join(",")})))||[]].join("\n"),l=new Blob([s],{type:"text/csv"}),u=window.URL.createObjectURL(l),d=document.createElement("a");d.href=u,d.download="attendance_".concat(c.toLocaleDateString("en-US",{month:"long",year:"numeric"}),".csv"),d.click()}catch(n){console.error("Error exporting attendance:",n),Yt.error("Failed to export attendance")}},className:"btn-secondary",children:[(0,La.jsx)(PP,{className:"w-4 h-4 mr-2"}),"Export"]})})]}),N&&(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"text-center py-8",children:[(0,La.jsx)(gc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,La.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Children Assigned"}),(0,La.jsx)("p",{className:"text-gray-600",children:"You don't have any children assigned to your account. Please contact the school administrator."})]})}),!N&&(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,La.jsx)("input",{type:"date",value:w(c),onChange:e=>u(new Date(e.target.value)),className:"input-field"})]}),!t("parent")&&(0,La.jsxs)(La.Fragment,{children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),(0,La.jsxs)("select",{value:d||"",onChange:e=>f(e.target.value?parseInt(e.target.value):null),className:"input-field",children:[(0,La.jsx)("option",{value:"",children:"All Grades"}),[1,2,3,4,5,6].map((e=>(0,La.jsxs)("option",{value:e,children:["Grade ",e]},e)))]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),(0,La.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),placeholder:"Enter section",className:"input-field"})]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),(0,La.jsxs)("select",{value:m,onChange:e=>y(e.target.value),className:"input-field",children:[(0,La.jsx)("option",{value:"",children:"Select Subject"}),s.map((e=>(0,La.jsxs)("option",{value:e.id,children:[e.name," (",e.code,")"]},e.id)))]})]}),E&&(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Time"}),(0,La.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:[(0,La.jsxs)("div",{children:["Start: ",E.start_time]}),(0,La.jsxs)("div",{children:["End: ",E.end_time]}),(0,La.jsxs)("div",{className:"text-xs text-yellow-600 mt-1",children:["Late after: ",new Date("2000-01-01T".concat(E.start_time)).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",timeZone:"UTC"}).replace(/(\d{2}):(\d{2})/,((e,t,r)=>{const n=60*parseInt(t)+parseInt(r)+15,a=Math.floor(n/60).toString().padStart(2,"0"),i=(n%60).toString().padStart(2,"0");return"".concat(a,":").concat(i)}))]})]})]})]})}),!N&&!m&&(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"text-center py-8",children:[(0,La.jsx)($a,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,La.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Subject"}),(0,La.jsx)("p",{className:"text-gray-600",children:"Please select a subject to view or mark attendance. Attendance is tracked per subject."})]})}),!N&&m&&(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center justify-between",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Present"}),(0,La.jsx)("p",{className:"text-2xl font-bold text-green-600",children:i.filter((e=>"present"===e.status)).length})]}),(0,La.jsx)(SP,{className:"w-8 h-8 text-green-600"})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center justify-between",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Absent"}),(0,La.jsx)("p",{className:"text-2xl font-bold text-red-600",children:i.filter((e=>"absent"===e.status)).length})]}),(0,La.jsx)(kP,{className:"w-8 h-8 text-red-600"})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center justify-between",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Late"}),(0,La.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:i.filter((e=>"late"===e.status)).length})]}),(0,La.jsx)(BP,{className:"w-8 h-8 text-yellow-600"})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center justify-between",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Excused"}),(0,La.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:i.filter((e=>"excused"===e.status)).length})]}),(0,La.jsx)(gc,{className:"w-8 h-8 text-blue-600"})]})})]}),!N&&m&&(0,La.jsxs)("div",{className:"card",children:[(0,La.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:[t("parent")?"Attendance Records":"Mark Attendance"," - ",null===E||void 0===E?void 0:E.name]}),g?(0,La.jsx)("div",{className:"text-center py-8",children:(0,La.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"})}):0===r.length?(0,La.jsx)("div",{className:"text-center py-8",children:(0,La.jsx)("p",{className:"text-gray-500",children:"No pupils found for the selected criteria."})}):(0,La.jsx)("div",{className:"overflow-x-auto",children:(0,La.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,La.jsx)("thead",{className:"bg-gray-50",children:(0,La.jsxs)("tr",{children:[(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pupil"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade & Section"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time In"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),!t("parent")&&(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,La.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((e=>{const r=i.find((t=>t.pupil_id===e.id));return(0,La.jsxs)("tr",{children:[(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,La.jsxs)("div",{className:"flex items-center",children:[(0,La.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:e.profile_picture?(0,La.jsx)("img",{src:e.profile_picture,alt:"".concat(e.first_name," ").concat(e.last_name),className:"h-10 w-10 rounded-full object-cover"}):(0,La.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:(0,La.jsx)(Xa,{className:"w-5 h-5 text-gray-400"})})}),(0,La.jsxs)("div",{className:"ml-4",children:[(0,La.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.middle_name?e.middle_name.charAt(0)+". ":"",e.last_name]}),(0,La.jsx)("div",{className:"text-sm text-gray-500",children:e.pupil_id})]})]})}),(0,La.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Grade ",e.grade_level," - ",e.section]}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===r||void 0===r?void 0:r.time_in)||"-"}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:r?(0,La.jsxs)("div",{children:[(0,La.jsxs)("span",{className:"flex items-center gap-2 ".concat(S(r.status)),children:[O(r.status),(0,La.jsx)("span",{className:"capitalize",children:r.status})]}),r.excuse_reason&&(0,La.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Reason: ",r.excuse_reason]})]}):(0,La.jsx)("span",{className:"text-gray-400",children:"Not marked"})}),!t("parent")&&(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,La.jsxs)("div",{className:"flex gap-2",children:[(0,La.jsx)("button",{onClick:()=>_(e.id,"present"),className:"text-green-600 hover:text-green-700",title:"Mark Present",children:(0,La.jsx)(SP,{className:"w-5 h-5"})}),(0,La.jsx)("button",{onClick:()=>_(e.id,"absent"),className:"text-red-600 hover:text-red-700",title:"Mark Absent",children:(0,La.jsx)(kP,{className:"w-5 h-5"})}),"absent"===(null===r||void 0===r?void 0:r.status)&&(0,La.jsx)("button",{onClick:()=>x({isOpen:!0,pupilId:e.id,pupilName:"".concat(e.first_name," ").concat(e.last_name),excuseReason:""}),className:"text-blue-600 hover:text-blue-700",title:"Excuse Absence",children:(0,La.jsx)(qP,{className:"w-5 h-5"})})]})})]},e.id)}))})]})})]}),b.isOpen&&(0,La.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,La.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,La.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>x({isOpen:!1,pupilId:"",pupilName:"",excuseReason:""})}),(0,La.jsxs)("div",{className:"relative bg-white rounded-lg max-w-md w-full p-6",children:[(0,La.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:["Excuse Absence - ",b.pupilName]}),(0,La.jsxs)("div",{className:"space-y-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Excuse ",(0,La.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,La.jsx)("textarea",{value:b.excuseReason,onChange:e=>x((t=>Re(Re({},t),{},{excuseReason:e.target.value}))),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter the reason for excusing this absence..."})]}),(0,La.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,La.jsx)("button",{onClick:()=>x({isOpen:!1,pupilId:"",pupilName:"",excuseReason:""}),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),(0,La.jsx)("button",{onClick:()=>(async(t,r)=>{if(r.trim())try{var n;const a={pupil_id:t,subject_id:m,date:w(c),status:"excused",excuse_reason:r,teacher_id:null===e||void 0===e?void 0:e.id,updated_at:(new Date).toISOString()},{data:i,error:o}=await Ra.from("attendance").upsert(a,{onConflict:"pupil_id,subject_id,date"}).select();if(o)throw o;await Ra.from("audit_logs").insert({user_id:null===e||void 0===e?void 0:e.id,action:"excuse_absence",entity_type:"attendance",entity_id:(null===i||void 0===i||null===(n=i[0])||void 0===n?void 0:n.id)||"",old_values:{status:"absent"},new_values:{status:"excused",excuse_reason:r}}),Yt.success("Absence excused successfully"),x({isOpen:!1,pupilId:"",pupilName:"",excuseReason:""}),j()}catch(a){console.error("Error excusing absence:",a),Yt.error(a.message||"Failed to excuse absence")}else Yt.error("Please provide a reason for the excuse")})(b.pupilId,b.excuseReason),disabled:!b.excuseReason.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Excuse Absence"})]})]})]})]})})]})},WP=Ha("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),HP=Ha("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),GP=Ha("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ZP=Ha("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);var KP=["points","className","baseLinePoints","connectNulls"];function $P(){return $P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$P.apply(this,arguments)}function YP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QP(e){return function(e){if(Array.isArray(e))return XP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return XP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var JP=function(e){return e&&e.x===+e.x&&e.y===+e.y},eA=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){JP(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),JP(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce((function(e,t){return[].concat(QP(e),QP(t))}),[])]);var n=r.map((function(e){return e.reduce((function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===r.length?"".concat(n,"Z"):n},tA=function(e){var t=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,o=YP(e,KP);if(!t||!t.length)return null;var s=bc("recharts-polygon",r);if(a&&a.length){var l=o.stroke&&"none"!==o.stroke,c=function(e,t,r){var n=eA(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(eA(t.reverse(),r).slice(1))}(t,a,i);return n.createElement("g",{className:s},n.createElement("path",$P({},gu(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",stroke:"none",d:c})),l?n.createElement("path",$P({},gu(o,!0),{fill:"none",d:eA(t,i)})):null,l?n.createElement("path",$P({},gu(o,!0),{fill:"none",d:eA(a,i)})):null)}var u=eA(t,i);return n.createElement("path",$P({},gu(o,!0),{fill:"Z"===u.slice(-1)?o.fill:"none",className:s,d:u}))};function rA(e){return rA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rA(e)}function nA(){return nA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nA.apply(this,arguments)}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function iA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aA(Object(r),!0).forEach((function(t){dA(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fA(n.key),n)}}function sA(e,t,r){return t=cA(t),function(e,t){if(t&&("object"===rA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lA()?Reflect.construct(t,r||[],cA(e).constructor):t.apply(e,r))}function lA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(lA=function(){return!!e})()}function cA(e){return cA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cA(e)}function uA(e,t){return uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uA(e,t)}function dA(e,t,r){return(t=fA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fA(e){var t=function(e,t){if("object"!=rA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rA(t)?t:t+""}var hA=Math.PI/180,pA=1e-5,mA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sA(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uA(e,t)}(t,e),r=t,a=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,i=t.orientation,o=t.tickSize||8,s=Kj(r,n,a,e.coordinate),l=Kj(r,n,a+("inner"===i?-1:1)*o,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*hA);return r>pA?"outer"===t?"start":"end":r<-pA?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,a=e.radius,i=e.axisLine,o=e.axisLineType,s=iA(iA({},gu(this.props,!1)),{},{fill:"none"},gu(i,!1));if("circle"===o)return n.createElement(oh,nA({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:r,r:a}));var l=this.props.ticks.map((function(e){return Kj(t,r,a,e.coordinate)}));return n.createElement(tA,nA({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTicks",value:function(){var e=this,r=this.props,a=r.ticks,i=r.tick,o=r.tickLine,s=r.tickFormatter,l=r.stroke,c=gu(this.props,!1),u=gu(i,!1),d=iA(iA({},c),{},{fill:"none"},gu(o,!1)),f=a.map((function(r,a){var f=e.getTickLineCoord(r),h=iA(iA(iA({textAnchor:e.getTickTextAnchor(r)},c),{},{stroke:"none",fill:l},u),{},{index:a,payload:r,x:f.x2,y:f.y2});return n.createElement(Bu,nA({className:bc("recharts-polar-angle-axis-tick",Jj(i)),key:"tick-".concat(r.coordinate)},ru(e.props,r,a)),o&&n.createElement("line",nA({className:"recharts-polar-angle-axis-tick-line"},d,f)),i&&t.renderTickItem(i,h,s?s(r.value,a):r.value))}));return n.createElement(Bu,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,a=e.axisLine;return r<=0||!t||!t.length?null:n.createElement(Bu,{className:bc("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],i=[{key:"renderTickItem",value:function(e,t,r){return n.isValidElement(e)?n.cloneElement(e,t):Hc()(e)?e(t):n.createElement(Bm,nA({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],a&&oA(r.prototype,a),i&&oA(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);dA(mA,"displayName","PolarAngleAxis"),dA(mA,"axisType","angleAxis"),dA(mA,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var yA=r(2794),gA=r.n(yA),vA=r(9364),bA=r.n(vA),xA=["cx","cy","angle","ticks","axisLine"],wA=["ticks","tick","angle","tickFormatter","stroke"];function jA(e){return jA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jA(e)}function _A(){return _A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_A.apply(this,arguments)}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function SA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kA(Object(r),!0).forEach((function(t){CA(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function OA(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MA(n.key),n)}}function EA(e,t,r){return t=AA(t),function(e,t){if(t&&("object"===jA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PA()?Reflect.construct(t,r||[],AA(e).constructor):t.apply(e,r))}function PA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(PA=function(){return!!e})()}function AA(e){return AA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},AA(e)}function TA(e,t){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TA(e,t)}function CA(e,t,r){return(t=MA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MA(e){var t=function(e,t){if("object"!=jA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jA(t)?t:t+""}var DA,IA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),EA(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TA(e,t)}(t,e),r=t,a=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,i=r.cy;return Kj(a,i,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=gA()(a,(function(e){return e.coordinate||0}));return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:bA()(a,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,a=e.angle,i=e.ticks,o=e.axisLine,s=OA(e,xA),l=i.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=Kj(t,r,l[0],a),u=Kj(t,r,l[1],a),d=SA(SA(SA({},gu(s,!1)),{},{fill:"none"},gu(o,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return n.createElement("line",_A({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,r=this.props,a=r.ticks,i=r.tick,o=r.angle,s=r.tickFormatter,l=r.stroke,c=OA(r,wA),u=this.getTickTextAnchor(),d=gu(c,!1),f=gu(i,!1),h=a.map((function(r,a){var c=e.getTickValueCoord(r),h=SA(SA(SA(SA({textAnchor:u,transform:"rotate(".concat(90-o,", ").concat(c.x,", ").concat(c.y,")")},d),{},{stroke:"none",fill:l},f),{},{index:a},c),{},{payload:r});return n.createElement(Bu,_A({className:bc("recharts-polar-radius-axis-tick",Jj(i)),key:"tick-".concat(r.coordinate)},ru(e.props,r,a)),t.renderTickItem(i,h,s?s(r.value,a):r.value))}));return n.createElement(Bu,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,a=e.tick;return t&&t.length?n.createElement(Bu,{className:bc("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),a&&this.renderTicks(),u_.renderCallByParent(this.props,this.getViewBox())):null}}],i=[{key:"renderTickItem",value:function(e,t,r){return n.isValidElement(e)?n.cloneElement(e,t):Hc()(e)?e(t):n.createElement(Bm,_A({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],a&&NA(r.prototype,a),i&&NA(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);function RA(e){return RA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RA(e)}function LA(){return LA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LA.apply(this,arguments)}function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FA(Object(r),!0).forEach((function(t){HA(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GA(n.key),n)}}function BA(e,t,r){return t=VA(t),function(e,t){if(t&&("object"===RA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qA()?Reflect.construct(t,r||[],VA(e).constructor):t.apply(e,r))}function qA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qA=function(){return!!e})()}function VA(e){return VA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VA(e)}function WA(e,t){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WA(e,t)}function HA(e,t,r){return(t=GA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GA(e){var t=function(e,t){if("object"!=RA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=RA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RA(t)?t:t+""}CA(IA,"displayName","PolarRadiusAxis"),CA(IA,"axisType","radiusAxis"),CA(IA,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var ZA=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),HA(r=BA(this,t,[e]),"pieRef",null),HA(r,"sectorRefs",[]),HA(r,"id",Ic("recharts-pie-")),HA(r,"handleAnimationEnd",(function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Hc()(e)&&e()})),HA(r,"handleAnimationStart",(function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Hc()(e)&&e()})),r.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WA(e,t)}(t,e),r=t,a=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.label,i=r.labelLine,o=r.dataKey,s=r.valueKey,l=gu(this.props,!1),c=gu(a,!1),u=gu(i,!1),d=a&&a.offsetRadius||20,f=e.map((function(e,r){var f=(e.startAngle+e.endAngle)/2,h=Kj(e.cx,e.cy,e.outerRadius+d,f),p=zA(zA(zA(zA({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:t.getTextAnchor(h.x,e.cx)},h),m=zA(zA(zA(zA({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:r,points:[Kj(e.cx,e.cy,e.outerRadius,f),h]}),y=o;return Vc()(o)&&Vc()(s)?y="value":Vc()(o)&&(y=s),n.createElement(Bu,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},i&&t.renderLabelLineItem(i,m,"line"),t.renderLabelItem(a,p,Qw(e,y)))}));return n.createElement(Bu,{className:"recharts-pie-labels"},f)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,a=r.activeShape,i=r.blendStroke,o=r.inactiveShape;return e.map((function(r,s){if(0===(null===r||void 0===r?void 0:r.startAngle)&&0===(null===r||void 0===r?void 0:r.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(s),c=o&&t.hasActiveIndex()?o:null,u=l?a:c,d=zA(zA({},r),{},{stroke:i?r.fill:r.stroke,tabIndex:-1});return n.createElement(Bu,LA({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},ru(t.props,r,s),{key:"sector-".concat(null===r||void 0===r?void 0:r.startAngle,"-").concat(null===r||void 0===r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(s)}),n.createElement(ck,LA({option:u,isActive:l,shapeType:"sector"},d)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,a=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state,u=c.prevSectors,d=c.prevIsAnimationActive;return n.createElement(Ip,{begin:i,duration:o,isActive:a,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var a=t.t,i=[],o=(r&&r[0]).startAngle;return r.forEach((function(e,t){var r=u&&u[t],n=t>0?Nc()(e,"paddingAngle",0):0;if(r){var s=Fc(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=zA(zA({},e),{},{startAngle:o+n,endAngle:o+s(a)+n});i.push(l),o=l.endAngle}else{var c=e.endAngle,d=e.startAngle,f=Fc(0,c-d)(a),h=zA(zA({},e),{},{startAngle:o+n,endAngle:o+f+n});i.push(h),o=h.endAngle}})),n.createElement(Bu,null,e.renderSectorsStatically(i))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&Yx()(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,a=t.sectors,i=t.className,o=t.label,s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.isAnimationActive,f=this.state.isAnimationFinished;if(r||!a||!a.length||!Cc(s)||!Cc(l)||!Cc(c)||!Cc(u))return null;var h=bc("recharts-pie",i);return n.createElement(Bu,{tabIndex:this.props.rootTabIndex,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(a),u_.renderCallByParent(this.props,null,!1),(!d||f)&&T_.renderCallByParent(this.props,a,!1))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(n.isValidElement(e))return n.cloneElement(e,t);if(Hc()(e))return e(t);var a=bc("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return n.createElement(WO,LA({},t,{key:r,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(e,t,r){if(n.isValidElement(e))return n.cloneElement(e,t);var a=r;if(Hc()(e)&&(a=e(t),n.isValidElement(a)))return a;var i=bc("recharts-pie-label-text","boolean"===typeof e||Hc()(e)?"":e.className);return n.createElement(Bm,LA({},t,{alignmentBaseline:"middle",className:i}),a)}}],a&&UA(r.prototype,a),i&&UA(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);DA=ZA,HA(ZA,"displayName","Pie"),HA(ZA,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),HA(ZA,"parseDeltaAngle",(function(e,t){return Ac(t-e)*Math.min(Math.abs(t-e),360)})),HA(ZA,"getRealPieData",(function(e){var t=e.data,r=e.children,n=gu(e,!1),a=fu(r,g_);return t&&t.length?t.map((function(e,t){return zA(zA(zA({payload:e},n),e),a&&a[t]&&a[t].props)})):a&&a.length?a.map((function(e){return zA(zA({},n),e.props)})):[]})),HA(ZA,"parseCoordinateOfPie",(function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=$j(a,i);return{cx:n+Rc(e.cx,a,a/2),cy:r+Rc(e.cy,i,i/2),innerRadius:Rc(e.innerRadius,o,0),outerRadius:Rc(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}})),HA(ZA,"getComposedData",(function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?zA(zA({},t.type.defaultProps),t.props):t.props,a=DA.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,f=n.tooltipType,h=Math.abs(n.minAngle),p=DA.parseCoordinateOfPie(n,r),m=DA.parseDeltaAngle(o,s),y=Math.abs(m),g=c;Vc()(c)&&Vc()(d)?(Bc(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g="value"):Vc()(c)&&(Bc(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g=d);var v,b,x=a.filter((function(e){return 0!==Qw(e,g,0)})).length,w=y-x*h-(y>=360?x:x-1)*l,j=a.reduce((function(e,t){var r=Qw(t,g,0);return e+(Cc(r)?r:0)}),0);j>0&&(v=a.map((function(e,t){var r,n=Qw(e,g,0),a=Qw(e,u,t),s=(Cc(n)?n:0)/j,c=(r=t?b.endAngle+Ac(m)*l*(0!==n?1:0):o)+Ac(m)*((0!==n?h:0)+s*w),d=(r+c)/2,y=(p.innerRadius+p.outerRadius)/2,v=[{name:a,value:n,payload:e,dataKey:g,type:f}],x=Kj(p.cx,p.cy,y,d);return b=zA(zA(zA({percent:s,cornerRadius:i,name:a,tooltipPayload:v,midAngle:d,middleRadius:y,tooltipPosition:x},e),p),{},{value:Qw(e,g),startAngle:r,endAngle:c,payload:e,paddingAngle:Ac(m)*l})})));return zA(zA({},p),{},{sectors:v,data:a})}));var KA=FN({chartName:"PieChart",GraphicalChild:ZA,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:mA},{axisType:"radiusAxis",AxisComp:IA}],formatAxisMap:function(e,t,r,n,a){var i=e.width,o=e.height,s=e.startAngle,l=e.endAngle,c=Rc(e.cx,i,i/2),u=Rc(e.cy,o,o/2),d=$j(i,o,r),f=Rc(e.innerRadius,d,0),h=Rc(e.outerRadius,d,.8*d);return Object.keys(t).reduce((function(e,r){var i,o=t[r],d=o.domain,p=o.reversed;if(Vc()(o.range))"angleAxis"===n?i=[s,l]:"radiusAxis"===n&&(i=[f,h]),p&&(i=[i[1],i[0]]);else{var m=Wj(i=o.range,2);s=m[0],l=m[1]}var y=sj(o,a),g=y.realScaleType,v=y.scale;v.domain(d).range(i),cj(v);var b=fj(v,qj(qj({},o),{},{realScaleType:g})),x=qj(qj(qj({},o),b),{},{range:i,radius:h,realScaleType:g,scale:v,cx:c,cy:u,innerRadius:f,outerRadius:h,startAngle:s,endAngle:l});return qj(qj({},e),{},Vj({},r,x))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const $A=()=>{var e,t;const{user:r,isRole:a}=za(),[i,o]=(0,n.useState)("grade"),[s,l]=(0,n.useState)(null),[c,u]=(0,n.useState)(""),[d,f]=(0,n.useState)("1"),[h,p]=(0,n.useState)(""),[m,y]=(0,n.useState)({start:new Date((new Date).setMonth((new Date).getMonth()-1)).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0]}),[g,v]=(0,n.useState)({gradeDistribution:[],attendanceOverview:[],subjectPerformance:[],studentProgress:[],enrollmentTrends:[],genderDistribution:[],fourPsData:[],classList:[]}),[b,x]=(0,n.useState)([]),[w,j]=(0,n.useState)(!1),[_,k]=(0,n.useState)([]),[S,O]=(0,n.useState)([]),[N,E]=(0,n.useState)([]),[P,A]=(0,n.useState)("");(0,n.useEffect)((()=>{A((()=>{const e=new Date,t=e.getFullYear();return e.getMonth()+1>=6?"".concat(t,"-").concat(t+1):"".concat(t-1,"-").concat(t)})()),T(),C()}),[s]),(0,n.useEffect)((()=>{M()}),[i,s,c,d,h,m]);const T=async()=>{try{let e=Ra.from("subjects").select("*");s&&(e=e.eq("grade_level",s));const{data:t,error:r}=await e;if(r)throw r;x(t||[])}catch(e){console.error("Error fetching subjects:",e)}},C=async()=>{try{let e=Ra.from("pupils").select("*").eq("archived",!1);s&&(e=e.eq("grade_level",s)),c&&(e=e.eq("section",c));const{data:t,error:r}=await e.order("last_name");if(r)throw r;k(t||[])}catch(e){console.error("Error fetching pupils:",e)}},M=async()=>{try{switch(j(!0),i){case"grade":await D();break;case"attendance":await U();break;case"progress":await B();break;case"sf2":await I();break;case"sf9":await R();break;case"trend":await z();break;case"demographics":await F();break;case"class_list":await L();break;case"certification":await q();break;case"comprehensive":await V()}}catch(e){console.error("Error generating report:",e),Yt.error("Failed to generate report")}finally{j(!1)}},D=async()=>{try{let e=Ra.from("grades").select("\n          *,\n          pupils (grade_level, gender),\n          subjects (name)\n        ").eq("quarter",d);s&&(e=e.eq("pupils.grade_level",s)),h&&(e=e.eq("subject_id",h));const{data:t}=await e;if(t){const e={"Outstanding (90-100)":0,"Very Satisfactory (85-89)":0,"Satisfactory (80-84)":0,"Fairly Satisfactory (75-79)":0,"Did Not Meet Expectations (Below 75)":0};t.forEach((t=>{t.final_grade>=90?e["Outstanding (90-100)"]++:t.final_grade>=85?e["Very Satisfactory (85-89)"]++:t.final_grade>=80?e["Satisfactory (80-84)"]++:t.final_grade>=75?e["Fairly Satisfactory (75-79)"]++:e["Did Not Meet Expectations (Below 75)"]++}));const r=Object.entries(e).map((e=>{let[r,n]=e;return{grade:r,count:n,percentage:t.length>0?(n/t.length*100).toFixed(1):"0"}})),n={};t.forEach((e=>{const t=e.subjects.name;n[t]||(n[t]={total:0,count:0}),n[t].total+=e.final_grade,n[t].count++}));const a=Object.entries(n).map((e=>{let[t,r]=e;return{subject:t,average:(r.total/r.count).toFixed(1)}}));v((e=>Re(Re({},e),{},{gradeDistribution:r,subjectPerformance:a})))}}catch(e){console.error("Error generating grade report:",e)}},I=async()=>{try{if(!s||!c)return void Yt.error("Please select grade level and section for SF2 report");const{data:e}=await Ra.from("pupils").select("*").eq("grade_level",s).eq("section",c).eq("archived",!1).order("last_name");if(!e)return;const t=[];for(const r of e){const{data:e}=await Ra.from("attendance").select("status").eq("pupil_id",r.id).gte("date",m.start).lte("date",m.end),n=(null===e||void 0===e?void 0:e.length)||0,a=(null===e||void 0===e?void 0:e.filter((e=>"present"===e.status)).length)||0,i=(null===e||void 0===e?void 0:e.filter((e=>"absent"===e.status)).length)||0,o=(null===e||void 0===e?void 0:e.filter((e=>"late"===e.status)).length)||0,s=(null===e||void 0===e?void 0:e.filter((e=>"excused"===e.status)).length)||0,l=n>0?(a+o)/n*100:0;t.push({pupil_id:r.pupil_id,name:"".concat(r.last_name,", ").concat(r.first_name," ").concat(r.middle_name?r.middle_name.charAt(0)+".":"").trim(),total_days:n,present:a,absent:i,late:o,excused:s,attendance_rate:Math.round(100*l)/100})}O(t)}catch(e){console.error("Error generating SF2 report:",e)}},R=async()=>{try{if(!s||!c)return void Yt.error("Please select grade level and section for SF9 report");const{data:e}=await Ra.from("pupils").select("*").eq("grade_level",s).eq("section",c).eq("archived",!1).order("last_name"),{data:t}=await Ra.from("subjects").select("*").eq("grade_level",s);if(!e||!t)return;const r=[];for(const n of e){const e={};let a=0,i=0;for(const r of t){const t=[1,2,3,4],o={q1:null,q2:null,q3:null,q4:null,final:null};for(const e of t){const{data:t}=await Ra.from("grades").select("final_grade").eq("pupil_id",n.id).eq("subject_id",r.id).eq("quarter",e).single();t&&(o["q".concat(e)]=t.final_grade)}const s=Object.values(o).filter((e=>null!==e));if(s.length>0){const e=s.reduce(((e,t)=>e+t),0)/s.length;o.final=Math.round(100*e)/100,a+=e,i++}e[r.name]=o}r.push({pupil_id:n.pupil_id,name:"".concat(n.last_name,", ").concat(n.first_name," ").concat(n.middle_name?n.middle_name.charAt(0)+".":"").trim(),subjects:e,general_average:i>0?Math.round(a/i*100)/100:null})}E(r)}catch(e){console.error("Error generating SF9 report:",e)}},L=async()=>{try{const{data:e}=await Ra.from("pupils").select("*").eq("archived",!1).order("grade_level",{ascending:!0}).order("section",{ascending:!0}).order("last_name",{ascending:!0}),t=(null===e||void 0===e?void 0:e.map((e=>({pupil_id:e.pupil_id,name:"".concat(e.last_name,", ").concat(e.first_name," ").concat(e.middle_name?e.middle_name.charAt(0)+".":"").trim(),grade_level:e.grade_level,section:e.section,gender:e.gender,is_4ps:e.is_4ps_beneficiary,birth_date:e.birth_date,address:e.address}))))||[];v((e=>Re(Re({},e),{},{classList:t})))}catch(e){console.error("Error generating class list report:",e)}},F=async()=>{try{const{data:e}=await Ra.from("pupils").select("*").eq("archived",!1);if(e){const t=[{gender:"Male",count:e.filter((e=>"male"===e.gender)).length},{gender:"Female",count:e.filter((e=>"female"===e.gender)).length}],r=[{category:"4P's Beneficiaries",count:e.filter((e=>e.is_4ps_beneficiary)).length},{category:"Non-4P's",count:e.filter((e=>!e.is_4ps_beneficiary)).length}];v((e=>Re(Re({},e),{},{genderDistribution:t,fourPsData:r})))}}catch(e){console.error("Error generating demographics report:",e)}},z=async()=>{try{const e=(new Date).getFullYear(),t=Array.from({length:5},((t,r)=>e-4+r)),r=[];for(const n of t){const{data:e}=await Ra.from("pupils").select("gender, grade_level, is_4ps_beneficiary, enrollment_date").gte("enrollment_date","".concat(n,"-06-01")).lt("enrollment_date","".concat(n+1,"-06-01"));if(e){const t=e.length,a=e.filter((e=>"male"===e.gender)).length,i=e.filter((e=>"female"===e.gender)).length,o=e.filter((e=>e.is_4ps_beneficiary)).length;r.push({year:"SY ".concat(n,"-").concat(n+1),total:t,male:a,female:i,fourPs:o})}}v((e=>Re(Re({},e),{},{enrollmentTrends:r})))}catch(e){console.error("Error generating trend analysis:",e)}},U=async()=>{try{const{data:e}=await Ra.from("attendance").select("\n          *,\n          pupils (grade_level, gender, section)\n        ").gte("date",m.start).lte("date",m.end);if(e){const t={};e.forEach((e=>{t[e.date]||(t[e.date]={date:e.date,present:0,absent:0,late:0,excused:0}),t[e.date][e.status]++}));const r=Object.values(t).sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())).map((e=>Re(Re({},e),{},{date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),total:e.present+e.absent+e.late+e.excused,attendanceRate:((e.present+e.late)/(e.present+e.absent+e.late+e.excused)*100).toFixed(1)})));v((e=>Re(Re({},e),{},{attendanceOverview:r})))}}catch(e){console.error("Error generating attendance report:",e)}},B=async()=>{try{const e=["1","2","3","4"],t=[];for(const r of e){let e=Ra.from("grades").select("\n            *,\n            pupils (id, first_name, last_name, grade_level),\n            subjects (name)\n          ").eq("quarter",r);s&&(e=e.eq("pupils.grade_level",s));const{data:n}=await e;if(n){const e={};n.forEach((t=>{const r=t.pupil_id;e[r]||(e[r]={total:0,count:0}),e[r].total+=t.final_grade,e[r].count++}));const a=Object.values(e).reduce(((e,t)=>e+t.total/t.count),0)/Object.keys(e).length;t.push({quarter:"Q".concat(r),average:a.toFixed(1)})}}v((e=>Re(Re({},e),{},{studentProgress:t})))}catch(e){console.error("Error generating progress report:",e)}},q=async()=>{Yt.success("Certification templates ready for printing")},V=async()=>{await Promise.all([D(),U(),B(),z(),F(),L()])},W=async e=>{try{if("csv"===e){let e="";const t=(new Date).toISOString().split("T")[0];"sf2"===i?e=await H():"sf9"===i?e=await G():"class_list"===i?e=await Z():("grade"!==i&&"comprehensive"!==i||(e+="Grade Distribution\n",e+="Grade Level,Count,Percentage\n",g.gradeDistribution.forEach((t=>{e+="".concat(t.grade,",").concat(t.count,",").concat(t.percentage,"%\n")})),e+="\n"),"demographics"!==i&&"comprehensive"!==i||(e+="Gender Distribution\n",e+="Gender,Count\n",g.genderDistribution.forEach((t=>{e+="".concat(t.gender,",").concat(t.count,"\n")})),e+="\n4P's Beneficiaries\n",e+="Category,Count\n",g.fourPsData.forEach((t=>{e+="".concat(t.category,",").concat(t.count,"\n")}))));const r=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="".concat(i,"_report_").concat(t,".csv"),a.click()}else Yt("PDF export feature coming soon!")}catch(t){console.error("Error exporting report:",t),Yt.error("Failed to export report")}},H=()=>{let e="SCHOOL FORM 2 - DAILY ATTENDANCE REPORT OF LEARNERS\n";return e+="School: Anonang-Naguilian Community School\n",e+="School Year: ".concat(P,"\n"),e+="Grade Level: ".concat(s,", Section: ").concat(c,"\n"),e+="Period: ".concat(m.start," to ").concat(m.end,"\n\n"),e+="Pupil ID,Name,Total Days,Present,Absent,Late,Excused,Attendance Rate\n",S.forEach((t=>{e+="".concat(t.pupil_id,',"').concat(t.name,'",').concat(t.total_days,",").concat(t.present,",").concat(t.absent,",").concat(t.late,",").concat(t.excused,",").concat(t.attendance_rate,"%\n")})),e+="\n\nPrepared by: ____________________\n",e+="Class Adviser\n\n",e+="Checked by: ____________________\n",e+="Principal\n",e},G=()=>{var e;let t="SCHOOL FORM 9 - LEARNER'S PERMANENT ACADEMIC RECORD\n";t+="School: Anonang-Naguilian Community School\n",t+="School Year: ".concat(P,"\n"),t+="Grade Level: ".concat(s,", Section: ").concat(c,"\n\n");const r=Object.keys((null===(e=N[0])||void 0===e?void 0:e.subjects)||{});return t+="Pupil ID,Name,"+r.map((e=>"".concat(e,"_Q1,").concat(e,"_Q2,").concat(e,"_Q3,").concat(e,"_Q4,").concat(e,"_Final"))).join(",")+",General Average\n",N.forEach((e=>{let n="".concat(e.pupil_id,',"').concat(e.name,'"');r.forEach((t=>{const r=e.subjects[t];n+=",".concat(r.q1||"",",").concat(r.q2||"",",").concat(r.q3||"",",").concat(r.q4||"",",").concat(r.final||"")})),n+=",".concat(e.general_average||"","\n"),t+=n})),t+="\n\nClass Adviser: ____________________\n",t+="Principal: ____________________\n",t},Z=()=>{let e="CLASS LIST REPORT\n";return e+="School: Anonang-Naguilian Community School\n",e+="School Year: ".concat(P,"\n"),s&&(e+="Grade Level: ".concat(s,"\n")),c&&(e+="Section: ".concat(c,"\n")),e+="\n",e+="Pupil ID,Name,Grade,Section,Gender,4P's Beneficiary,Birth Date,Address\n",g.classList.forEach((t=>{e+="".concat(t.pupil_id,',"').concat(t.name,'",').concat(t.grade_level,",").concat(t.section,",").concat(t.gender,",").concat(t.is_4ps?"Yes":"No",",").concat(t.birth_date,',"').concat(t.address||"",'"\n')})),e},K=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"];return(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsxs)("div",{className:"flex justify-between items-center",children:[(0,La.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),(0,La.jsxs)("div",{className:"flex gap-3",children:[(0,La.jsxs)("button",{onClick:()=>{window.print()},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 flex items-center gap-2",children:[(0,La.jsx)(WP,{className:"w-4 h-4"}),"Print"]}),(0,La.jsxs)("button",{onClick:()=>W("csv"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[(0,La.jsx)(PP,{className:"w-4 h-4"}),"Export CSV"]}),(0,La.jsxs)("button",{onClick:()=>W("pdf"),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center gap-2",children:[(0,La.jsx)(Ya,{className:"w-4 h-4"}),"Export PDF"]})]})]}),(0,La.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,La.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Report Type"}),(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,La.jsxs)("button",{onClick:()=>o("grade"),className:"p-4 rounded-lg border-2 transition-colors ".concat("grade"===i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,La.jsx)(Ka,{className:"w-6 h-6 mb-2 mx-auto text-blue-600"}),(0,La.jsx)("p",{className:"font-medium",children:"Grade Report"}),(0,La.jsx)("p",{className:"text-sm text-gray-500",children:"Performance analysis"})]}),(0,La.jsxs)("button",{onClick:()=>o("attendance"),className:"p-4 rounded-lg border-2 transition-colors ".concat("attendance"===i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,La.jsx)($a,{className:"w-6 h-6 mb-2 mx-auto text-blue-600"}),(0,La.jsx)("p",{className:"font-medium",children:"Attendance Report"}),(0,La.jsx)("p",{className:"text-sm text-gray-500",children:"Attendance patterns"})]}),(0,La.jsxs)("button",{onClick:()=>o("sf2"),className:"p-4 rounded-lg border-2 transition-colors ".concat("sf2"===i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,La.jsx)(HP,{className:"w-6 h-6 mb-2 mx-auto text-blue-600"}),(0,La.jsx)("p",{className:"font-medium",children:"SF2 Report"}),(0,La.jsx)("p",{className:"text-sm text-gray-500",children:"Daily attendance"})]}),(0,La.jsxs)("button",{onClick:()=>o("sf9"),className:"p-4 rounded-lg border-2 transition-colors ".concat("sf9"===i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,La.jsx)(AP,{className:"w-6 h-6 mb-2 mx-auto text-blue-600"}),(0,La.jsx)("p",{className:"font-medium",children:"SF9 Report"}),(0,La.jsx)("p",{className:"text-sm text-gray-500",children:"Report cards"})]}),(0,La.jsxs)("button",{onClick:()=>o("class_list"),className:"p-4 rounded-lg border-2 transition-colors ".concat("class_list"===i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,La.jsx)(Za,{className:"w-6 h-6 mb-2 mx-auto text-blue-600"}),(0,La.jsx)("p",{className:"font-medium",children:"Class List"}),(0,La.jsx)("p",{className:"text-sm text-gray-500",children:"Pupil roster"})]}),(0,La.jsxs)("button",{onClick:()=>o("trend"),className:"p-4 rounded-lg border-2 transition-colors ".concat("trend"===i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,La.jsx)(yc,{className:"w-6 h-6 mb-2 mx-auto text-blue-600"}),(0,La.jsx)("p",{className:"font-medium",children:"Trend Analysis"}),(0,La.jsx)("p",{className:"text-sm text-gray-500",children:"5-year trends"})]}),(0,La.jsxs)("button",{onClick:()=>o("demographics"),className:"p-4 rounded-lg border-2 transition-colors ".concat("demographics"===i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,La.jsx)(Za,{className:"w-6 h-6 mb-2 mx-auto text-blue-600"}),(0,La.jsx)("p",{className:"font-medium",children:"Demographics"}),(0,La.jsx)("p",{className:"text-sm text-gray-500",children:"Gender & 4P's data"})]}),(0,La.jsxs)("button",{onClick:()=>o("progress"),className:"p-4 rounded-lg border-2 transition-colors ".concat("progress"===i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,La.jsx)(GP,{className:"w-6 h-6 mb-2 mx-auto text-blue-600"}),(0,La.jsx)("p",{className:"font-medium",children:"Progress Report"}),(0,La.jsx)("p",{className:"text-sm text-gray-500",children:"Quarter trends"})]}),(0,La.jsxs)("button",{onClick:()=>o("certification"),className:"p-4 rounded-lg border-2 transition-colors ".concat("certification"===i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,La.jsx)(ZP,{className:"w-6 h-6 mb-2 mx-auto text-blue-600"}),(0,La.jsx)("p",{className:"font-medium",children:"Certification"}),(0,La.jsx)("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),(0,La.jsxs)("button",{onClick:()=>o("comprehensive"),className:"p-4 rounded-lg border-2 transition-colors ".concat("comprehensive"===i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,La.jsx)(Ya,{className:"w-6 h-6 mb-2 mx-auto text-blue-600"}),(0,La.jsx)("p",{className:"font-medium",children:"Comprehensive"}),(0,La.jsx)("p",{className:"text-sm text-gray-500",children:"All reports"})]})]})]}),(0,La.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,La.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Report Filters"}),(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),(0,La.jsxs)("select",{value:s||"",onChange:e=>l(e.target.value?parseInt(e.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,La.jsx)("option",{value:"",children:"All Grades"}),[1,2,3,4,5,6].map((e=>(0,La.jsxs)("option",{value:e,children:["Grade ",e]},e)))]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),(0,La.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Enter section",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),("grade"===i||"comprehensive"===i)&&(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quarter"}),(0,La.jsxs)("select",{value:d,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,La.jsx)("option",{value:"1",children:"1st Quarter"}),(0,La.jsx)("option",{value:"2",children:"2nd Quarter"}),(0,La.jsx)("option",{value:"3",children:"3rd Quarter"}),(0,La.jsx)("option",{value:"4",children:"4th Quarter"})]})]}),("attendance"===i||"sf2"===i||"comprehensive"===i)&&(0,La.jsxs)(La.Fragment,{children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,La.jsx)("input",{type:"date",value:m.start,onChange:e=>y((t=>Re(Re({},t),{},{start:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,La.jsx)("input",{type:"date",value:m.end,onChange:e=>y((t=>Re(Re({},t),{},{end:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),w?(0,La.jsx)("div",{className:"text-center py-8",children:(0,La.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):(0,La.jsxs)("div",{className:"space-y-6",children:["sf2"===i&&(0,La.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,La.jsxs)("div",{className:"text-center mb-6",children:[(0,La.jsx)("h2",{className:"text-xl font-bold",children:"SCHOOL FORM 2"}),(0,La.jsx)("h3",{className:"text-lg font-semibold",children:"DAILY ATTENDANCE REPORT OF LEARNERS"}),(0,La.jsxs)("div",{className:"mt-4 text-sm",children:[(0,La.jsxs)("p",{children:[(0,La.jsx)("strong",{children:"School:"})," Anonang-Naguilian Community School"]}),(0,La.jsxs)("p",{children:[(0,La.jsx)("strong",{children:"School Year:"})," ",P]}),(0,La.jsxs)("p",{children:[(0,La.jsx)("strong",{children:"Grade Level:"})," ",s," ",(0,La.jsx)("strong",{children:"Section:"})," ",c]}),(0,La.jsxs)("p",{children:[(0,La.jsx)("strong",{children:"Period:"})," ",m.start," to ",m.end]})]})]}),S.length>0?(0,La.jsx)("div",{className:"overflow-x-auto",children:(0,La.jsxs)("table",{className:"min-w-full border-collapse border border-gray-400",children:[(0,La.jsx)("thead",{children:(0,La.jsxs)("tr",{className:"bg-gray-100",children:[(0,La.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"No."}),(0,La.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"PUPIL ID"}),(0,La.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"NAME"}),(0,La.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"TOTAL DAYS"}),(0,La.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"PRESENT"}),(0,La.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"ABSENT"}),(0,La.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"LATE"}),(0,La.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"EXCUSED"}),(0,La.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"ATTENDANCE RATE"})]})}),(0,La.jsx)("tbody",{children:S.map(((e,t)=>(0,La.jsxs)("tr",{children:[(0,La.jsx)("td",{className:"border border-gray-400 px-4 py-2 text-center",children:t+1}),(0,La.jsx)("td",{className:"border border-gray-400 px-4 py-2",children:e.pupil_id}),(0,La.jsx)("td",{className:"border border-gray-400 px-4 py-2",children:e.name}),(0,La.jsx)("td",{className:"border border-gray-400 px-4 py-2 text-center",children:e.total_days}),(0,La.jsx)("td",{className:"border border-gray-400 px-4 py-2 text-center",children:e.present}),(0,La.jsx)("td",{className:"border border-gray-400 px-4 py-2 text-center",children:e.absent}),(0,La.jsx)("td",{className:"border border-gray-400 px-4 py-2 text-center",children:e.late}),(0,La.jsx)("td",{className:"border border-gray-400 px-4 py-2 text-center",children:e.excused}),(0,La.jsxs)("td",{className:"border border-gray-400 px-4 py-2 text-center",children:[e.attendance_rate,"%"]})]},e.pupil_id)))})]})}):(0,La.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Please select grade and section to generate SF2 report"}),(0,La.jsxs)("div",{className:"mt-8 grid grid-cols-2 gap-8",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"font-medium",children:"Prepared by:"}),(0,La.jsx)("div",{className:"mt-8 border-b border-gray-400"}),(0,La.jsx)("p",{className:"text-center text-sm",children:"Class Adviser"})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"font-medium",children:"Checked by:"}),(0,La.jsx)("div",{className:"mt-8 border-b border-gray-400"}),(0,La.jsx)("p",{className:"text-center text-sm",children:"Principal"})]})]})]}),"sf9"===i&&(0,La.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,La.jsxs)("div",{className:"text-center mb-6",children:[(0,La.jsx)("h2",{className:"text-xl font-bold",children:"SCHOOL FORM 9"}),(0,La.jsx)("h3",{className:"text-lg font-semibold",children:"LEARNER'S PERMANENT ACADEMIC RECORD"}),(0,La.jsxs)("div",{className:"mt-4 text-sm",children:[(0,La.jsxs)("p",{children:[(0,La.jsx)("strong",{children:"School:"})," Anonang-Naguilian Community School"]}),(0,La.jsxs)("p",{children:[(0,La.jsx)("strong",{children:"School Year:"})," ",P]}),(0,La.jsxs)("p",{children:[(0,La.jsx)("strong",{children:"Grade Level:"})," ",s," ",(0,La.jsx)("strong",{children:"Section:"})," ",c]})]})]}),N.length>0?(0,La.jsx)("div",{className:"overflow-x-auto",children:(0,La.jsxs)("table",{className:"min-w-full border-collapse border border-gray-400 text-xs",children:[(0,La.jsxs)("thead",{children:[(0,La.jsxs)("tr",{className:"bg-gray-100",children:[(0,La.jsx)("th",{className:"border border-gray-400 px-2 py-2",rowSpan:2,children:"No."}),(0,La.jsx)("th",{className:"border border-gray-400 px-2 py-2",rowSpan:2,children:"PUPIL ID"}),(0,La.jsx)("th",{className:"border border-gray-400 px-2 py-2",rowSpan:2,children:"NAME"}),Object.keys((null===(e=N[0])||void 0===e?void 0:e.subjects)||{}).map((e=>(0,La.jsx)("th",{className:"border border-gray-400 px-2 py-2",colSpan:5,children:e},e))),(0,La.jsx)("th",{className:"border border-gray-400 px-2 py-2",rowSpan:2,children:"GENERAL AVERAGE"})]}),(0,La.jsx)("tr",{className:"bg-gray-100",children:Object.keys((null===(t=N[0])||void 0===t?void 0:t.subjects)||{}).map((e=>(0,La.jsxs)(n.Fragment,{children:[(0,La.jsx)("th",{className:"border border-gray-400 px-1 py-1",children:"Q1"}),(0,La.jsx)("th",{className:"border border-gray-400 px-1 py-1",children:"Q2"}),(0,La.jsx)("th",{className:"border border-gray-400 px-1 py-1",children:"Q3"}),(0,La.jsx)("th",{className:"border border-gray-400 px-1 py-1",children:"Q4"}),(0,La.jsx)("th",{className:"border border-gray-400 px-1 py-1",children:"Final"})]},e)))})]}),(0,La.jsx)("tbody",{children:N.map(((e,t)=>(0,La.jsxs)("tr",{children:[(0,La.jsx)("td",{className:"border border-gray-400 px-2 py-2 text-center",children:t+1}),(0,La.jsx)("td",{className:"border border-gray-400 px-2 py-2",children:e.pupil_id}),(0,La.jsx)("td",{className:"border border-gray-400 px-2 py-2",children:e.name}),Object.entries(e.subjects).map((e=>{let[t,r]=e;return(0,La.jsxs)(n.Fragment,{children:[(0,La.jsx)("td",{className:"border border-gray-400 px-1 py-2 text-center",children:r.q1||"-"}),(0,La.jsx)("td",{className:"border border-gray-400 px-1 py-2 text-center",children:r.q2||"-"}),(0,La.jsx)("td",{className:"border border-gray-400 px-1 py-2 text-center",children:r.q3||"-"}),(0,La.jsx)("td",{className:"border border-gray-400 px-1 py-2 text-center",children:r.q4||"-"}),(0,La.jsx)("td",{className:"border border-gray-400 px-1 py-2 text-center font-semibold",children:r.final||"-"})]},t)})),(0,La.jsx)("td",{className:"border border-gray-400 px-2 py-2 text-center font-bold",children:e.general_average||"-"})]},e.pupil_id)))})]})}):(0,La.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Please select grade and section to generate SF9 report"}),(0,La.jsxs)("div",{className:"mt-8 grid grid-cols-2 gap-8",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"font-medium",children:"Class Adviser:"}),(0,La.jsx)("div",{className:"mt-8 border-b border-gray-400"}),(0,La.jsx)("p",{className:"text-center text-sm",children:"Signature over Printed Name"})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"font-medium",children:"Principal:"}),(0,La.jsx)("div",{className:"mt-8 border-b border-gray-400"}),(0,La.jsx)("p",{className:"text-center text-sm",children:"Signature over Printed Name"})]})]})]}),("grade"===i||"comprehensive"===i)&&g.gradeDistribution.length>0&&(0,La.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grade Distribution"}),(0,La.jsx)("div",{className:"h-64",children:(0,La.jsx)(Nu,{width:"100%",height:"100%",children:(0,La.jsxs)(hP,{data:g.gradeDistribution,children:[(0,La.jsx)(fP,{strokeDasharray:"3 3"}),(0,La.jsx)(RE,{dataKey:"grade",angle:-45,textAnchor:"end",height:100}),(0,La.jsx)(ZE,{}),(0,La.jsx)(Pd,{}),(0,La.jsx)(Uk,{dataKey:"count",fill:"#3b82f6"})]})})})]}),("trend"===i||"comprehensive"===i)&&g.enrollmentTrends.length>0&&(0,La.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"5-Year Enrollment Trends"}),(0,La.jsx)("div",{className:"h-64",children:(0,La.jsx)(Nu,{width:"100%",height:"100%",children:(0,La.jsxs)(KE,{data:g.enrollmentTrends,children:[(0,La.jsx)(fP,{strokeDasharray:"3 3"}),(0,La.jsx)(RE,{dataKey:"year"}),(0,La.jsx)(ZE,{}),(0,La.jsx)(Pd,{}),(0,La.jsx)(tE,{type:"monotone",dataKey:"total",stroke:"#3b82f6",name:"Total",strokeWidth:3}),(0,La.jsx)(tE,{type:"monotone",dataKey:"male",stroke:"#10b981",name:"Male"}),(0,La.jsx)(tE,{type:"monotone",dataKey:"female",stroke:"#f59e0b",name:"Female"}),(0,La.jsx)(tE,{type:"monotone",dataKey:"fourPs",stroke:"#8b5cf6",name:"4P's Beneficiaries"})]})})})]}),("demographics"===i||"comprehensive"===i)&&(0,La.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.genderDistribution.length>0&&(0,La.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gender Distribution"}),(0,La.jsx)("div",{className:"h-64",children:(0,La.jsx)(Nu,{width:"100%",height:"100%",children:(0,La.jsxs)(KA,{children:[(0,La.jsx)(ZA,{data:g.genderDistribution,cx:"50%",cy:"50%",labelLine:!1,label:e=>"".concat(e.gender,": ").concat(e.count),outerRadius:80,fill:"#8884d8",dataKey:"count",children:g.genderDistribution.map(((e,t)=>(0,La.jsx)(g_,{fill:K[t%K.length]},"cell-".concat(t))))}),(0,La.jsx)(Pd,{})]})})})]}),g.fourPsData.length>0&&(0,La.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"4P's Beneficiaries"}),(0,La.jsx)("div",{className:"h-64",children:(0,La.jsx)(Nu,{width:"100%",height:"100%",children:(0,La.jsxs)(hP,{data:g.fourPsData,children:[(0,La.jsx)(fP,{strokeDasharray:"3 3"}),(0,La.jsx)(RE,{dataKey:"category"}),(0,La.jsx)(ZE,{}),(0,La.jsx)(Pd,{}),(0,La.jsx)(Uk,{dataKey:"count",fill:"#8b5cf6"})]})})})]})]}),"class_list"===i&&(0,La.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Class List"}),(0,La.jsx)("div",{className:"overflow-x-auto",children:(0,La.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,La.jsx)("thead",{className:"bg-gray-50",children:(0,La.jsxs)("tr",{children:[(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No."}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pupil ID"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gender"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"4P's"})]})}),(0,La.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.classList.map(((e,t)=>(0,La.jsxs)("tr",{children:[(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t+1}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.pupil_id}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.name}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.grade_level}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.section}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:e.gender}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,La.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.is_4ps?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.is_4ps?"Yes":"No"})})]},e.pupil_id)))})]})})]}),"certification"===i&&(0,La.jsx)("div",{className:"bg-white rounded-lg shadow p-8",children:(0,La.jsxs)("div",{className:"text-center border-2 border-gray-400 p-8",children:[(0,La.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"CERTIFICATE OF ENROLLMENT"}),(0,La.jsxs)("div",{className:"mb-6",children:[(0,La.jsx)("img",{src:"/school-logo.png",alt:"School Logo",className:"w-20 h-20 mx-auto mb-4"}),(0,La.jsx)("h3",{className:"text-xl font-semibold",children:"ANONANG-NAGUILIAN COMMUNITY SCHOOL"}),(0,La.jsx)("p",{className:"text-sm",children:"Barangay Anonang, Baguio City"})]}),(0,La.jsxs)("div",{className:"text-left space-y-4 mb-6",children:[(0,La.jsx)("p",{children:(0,La.jsx)("strong",{children:"TO WHOM IT MAY CONCERN:"})}),(0,La.jsxs)("p",{children:["This is to certify that ",(0,La.jsx)("strong",{children:"_________________________"})," is currently enrolled as a Grade ",(0,La.jsx)("strong",{children:"____"})," pupil in this school for School Year ",(0,La.jsx)("strong",{children:P}),"."]}),(0,La.jsx)("p",{children:"This certification is issued for whatever legal purpose it may serve."})]}),(0,La.jsxs)("div",{className:"grid grid-cols-2 gap-8 mt-12",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"font-medium",children:"Issued by:"}),(0,La.jsx)("div",{className:"mt-8 border-b border-gray-400"}),(0,La.jsx)("p",{className:"text-center text-sm",children:"School Registrar"})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"font-medium",children:"Approved by:"}),(0,La.jsx)("div",{className:"mt-8 border-b border-gray-400"}),(0,La.jsx)("p",{className:"text-center text-sm",children:"School Principal"})]})]}),(0,La.jsx)("p",{className:"text-sm mt-8",children:"Date Issued: _______________"})]})})]})]})},YA=()=>{const{user:e}=za(),[t,r]=(0,n.useState)([]),[a,i]=(0,n.useState)(""),[o,s]=(0,n.useState)({}),[l,c]=(0,n.useState)("overview"),[u,d]=(0,n.useState)([]),[f,h]=(0,n.useState)(!1),[p,m]=(0,n.useState)("1"),[y,g]=(0,n.useState)({start:new Date((new Date).setMonth((new Date).getMonth()-1)).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0]});(0,n.useEffect)((()=>{v(),x()}),[e]),(0,n.useEffect)((()=>{a&&b(a)}),[a,p,y]);const v=async()=>{try{const{data:t,error:n}=await Ra.from("pupils").select("*").eq("parent_id",null===e||void 0===e?void 0:e.id).eq("archived",!1).order("grade_level").order("first_name");if(n)throw n;r(t||[]),t&&t.length>0&&!a&&i(t[0].id)}catch(t){console.error("Error fetching children:",t)}},b=async r=>{h(!0);try{const n=t.find((e=>e.id===r));if(!n)return;const{data:a}=await Ra.from("grades").select("\n          *,\n          subjects (name, code)\n        ").eq("pupil_id",r).eq("quarter",p).order("created_at",{ascending:!1}),i=[1,2,3,4],o=[];for(const e of i){const{data:t}=await Ra.from("grades").select("final_grade").eq("pupil_id",r).eq("quarter",e);if(t&&t.length>0){const r=t.reduce(((e,t)=>e+t.final_grade),0)/t.length;o.push({quarter:"Q".concat(e),average:Math.round(100*r)/100})}else o.push({quarter:"Q".concat(e),average:null})}const{data:l}=await Ra.from("attendance").select("\n          *,\n          subjects (name, code)\n        ").eq("pupil_id",r).gte("date",y.start).lte("date",y.end).order("date",{ascending:!1}),c={present:(null===l||void 0===l?void 0:l.filter((e=>"present"===e.status)).length)||0,absent:(null===l||void 0===l?void 0:l.filter((e=>"absent"===e.status)).length)||0,late:(null===l||void 0===l?void 0:l.filter((e=>"late"===e.status)).length)||0,excused:(null===l||void 0===l?void 0:l.filter((e=>"excused"===e.status)).length)||0,total:(null===l||void 0===l?void 0:l.length)||0,rate:0};c.rate=c.total>0?(c.present+c.late)/c.total*100:0;const{data:u}=await Ra.from("notifications").select("*").eq("recipient_id",null===e||void 0===e?void 0:e.id).ilike("message","%".concat(n.first_name,"%")).order("created_at",{ascending:!1}).limit(10);s((e=>Re(Re({},e),{},{[r]:{child:n,grades:a||[],attendance:l||[],notifications:u||[],gradeProgress:o,attendanceStats:c}})))}catch(n){console.error("Error fetching child record:",n)}finally{h(!1)}},x=async()=>{try{const{data:t,error:r}=await Ra.from("notifications").select("*").eq("recipient_id",null===e||void 0===e?void 0:e.id).order("created_at",{ascending:!1}).limit(20);if(r)throw r;d(t||[])}catch(t){console.error("Error fetching notifications:",t)}},w=t.find((e=>e.id===a)),j=a?o[a]:null,_=e=>e>=90?"text-green-600":e>=85?"text-blue-600":e>=80?"text-yellow-600":e>=75?"text-orange-600":"text-red-600",k=e=>e>=90?"Outstanding":e>=85?"Very Satisfactory":e>=80?"Satisfactory":e>=75?"Fairly Satisfactory":"Did Not Meet Expectations",S=["#10b981","#ef4444","#f59e0b","#3b82f6"];return 0===t.length?(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Children"}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"text-center py-12",children:[(0,La.jsx)(Za,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,La.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Children Assigned"}),(0,La.jsx)("p",{className:"text-gray-600 max-w-md mx-auto",children:"You don't have any children assigned to your account. Please contact the school administrator to link your children's records to your parent account."})]})})]}):(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsxs)("div",{className:"flex justify-between items-center",children:[(0,La.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Children"}),(0,La.jsxs)("div",{className:"flex items-center gap-4",children:[a&&(0,La.jsxs)("div",{className:"flex gap-2",children:[(0,La.jsxs)("button",{onClick:async()=>{if(!a)return;const e=o[a];if(e)try{let t="CHILD ACADEMIC RECORD\n";t+="Child: ".concat(e.child.first_name," ").concat(e.child.middle_name?e.child.middle_name.charAt(0)+". ":"").concat(e.child.last_name,"\n"),t+="Pupil ID: ".concat(e.child.pupil_id,"\n"),t+="Grade: ".concat(e.child.grade_level," - ").concat(e.child.section,"\n"),t+="School Year: ".concat((new Date).getFullYear(),"-").concat((new Date).getFullYear()+1,"\n\n"),t+="GRADES (Quarter ".concat(p,")\n"),t+="Subject,Final Grade,Remarks\n",e.grades.forEach((e=>{t+='"'.concat(e.subjects.name,'",').concat(e.final_grade,',"').concat(e.remarks||"",'"\n')})),t+="\nATTENDANCE SUMMARY\n",t+="Present,Absent,Late,Excused,Total Days,Attendance Rate\n",t+="".concat(e.attendanceStats.present,",").concat(e.attendanceStats.absent,",").concat(e.attendanceStats.late,",").concat(e.attendanceStats.excused,",").concat(e.attendanceStats.total,",").concat(e.attendanceStats.rate.toFixed(1),"%\n");const r=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="".concat(e.child.first_name,"_").concat(e.child.last_name,"_record_").concat((e=>e.toISOString().split("T")[0])(new Date),".csv"),a.click()}catch(t){console.error("Error exporting record:",t)}},className:"btn-secondary",children:[(0,La.jsx)(PP,{className:"w-4 h-4 mr-2"}),"Export Record"]}),(0,La.jsxs)("button",{onClick:()=>window.print(),className:"btn-secondary",children:[(0,La.jsx)(WP,{className:"w-4 h-4 mr-2"}),"Print"]})]}),(0,La.jsx)("select",{value:a,onChange:e=>i(e.target.value),className:"input-field min-w-[200px]",children:t.map((e=>(0,La.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name," (Grade ",e.grade_level,")"]},e.id)))})]})]}),w&&(0,La.jsxs)(La.Fragment,{children:[(0,La.jsx)("div",{className:"card bg-gradient-to-r from-blue-50 to-indigo-50",children:(0,La.jsxs)("div",{className:"flex items-center gap-6",children:[(0,La.jsxs)("div",{className:"relative",children:[w.profile_picture?(0,La.jsx)("img",{src:w.profile_picture,alt:"".concat(w.first_name," ").concat(w.last_name),className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}):(0,La.jsx)("div",{className:"w-24 h-24 rounded-full bg-gray-200 border-4 border-white shadow-lg flex items-center justify-center",children:(0,La.jsx)(Xa,{className:"w-12 h-12 text-gray-400"})}),(0,La.jsx)("div",{className:"absolute -bottom-2 -right-2 bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:w.grade_level})]}),(0,La.jsxs)("div",{className:"flex-1",children:[(0,La.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:[w.first_name," ",w.middle_name?w.middle_name.charAt(0)+". ":"",w.last_name]}),(0,La.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3 text-sm",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("span",{className:"text-gray-600",children:"Pupil ID:"}),(0,La.jsx)("p",{className:"font-medium",children:w.pupil_id})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("span",{className:"text-gray-600",children:"Grade & Section:"}),(0,La.jsxs)("p",{className:"font-medium",children:["Grade ",w.grade_level," - ",w.section]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("span",{className:"text-gray-600",children:"Birth Date:"}),(0,La.jsx)("p",{className:"font-medium",children:new Date(w.birth_date).toLocaleDateString()})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("span",{className:"text-gray-600",children:"4P's Beneficiary:"}),(0,La.jsx)("p",{className:"font-medium ".concat(w.is_4ps_beneficiary?"text-blue-600":"text-gray-500"),children:w.is_4ps_beneficiary?"Yes":"No"})]})]})]})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[(0,La.jsx)("button",{onClick:()=>c("overview"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("overview"===l?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Overview"}),(0,La.jsx)("button",{onClick:()=>c("grades"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("grades"===l?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Grades"}),(0,La.jsx)("button",{onClick:()=>c("attendance"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("attendance"===l?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Attendance"}),(0,La.jsx)("button",{onClick:()=>c("records"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("records"===l?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"All Records"})]})}),"overview"===l&&j&&(0,La.jsxs)(La.Fragment,{children:[(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center justify-between",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Current Average"}),(0,La.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:j.grades.length>0?(j.grades.reduce(((e,t)=>e+t.final_grade),0)/j.grades.length).toFixed(1):"N/A"}),(0,La.jsxs)("p",{className:"text-xs text-gray-500",children:["Quarter ",p]})]}),(0,La.jsx)(Ka,{className:"w-8 h-8 text-blue-600"})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center justify-between",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Attendance Rate"}),(0,La.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[j.attendanceStats.rate.toFixed(1),"%"]}),(0,La.jsx)("p",{className:"text-xs text-gray-500",children:"Last 30 days"})]}),(0,La.jsx)($a,{className:"w-8 h-8 text-green-600"})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center justify-between",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Total Subjects"}),(0,La.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:j.grades.length}),(0,La.jsx)("p",{className:"text-xs text-gray-500",children:"Current quarter"})]}),(0,La.jsx)(ZP,{className:"w-8 h-8 text-purple-600"})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center justify-between",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600",children:"Unread Alerts"}),(0,La.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:u.filter((e=>!e.read)).length}),(0,La.jsx)("p",{className:"text-xs text-gray-500",children:"Notifications"})]}),(0,La.jsx)(mc,{className:"w-8 h-8 text-orange-600"})]})})]}),(0,La.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grade Progress"}),(0,La.jsx)("div",{className:"h-64",children:(0,La.jsx)(Nu,{width:"100%",height:"100%",children:(0,La.jsxs)(KE,{data:j.gradeProgress,children:[(0,La.jsx)(fP,{strokeDasharray:"3 3"}),(0,La.jsx)(RE,{dataKey:"quarter"}),(0,La.jsx)(ZE,{domain:[70,100]}),(0,La.jsx)(Pd,{}),(0,La.jsx)(tE,{type:"monotone",dataKey:"average",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:6},connectNulls:!1})]})})})]}),(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Attendance Distribution"}),(0,La.jsx)("div",{className:"h-64",children:(0,La.jsx)(Nu,{width:"100%",height:"100%",children:(0,La.jsxs)(KA,{children:[(0,La.jsx)(ZA,{data:[{name:"Present",value:j.attendanceStats.present},{name:"Absent",value:j.attendanceStats.absent},{name:"Late",value:j.attendanceStats.late},{name:"Excused",value:j.attendanceStats.excused}],cx:"50%",cy:"50%",labelLine:!1,label:e=>"".concat(e.name,": ").concat(e.value),outerRadius:80,fill:"#8884d8",dataKey:"value",children:[{name:"Present",value:j.attendanceStats.present},{name:"Absent",value:j.attendanceStats.absent},{name:"Late",value:j.attendanceStats.late},{name:"Excused",value:j.attendanceStats.excused}].map(((e,t)=>(0,La.jsx)(g_,{fill:S[t%S.length]},"cell-".concat(t))))}),(0,La.jsx)(Pd,{})]})})})]})]})]}),"grades"===l&&(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"flex items-center gap-4",children:[(0,La.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Quarter:"}),(0,La.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"input-field w-auto",children:[(0,La.jsx)("option",{value:"1",children:"1st Quarter"}),(0,La.jsx)("option",{value:"2",children:"2nd Quarter"}),(0,La.jsx)("option",{value:"3",children:"3rd Quarter"}),(0,La.jsx)("option",{value:"4",children:"4th Quarter"})]})]})}),(0,La.jsxs)("div",{className:"card",children:[(0,La.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Subject Grades - Quarter ",p]}),f?(0,La.jsx)("div",{className:"text-center py-8",children:(0,La.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):0===(null===j||void 0===j?void 0:j.grades.length)?(0,La.jsxs)("div",{className:"text-center py-8",children:[(0,La.jsx)(Ka,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,La.jsx)("p",{className:"text-gray-500",children:"No grades available for this quarter"})]}):(0,La.jsx)("div",{className:"overflow-x-auto",children:(0,La.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,La.jsx)("thead",{className:"bg-gray-50",children:(0,La.jsxs)("tr",{children:[(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),(0,La.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Final Grade"}),(0,La.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance Level"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remarks"})]})}),(0,La.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null===j||void 0===j?void 0:j.grades.map((e=>(0,La.jsxs)("tr",{children:[(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,La.jsxs)("div",{children:[(0,La.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.subjects.name}),(0,La.jsx)("div",{className:"text-sm text-gray-500",children:e.subjects.code})]})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,La.jsx)("span",{className:"text-xl font-bold ".concat(_(e.final_grade)),children:e.final_grade.toFixed(2)})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,La.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.final_grade>=90?"bg-green-100 text-green-800":e.final_grade>=85?"bg-blue-100 text-blue-800":e.final_grade>=80?"bg-yellow-100 text-yellow-800":e.final_grade>=75?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"),children:k(e.final_grade)})}),(0,La.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.remarks||"-"})]},e.id)))})]})})]}),j&&(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quarterly Progress"}),(0,La.jsx)("div",{className:"h-64",children:(0,La.jsx)(Nu,{width:"100%",height:"100%",children:(0,La.jsxs)(KE,{data:j.gradeProgress,children:[(0,La.jsx)(fP,{strokeDasharray:"3 3"}),(0,La.jsx)(RE,{dataKey:"quarter"}),(0,La.jsx)(ZE,{domain:[70,100]}),(0,La.jsx)(Pd,{}),(0,La.jsx)(tE,{type:"monotone",dataKey:"average",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:6},connectNulls:!1})]})})})]})]}),"attendance"===l&&(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,La.jsx)("input",{type:"date",value:y.start,onChange:e=>g((t=>Re(Re({},t),{},{start:e.target.value}))),className:"input-field"})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,La.jsx)("input",{type:"date",value:y.end,onChange:e=>g((t=>Re(Re({},t),{},{end:e.target.value}))),className:"input-field"})]})]})}),j&&(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"text-center",children:[(0,La.jsx)("div",{className:"text-2xl font-bold text-green-600",children:j.attendanceStats.present}),(0,La.jsx)("div",{className:"text-sm text-gray-600",children:"Present"})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"text-center",children:[(0,La.jsx)("div",{className:"text-2xl font-bold text-red-600",children:j.attendanceStats.absent}),(0,La.jsx)("div",{className:"text-sm text-gray-600",children:"Absent"})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"text-center",children:[(0,La.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:j.attendanceStats.late}),(0,La.jsx)("div",{className:"text-sm text-gray-600",children:"Late"})]})}),(0,La.jsx)("div",{className:"card",children:(0,La.jsxs)("div",{className:"text-center",children:[(0,La.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:j.attendanceStats.excused}),(0,La.jsx)("div",{className:"text-sm text-gray-600",children:"Excused"})]})})]}),(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Attendance"}),f?(0,La.jsx)("div",{className:"text-center py-8",children:(0,La.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):0===(null===j||void 0===j?void 0:j.attendance.length)?(0,La.jsxs)("div",{className:"text-center py-8",children:[(0,La.jsx)($a,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,La.jsx)("p",{className:"text-gray-500",children:"No attendance records found for the selected period"})]}):(0,La.jsx)("div",{className:"overflow-x-auto",children:(0,La.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,La.jsx)("thead",{className:"bg-gray-50",children:(0,La.jsxs)("tr",{children:[(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time In"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remarks"})]})}),(0,La.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null===j||void 0===j?void 0:j.attendance.slice(0,20).map((e=>{var t;return(0,La.jsxs)("tr",{children:[(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.date).toLocaleDateString()}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(t=e.subjects)||void 0===t?void 0:t.name)||"N/A"}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.time_in||"-"}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,La.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("present"===e.status?"bg-green-100 text-green-800":"absent"===e.status?"bg-red-100 text-red-800":"late"===e.status?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.status})}),(0,La.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.excuse_reason||e.remarks||"-"})]},e.id)}))})]})})]})]}),"records"===l&&(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Notifications"}),(0,La.jsx)("div",{className:"space-y-4",children:0===u.length?(0,La.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No notifications"}):u.slice(0,10).map((e=>(0,La.jsx)("div",{className:"p-4 rounded-lg border cursor-pointer transition-colors ".concat(e.read?"bg-gray-50 border-gray-200":"bg-blue-50 border-blue-200"),onClick:()=>!e.read&&(async e=>{try{await Ra.from("notifications").update({read:!0}).eq("id",e),d(u.map((t=>t.id===e?Re(Re({},t),{},{read:!0}):t)))}catch(t){console.error("Error marking notification as read:",t)}})(e.id),children:(0,La.jsxs)("div",{className:"flex items-start justify-between",children:[(0,La.jsxs)("div",{className:"flex-1",children:[(0,La.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,La.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),(0,La.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:new Date(e.created_at).toLocaleString()})]}),!e.read&&(0,La.jsx)("span",{className:"ml-4 w-2 h-2 bg-blue-600 rounded-full"})]})},e.id)))})]}),j&&(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Academic Summary"}),(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Current Quarter Performance"}),(0,La.jsxs)("div",{className:"space-y-2",children:[(0,La.jsxs)("div",{className:"flex justify-between",children:[(0,La.jsx)("span",{className:"text-sm text-gray-600",children:"Average Grade:"}),(0,La.jsx)("span",{className:"font-medium",children:j.grades.length>0?(j.grades.reduce(((e,t)=>e+t.final_grade),0)/j.grades.length).toFixed(1):"N/A"})]}),(0,La.jsxs)("div",{className:"flex justify-between",children:[(0,La.jsx)("span",{className:"text-sm text-gray-600",children:"Subjects Enrolled:"}),(0,La.jsx)("span",{className:"font-medium",children:j.grades.length})]}),(0,La.jsxs)("div",{className:"flex justify-between",children:[(0,La.jsx)("span",{className:"text-sm text-gray-600",children:"Quarter:"}),(0,La.jsx)("span",{className:"font-medium",children:p})]})]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Attendance Summary"}),(0,La.jsxs)("div",{className:"space-y-2",children:[(0,La.jsxs)("div",{className:"flex justify-between",children:[(0,La.jsx)("span",{className:"text-sm text-gray-600",children:"Attendance Rate:"}),(0,La.jsxs)("span",{className:"font-medium",children:[j.attendanceStats.rate.toFixed(1),"%"]})]}),(0,La.jsxs)("div",{className:"flex justify-between",children:[(0,La.jsx)("span",{className:"text-sm text-gray-600",children:"Total Days:"}),(0,La.jsx)("span",{className:"font-medium",children:j.attendanceStats.total})]}),(0,La.jsxs)("div",{className:"flex justify-between",children:[(0,La.jsx)("span",{className:"text-sm text-gray-600",children:"Days Present:"}),(0,La.jsx)("span",{className:"font-medium",children:j.attendanceStats.present})]})]})]})]})]})]})]})]})},QA=Ha("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),XA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function JA(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const eT={date:JA({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:JA({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:JA({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},tT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function rT(e){return(t,r)=>{let n;if("formatting"===(null!==r&&void 0!==r&&r.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=null!==r&&void 0!==r&&r.width?String(r.width):t;n=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=null!==r&&void 0!==r&&r.width?String(r.width):e.defaultWidth;n=e.values[a]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const nT={ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:rT({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:rT({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:rT({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:rT({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:rT({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function aT(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(s,(e=>e.test(o))):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(s,(e=>e.test(o)));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}const iT={ordinalNumber:(oT={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.match(oT.matchPattern);if(!r)return null;const n=r[0],a=e.match(oT.parsePattern);if(!a)return null;let i=oT.valueCallback?oT.valueCallback(a[0]):a[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(n.length)}}),era:aT({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:aT({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:aT({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:aT({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:aT({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var oT;const sT={code:"en-US",formatDistance:(e,t,r)=>{let n;const a=XA[e];return n="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:eT,formatRelative:(e,t,r,n)=>tT[e],localize:nT,match:iT,options:{weekStartsOn:0,firstWeekContainsDate:1}};let lT={};function cT(){return lT}Math.pow(10,8);const uT=6048e5;function dT(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function fT(e){const t=dT(e);return t.setHours(0,0,0,0),t}function hT(e){const t=dT(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function pT(e,t){const r=fT(e),n=fT(t),a=+r-hT(r),i=+n-hT(n);return Math.round((a-i)/864e5)}function mT(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function yT(e){const t=dT(e),r=mT(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function gT(e){const t=dT(e);return pT(t,yT(t))+1}function vT(e,t){var r,n,a,i,o,s;const l=cT(),c=null!==(r=null!==(n=null!==(a=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==a?a:l.weekStartsOn)&&void 0!==n?n:null===(s=l.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==r?r:0,u=dT(e),d=u.getDay(),f=(d<c?7:0)+d-c;return u.setDate(u.getDate()-f),u.setHours(0,0,0,0),u}function bT(e){return vT(e,{weekStartsOn:1})}function xT(e){const t=dT(e),r=t.getFullYear(),n=mT(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=bT(n),i=mT(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=bT(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function wT(e){const t=xT(e),r=mT(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),bT(r)}function jT(e){const t=dT(e),r=+bT(t)-+wT(t);return Math.round(r/uT)+1}function _T(e,t){var r,n,a,i,o,s;const l=dT(e),c=l.getFullYear(),u=cT(),d=null!==(r=null!==(n=null!==(a=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==a?a:u.firstWeekContainsDate)&&void 0!==n?n:null===(s=u.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==r?r:1,f=mT(e,0);f.setFullYear(c+1,0,d),f.setHours(0,0,0,0);const h=vT(f,t),p=mT(e,0);p.setFullYear(c,0,d),p.setHours(0,0,0,0);const m=vT(p,t);return l.getTime()>=h.getTime()?c+1:l.getTime()>=m.getTime()?c:c-1}function kT(e,t){var r,n,a,i,o,s;const l=cT(),c=null!==(r=null!==(n=null!==(a=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==a?a:l.firstWeekContainsDate)&&void 0!==n?n:null===(s=l.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==r?r:1,u=_T(e,t),d=mT(e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return vT(d,t)}function ST(e,t){const r=dT(e),n=+vT(r,t)-+kT(r,t);return Math.round(n/uT)+1}function OT(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const NT={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return OT("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):OT(r+1,2)},d:(e,t)=>OT(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>OT(e.getHours()%12||12,t.length),H:(e,t)=>OT(e.getHours(),t.length),m:(e,t)=>OT(e.getMinutes(),t.length),s:(e,t)=>OT(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return OT(Math.trunc(n*Math.pow(10,r-3)),t.length)}},ET="midnight",PT="noon",AT="morning",TT="afternoon",CT="evening",MT="night",DT={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return NT.y(e,t)},Y:function(e,t,r,n){const a=_T(e,n),i=a>0?a:1-a;if("YY"===t){return OT(i%100,2)}return"Yo"===t?r.ordinalNumber(i,{unit:"year"}):OT(i,t.length)},R:function(e,t){return OT(xT(e),t.length)},u:function(e,t){return OT(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return OT(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return OT(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return NT.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return OT(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=ST(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):OT(a,t.length)},I:function(e,t,r){const n=jT(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):OT(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):NT.d(e,t)},D:function(e,t,r){const n=gT(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):OT(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return OT(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return OT(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return OT(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(a=12===n?PT:0===n?ET:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(a=n>=17?CT:n>=12?TT:n>=4?AT:MT,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return NT.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):NT.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):OT(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):OT(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):NT.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):NT.s(e,t)},S:function(e,t){return NT.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return RT(n);case"XXXX":case"XX":return LT(n);default:return LT(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return RT(n);case"xxxx":case"xx":return LT(n);default:return LT(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+IT(n,":");default:return"GMT"+LT(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+IT(n,":");default:return"GMT"+LT(n,":")}},t:function(e,t,r){return OT(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,r){return OT(e.getTime(),t.length)}};function IT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return 0===i?r+String(a):r+String(a)+t+OT(i,2)}function RT(e,t){if(e%60===0){return(e>0?"-":"+")+OT(Math.abs(e)/60,2)}return LT(e,t)}function LT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e);return r+OT(Math.trunc(n/60),2)+t+OT(n%60,2)}const FT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},zT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},UT={p:zT,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return FT(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",FT(n,t)).replace("{{time}}",zT(a,t))}},BT=/^D+$/,qT=/^Y+$/,VT=["D","DD","YY","YYYY"];function WT(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function HT(e){if(!WT(e)&&"number"!==typeof e)return!1;const t=dT(e);return!isNaN(Number(t))}const GT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KT=/^'([^]*?)'?$/,$T=/''/g,YT=/[a-zA-Z]/;function QT(e,t,r){var n,a,i,o,s,l,c,u,d,f,h,p,m,y;const g=cT(),v=null!==(n=null!==(a=null===r||void 0===r?void 0:r.locale)&&void 0!==a?a:g.locale)&&void 0!==n?n:sT,b=null!==(i=null!==(o=null!==(s=null!==(l=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==l?l:null===r||void 0===r||null===(c=r.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==s?s:g.firstWeekContainsDate)&&void 0!==o?o:null===(u=g.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==i?i:1,x=null!==(d=null!==(f=null!==(h=null!==(p=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==p?p:null===r||void 0===r||null===(m=r.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==h?h:g.weekStartsOn)&&void 0!==f?f:null===(y=g.locale)||void 0===y||null===(y=y.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==d?d:0,w=dT(e);if(!HT(w))throw new RangeError("Invalid time value");let j=t.match(ZT).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,UT[t])(e,v.formatLong)}return e})).join("").match(GT).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:XT(e)};if(DT[t])return{isToken:!0,value:e};if(t.match(YT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));v.localize.preprocessor&&(j=v.localize.preprocessor(w,j));const _={firstWeekContainsDate:b,weekStartsOn:x,locale:v};return j.map((n=>{if(!n.isToken)return n.value;const a=n.value;(null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!function(e){return qT.test(e)}(a))&&(null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!function(e){return BT.test(e)}(a))||function(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(n," to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,r);if(console.warn(n),VT.includes(e))throw new RangeError(n)}(a,t,String(e));return(0,DT[a[0]])(w,a,v.localize,_)})).join("")}function XT(e){const t=e.match(KT);return t?t[1].replace($T,"'"):e}const JT=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[s,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[d,f]=(0,n.useState)({start:QT((new Date).setDate((new Date).getDate()-7),"yyyy-MM-dd"),end:QT(new Date,"yyyy-MM-dd")}),[h,p]=(0,n.useState)(1),[m,y]=(0,n.useState)(!1);(0,n.useEffect)((()=>{g(),v()}),[]),(0,n.useEffect)((()=>{b()}),[e,s,c,d]);const g=async()=>{try{y(!0);const{data:e,error:r}=await Ra.from("audit_logs").select("\n          *,\n          user:users!user_id (\n            full_name,\n            email,\n            role\n          )\n        ").order("created_at",{ascending:!1}).limit(500);if(r)throw r;t(e||[])}catch(e){console.error("Error fetching audit logs:",e)}finally{y(!1)}},v=async()=>{try{const{data:e,error:t}=await Ra.from("users").select("id, full_name, email").order("full_name");if(t)throw t;o(e||[])}catch(e){console.error("Error fetching users:",e)}},b=()=>{let t=e;s&&(t=t.filter((e=>e.user_id===s))),c&&(t=t.filter((e=>e.action.toLowerCase().includes(c.toLowerCase())))),d.start&&d.end&&(t=t.filter((e=>{const t=new Date(e.created_at),r=new Date(d.start),n=new Date(d.end);return n.setHours(23,59,59,999),t>=r&&t<=n}))),a(t),p(1)},x=e=>{switch(e){case"admin":return"bg-purple-100 text-purple-800";case"teacher":return"bg-blue-100 text-blue-800";case"parent":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=Math.ceil(r.length/20),j=20*(h-1),_=j+20,k=r.slice(j,_);return(0,La.jsxs)("div",{className:"space-y-6",children:[(0,La.jsxs)("div",{className:"flex justify-between items-center",children:[(0,La.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),(0,La.jsxs)("div",{className:"flex items-center gap-2",children:[(0,La.jsx)(QA,{className:"w-5 h-5 text-primary-600"}),(0,La.jsx)("span",{className:"text-sm text-gray-600",children:"System Activity Monitoring"})]})]}),(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),(0,La.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User"}),(0,La.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"input-field",children:[(0,La.jsx)("option",{value:"",children:"All Users"}),i.map((e=>(0,La.jsxs)("option",{value:e.id,children:[e.full_name," (",e.email,")"]},e.id)))]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action"}),(0,La.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Filter by action...",className:"input-field"})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,La.jsx)("input",{type:"date",value:d.start,onChange:e=>f((t=>Re(Re({},t),{},{start:e.target.value}))),className:"input-field"})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,La.jsx)("input",{type:"date",value:d.end,onChange:e=>f((t=>Re(Re({},t),{},{end:e.target.value}))),className:"input-field"})]})]})]}),(0,La.jsx)("div",{className:"card",children:m?(0,La.jsx)("div",{className:"text-center py-8",children:(0,La.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"})}):(0,La.jsxs)(La.Fragment,{children:[(0,La.jsx)("div",{className:"overflow-x-auto",children:(0,La.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,La.jsx)("thead",{className:"bg-gray-50",children:(0,La.jsxs)("tr",{children:[(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Entity"}),(0,La.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),(0,La.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map((e=>{var t,r,n,a;return(0,La.jsxs)("tr",{children:[(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:QT(new Date(e.created_at),"MMM dd, yyyy HH:mm:ss")}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.user)||void 0===t?void 0:t.full_name)||"Unknown User"}),(0,La.jsx)("p",{className:"text-xs text-gray-500",children:null===(r=e.user)||void 0===r?void 0:r.email}),(null===(n=e.user)||void 0===n?void 0:n.role)&&(0,La.jsx)("span",{className:"inline-flex text-xs px-2 py-1 rounded-full mt-1 ".concat(x(e.user.role)),children:e.user.role})]})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,La.jsx)("span",{className:"text-sm font-medium ".concat((a=e.action,a.includes("create")||a.includes("add")?"text-green-600":a.includes("update")||a.includes("edit")?"text-blue-600":a.includes("delete")||a.includes("remove")?"text-red-600":a.includes("login")||a.includes("logout")?"text-purple-600":"text-gray-600")),children:e.action})}),(0,La.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.entity_type}),(0,La.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:(0,La.jsxs)("details",{className:"cursor-pointer",children:[(0,La.jsx)("summary",{className:"font-medium",children:"View Details"}),(0,La.jsxs)("div",{className:"mt-2 space-y-2",children:[e.old_values&&(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"font-medium text-gray-700",children:"Old Values:"}),(0,La.jsx)("pre",{className:"text-xs bg-gray-50 p-2 rounded",children:JSON.stringify(e.old_values,null,2)})]}),e.new_values&&(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"font-medium text-gray-700",children:"New Values:"}),(0,La.jsx)("pre",{className:"text-xs bg-gray-50 p-2 rounded",children:JSON.stringify(e.new_values,null,2)})]})]})]})})]},e.id)}))})]})}),(0,La.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,La.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",j+1," to ",Math.min(_,r.length)," of"," ",r.length," results"]}),(0,La.jsxs)("div",{className:"flex items-center gap-2",children:[(0,La.jsx)("button",{onClick:()=>p((e=>Math.max(e-1,1))),disabled:1===h,className:"px-3 py-1 rounded-md bg-gray-100 text-gray-700 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,La.jsx)(wP,{className:"w-4 h-4"})}),(0,La.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",h," of ",w]}),(0,La.jsx)("button",{onClick:()=>p((e=>Math.min(e+1,w))),disabled:h===w,className:"px-3 py-1 rounded-md bg-gray-100 text-gray-700 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,La.jsx)(jP,{className:"w-4 h-4"})})]})]})]})})]})},eC=tc.object({full_name:tc.string().min(2,"Full name is required"),email:tc.string().email("Invalid email address")}),tC=tc.object({current_password:tc.string().min(6,"Current password is required"),new_password:tc.string().min(6,"Password must be at least 6 characters"),confirm_password:tc.string().min(6,"Please confirm your password")}).refine((e=>e.new_password===e.confirm_password),{message:"Passwords don't match",path:["confirm_password"]}),rC=()=>{const{user:e}=za(),[t,r]=(0,n.useState)(""),[a,i]=(0,n.useState)(!1),[o,s]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),{register:u,handleSubmit:d,reset:f,formState:{errors:h}}=ko({resolver:Co(eC)}),{register:p,handleSubmit:m,reset:y,formState:{errors:g}}=ko({resolver:Co(tC)});(0,n.useEffect)((()=>{e&&(f({full_name:e.full_name,email:e.email}),r(e.profile_picture||""))}),[e,f]);return(0,La.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,La.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Picture"}),(0,La.jsxs)("div",{className:"flex items-center gap-6",children:[(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200",children:t?(0,La.jsx)("img",{src:t,alt:"Profile",className:"w-full h-full object-cover"}):(0,La.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,La.jsx)(Xa,{className:"w-12 h-12"})})}),(0,La.jsxs)("label",{className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700",children:[(0,La.jsx)(TP,{className:"w-4 h-4"}),(0,La.jsx)("input",{type:"file",accept:"image/*",onChange:async t=>{var n;const a=null===(n=t.target.files)||void 0===n?void 0:n[0];if(a)try{i(!0);const t=a.name.split(".").pop(),n="".concat(null===e||void 0===e?void 0:e.id,"-").concat(Date.now(),".").concat(t),o="profile-pictures/".concat(n),{error:s}=await Ra.storage.from("avatars").upload(o,a);if(s)throw s;const{data:{publicUrl:l}}=Ra.storage.from("avatars").getPublicUrl(o),{error:c}=await Ra.from("users").update({profile_picture:l,updated_at:(new Date).toISOString()}).eq("id",null===e||void 0===e?void 0:e.id);if(c)throw c;r(l),Yt.success("Profile picture updated successfully")}catch(o){console.error("Error uploading profile picture:",o),Yt.error(o.message||"Failed to upload profile picture")}finally{i(!1)}},className:"hidden",disabled:a})]})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Upload a profile picture. Max size: 5MB. Supported formats: JPG, PNG"}),t&&(0,La.jsx)("button",{onClick:async()=>{try{const{error:t}=await Ra.from("users").update({profile_picture:null,updated_at:(new Date).toISOString()}).eq("id",null===e||void 0===e?void 0:e.id);if(t)throw t;r(""),Yt.success("Profile picture removed")}catch(t){console.error("Error removing profile picture:",t),Yt.error(t.message||"Failed to remove profile picture")}},className:"text-sm text-red-600 hover:text-red-700",children:"Remove picture"})]})]})]}),(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),(0,La.jsxs)("form",{onSubmit:d((async t=>{try{s(!0);const{error:r}=await Ra.from("users").update({full_name:t.full_name,email:t.email,updated_at:(new Date).toISOString()}).eq("id",null===e||void 0===e?void 0:e.id);if(r)throw r;if(t.email!==(null===e||void 0===e?void 0:e.email)){const{error:e}=await Ra.auth.updateUser({email:t.email});if(e)throw e}Yt.success("Profile updated successfully")}catch(r){console.error("Error updating profile:",r),Yt.error(r.message||"Failed to update profile")}finally{s(!1)}})),className:"space-y-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)(Xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,La.jsx)("input",Re(Re({},u("full_name")),{},{type:"text",className:"input-field pl-10",placeholder:"Enter your full name"}))]}),h.full_name&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.full_name.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)(ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,La.jsx)("input",Re(Re({},u("email")),{},{type:"email",className:"input-field pl-10",placeholder:"Enter your email"}))]}),h.email&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.email.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),(0,La.jsx)("input",{type:"text",value:(null===e||void 0===e?void 0:e.role)||"",disabled:!0,className:"input-field capitalize bg-gray-50"})]}),(0,La.jsxs)("button",{type:"submit",disabled:o,className:"btn-primary",children:[(0,La.jsx)(RP,{className:"w-4 h-4 mr-2"}),o?"Updating...":"Update Profile"]})]})]}),(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),(0,La.jsxs)("form",{onSubmit:m((async e=>{try{c(!0);const{error:t}=await Ra.auth.updateUser({password:e.new_password});if(t)throw t;Yt.success("Password updated successfully"),y()}catch(t){console.error("Error updating password:",t),Yt.error(t.message||"Failed to update password")}finally{c(!1)}})),className:"space-y-4",children:[(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,La.jsx)("input",Re(Re({},p("current_password")),{},{type:"password",className:"input-field pl-10",placeholder:"Enter current password"}))]}),g.current_password&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.current_password.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,La.jsx)("input",Re(Re({},p("new_password")),{},{type:"password",className:"input-field pl-10",placeholder:"Enter new password"}))]}),g.new_password&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.new_password.message})]}),(0,La.jsxs)("div",{children:[(0,La.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,La.jsxs)("div",{className:"relative",children:[(0,La.jsx)(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,La.jsx)("input",Re(Re({},p("confirm_password")),{},{type:"password",className:"input-field pl-10",placeholder:"Confirm new password"}))]}),g.confirm_password&&(0,La.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.confirm_password.message})]}),(0,La.jsxs)("button",{type:"submit",disabled:l,className:"btn-primary",children:[(0,La.jsx)(oc,{className:"w-4 h-4 mr-2"}),l?"Updating...":"Update Password"]})]})]}),"admin"===(null===e||void 0===e?void 0:e.role)&&(0,La.jsxs)("div",{className:"card",children:[(0,La.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Two-Factor Authentication"}),(0,La.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Add an extra layer of security to your account by enabling two-factor authentication."}),(0,La.jsx)("button",{className:"btn-secondary",children:"Enable 2FA"})]})]})},nC=e=>{let{children:t,requiredRole:r}=e;const{user:n,loading:a,isRole:i}=za();return console.log("ProtectedRoute: loading:",a,"user:",n),a?(0,La.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,La.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n?r&&!r.some((e=>i(e)))?(console.log("ProtectedRoute: User lacks required role, redirecting to dashboard"),(0,La.jsx)(pe,{to:"/dashboard",replace:!0})):(0,La.jsx)(ei,{children:t}):(console.log("ProtectedRoute: No user, redirecting to login"),(0,La.jsx)(pe,{to:"/login",replace:!0}))},aC=e=>{let{children:t}=e;const{user:r,loading:n}=za();return console.log("PublicRoute: loading:",n,"user:",r),n?(0,La.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,La.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?(console.log("PublicRoute: User exists, redirecting to dashboard"),(0,La.jsx)(pe,{to:"/dashboard",replace:!0})):t};function iC(){return(0,La.jsxs)(ge,{children:[(0,La.jsx)(me,{path:"/login",element:(0,La.jsx)(aC,{children:(0,La.jsx)(pc,{})})}),(0,La.jsx)(me,{path:"/dashboard",element:(0,La.jsx)(nC,{children:(0,La.jsx)(pP,{})})}),(0,La.jsx)(me,{path:"/profile",element:(0,La.jsx)(nC,{children:(0,La.jsx)(rC,{})})}),(0,La.jsx)(me,{path:"/grades",element:(0,La.jsx)(nC,{children:(0,La.jsx)(UP,{})})}),(0,La.jsx)(me,{path:"/attendance",element:(0,La.jsx)(nC,{children:(0,La.jsx)(VP,{})})}),(0,La.jsx)(me,{path:"/reports",element:(0,La.jsx)(nC,{children:(0,La.jsx)($A,{})})}),(0,La.jsx)(me,{path:"/users",element:(0,La.jsx)(nC,{requiredRole:["admin"],children:(0,La.jsx)(NP,{})})}),(0,La.jsx)(me,{path:"/students",element:(0,La.jsx)(nC,{requiredRole:["admin","teacher"],children:(0,La.jsx)(IP,{})})}),(0,La.jsx)(me,{path:"/audit-logs",element:(0,La.jsx)(nC,{requiredRole:["admin"],children:(0,La.jsx)(JT,{})})}),(0,La.jsx)(me,{path:"/my-classes",element:(0,La.jsx)(nC,{requiredRole:["teacher"],children:(0,La.jsx)(IP,{})})}),(0,La.jsx)(me,{path:"/my-children",element:(0,La.jsx)(nC,{requiredRole:["parent"],children:(0,La.jsx)(YA,{})})}),(0,La.jsx)(me,{path:"/",element:(0,La.jsx)(pe,{to:"/dashboard",replace:!0})}),(0,La.jsx)(me,{path:"*",element:(0,La.jsx)(pe,{to:"/dashboard",replace:!0})})]})}const oC=function(){return(0,La.jsx)(Se,{children:(0,La.jsxs)(Ua,{children:[(0,La.jsx)($t,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#22c55e"}},error:{style:{background:"#ef4444"}}}}),(0,La.jsx)(iC,{})]})})},sC=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,6453)).then((t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:i,getTTFB:o}=t;r(e),n(e),a(e),i(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,La.jsx)(n.StrictMode,{children:(0,La.jsx)(oC,{})})),sC()})()})();
//# sourceMappingURL=main.3cc3ca9a.js.map